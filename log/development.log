

Started POST "/admin/sclasses/6/add_student" for 192.168.1.99 at 2012-09-05 16:08:42 +0000
  Processing by Admin::SclassesController#add_student as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCS13B04", "name"=>"杨逍"}, "commit"=>"增加学生", "id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'YCS13B04' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('杨逍@yucai.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('YCS13B04') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('杨逍@yucai.cn') LIMIT 1
save student false
Redirected to http://192.168.1.10:8080/admin/sclasses/6
Completed 302 Found in 247ms


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:08:43 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)
Rendered admin/sclasses/_form_teacher.html.erb (1.7ms)
Rendered admin/sclasses/_form_student.html.erb (1.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
  [1m[35mClassuser Load (0.2ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
Rendered admin/sclasses/show.html.erb within layouts/admin (21.0ms)
Rendered shared/_global_links.html.erb (1.2ms)
Rendered admin/shared/_tabs.html.erb (57.9ms)
Completed 200 OK in 213ms (Views: 87.6ms | ActiveRecord: 3.4ms)


Started POST "/admin/sclasses/6/add_student" for 192.168.1.99 at 2012-09-05 16:12:57 +0000
  Processing by Admin::SclassesController#add_student as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCS13B04", "name"=>"杨逍"}, "commit"=>"增加学生", "id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."name" = 'YCS13B04' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCS13B04@yucai.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('YCS13B04') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCS13B04@yucai.cn') LIMIT 1[0m
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "users" ("activated_at", "created_at", "current_sign_in_at", "current_sign_in_ip", "deleted_at", "email", "encrypted_password", "identity_url", "language", "last_sign_in_at", "last_sign_in_ip", "login", "name", "remember_created_at", "remember_token", "reset_password_token", "sign_in_count", "sname", "state", "twitter_token", "unumber", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["activated_at", nil], ["created_at", Wed, 05 Sep 2012 16:12:57 UTC +00:00], ["current_sign_in_at", nil], ["current_sign_in_ip", nil], ["deleted_at", nil], ["email", "YCS13B04@yucai.cn"], ["encrypted_password", "$2a$10$Cqv5tE2Gtixz97H9ov8odOR6nUpZ/fwHxhHNJK9N4Hm5GkysPCdh2"], ["identity_url", nil], ["language", "cn"], ["last_sign_in_at", nil], ["last_sign_in_ip", nil], ["login", "YCS13B04"], ["name", "杨逍"], ["remember_created_at", nil], ["remember_token", nil], ["reset_password_token", nil], ["sign_in_count", 0], ["sname", nil], ["state", "passive"], ["twitter_token", nil], ["unumber", nil], ["updated_at", Wed, 05 Sep 2012 16:12:57 UTC +00:00]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "profiles" ("created_at", "facebook_email", "location", "real_name", "updated_at", "user_id", "website") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 05 Sep 2012 16:12:57 UTC +00:00], ["facebook_email", nil], ["location", nil], ["real_name", nil], ["updated_at", Wed, 05 Sep 2012 16:12:57 UTC +00:00], ["user_id", nil], ["website", nil]]
  [1m[35mProfile Load (0.2ms)[0m  SELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 16 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mUPDATE "profiles" SET "user_id" = 16, "updated_at" = '2012-09-05 16:12:57.585910' WHERE "profiles"."id" = 16[0m
  [1m[35m (0.1ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YCS13B04@yucai.cn') AND "users"."id" != 16) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 16[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS13B04') AND "users"."id" != 16) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YCS13B04@yucai.cn') AND "users"."id" != 16) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "users" SET "login" = 'YCS13B04', "name" = '杨逍', "encrypted_password" = '$2a$10$Cqv5tE2Gtixz97H9ov8odOR6nUpZ/fwHxhHNJK9N4Hm5GkysPCdh2', "language" = 'cn', "email" = 'YCS13B04@yucai.cn', "created_at" = '2012-09-05 16:12:57.565795', "updated_at" = '2012-09-05 16:12:57.565795', "state" = 'active' WHERE "users"."id" = 16
save student info
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'student' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "roles_users" ("user_id", "role_id") VALUES (16, 2)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "classusers" ("created_at", "ltype", "sclass_id", "updated_at", "user_id", "username") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 05 Sep 2012 16:12:57 UTC +00:00], ["ltype", 1], ["sclass_id", 6], ["updated_at", Wed, 05 Sep 2012 16:12:57 UTC +00:00], ["user_id", 16], ["username", "杨逍"]]
Redirected to http://192.168.1.10:8080/admin/sclasses/6
Completed 302 Found in 490ms


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:12:57 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (1.8ms)
Rendered admin/sclasses/_form_student.html.erb (0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
  [1m[36mClassuser Load (0.2ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (26.4ms)
Rendered shared/_global_links.html.erb (0.8ms)
Rendered admin/shared/_tabs.html.erb (5.9ms)
Completed 200 OK in 175ms (Views: 39.2ms | ActiveRecord: 4.0ms)


Started POST "/admin/sclasses/6/add_student" for 192.168.1.99 at 2012-09-05 16:13:35 +0000
  Processing by Admin::SclassesController#add_student as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"Y5S13B04", "name"=>"范遥"}, "commit"=>"增加学生", "id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'Y5S13B04' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('Y5S13B04@yucai.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('Y5S13B04') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('Y5S13B04@yucai.cn') LIMIT 1
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "users" ("activated_at", "created_at", "current_sign_in_at", "current_sign_in_ip", "deleted_at", "email", "encrypted_password", "identity_url", "language", "last_sign_in_at", "last_sign_in_ip", "login", "name", "remember_created_at", "remember_token", "reset_password_token", "sign_in_count", "sname", "state", "twitter_token", "unumber", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["activated_at", nil], ["created_at", Wed, 05 Sep 2012 16:13:36 UTC +00:00], ["current_sign_in_at", nil], ["current_sign_in_ip", nil], ["deleted_at", nil], ["email", "Y5S13B04@yucai.cn"], ["encrypted_password", "$2a$10$1/4NqA54J8G2XPSn0xtRM.URLKAdB1BuBQGOSCEDj6jhRT2V7aoPK"], ["identity_url", nil], ["language", "cn"], ["last_sign_in_at", nil], ["last_sign_in_ip", nil], ["login", "Y5S13B04"], ["name", "范遥"], ["remember_created_at", nil], ["remember_token", nil], ["reset_password_token", nil], ["sign_in_count", 0], ["sname", nil], ["state", "passive"], ["twitter_token", nil], ["unumber", nil], ["updated_at", Wed, 05 Sep 2012 16:13:36 UTC +00:00]]
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "profiles" ("created_at", "facebook_email", "location", "real_name", "updated_at", "user_id", "website") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 05 Sep 2012 16:13:36 UTC +00:00], ["facebook_email", nil], ["location", nil], ["real_name", nil], ["updated_at", Wed, 05 Sep 2012 16:13:36 UTC +00:00], ["user_id", nil], ["website", nil]]
  [1m[36mProfile Load (0.2ms)[0m  [1mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 17 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  UPDATE "profiles" SET "user_id" = 17, "updated_at" = '2012-09-05 16:13:36.074072' WHERE "profiles"."id" = 17
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('Y5S13B04@yucai.cn') AND "users"."id" != 17) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 17
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('Y5S13B04') AND "users"."id" != 17) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('Y5S13B04@yucai.cn') AND "users"."id" != 17) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "users" SET "login" = 'Y5S13B04', "name" = '范遥', "encrypted_password" = '$2a$10$1/4NqA54J8G2XPSn0xtRM.URLKAdB1BuBQGOSCEDj6jhRT2V7aoPK', "language" = 'cn', "email" = 'Y5S13B04@yucai.cn', "created_at" = '2012-09-05 16:13:36.049612', "updated_at" = '2012-09-05 16:13:36.049612', "state" = 'active' WHERE "users"."id" = 17[0m
save student info
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'student' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "roles_users" ("user_id", "role_id") VALUES (17, 2)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "classusers" ("created_at", "ltype", "sclass_id", "updated_at", "user_id", "username") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 05 Sep 2012 16:13:36 UTC +00:00], ["ltype", 1], ["sclass_id", 6], ["updated_at", Wed, 05 Sep 2012 16:13:36 UTC +00:00], ["user_id", 17], ["username", "范遥"]]
Redirected to http://192.168.1.10:8080/admin/sclasses/6
Completed 302 Found in 322ms


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:13:36 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)
Rendered admin/sclasses/_form_teacher.html.erb (1.8ms)
Rendered admin/sclasses/_form_student.html.erb (1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
  [1m[35mClassuser Load (0.3ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
Rendered admin/sclasses/show.html.erb within layouts/admin (33.0ms)
Rendered shared/_global_links.html.erb (1.9ms)
Rendered admin/shared/_tabs.html.erb (9.1ms)
Completed 200 OK in 221ms (Views: 54.0ms | ActiveRecord: 4.5ms)


Started GET "/admin/orgs" for 192.168.1.99 at 2012-09-05 16:13:48 +0000
  Processing by Admin::OrgsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mGrade Load (0.2ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1[0m  [["id", 1]]
Rendered admin/grades/_form.html.erb (10.3ms)
  [1m[35mGrade Load (0.3ms)[0m  SELECT "grades".* FROM "grades" WHERE (id>1) ORDER BY gyear
Rendered admin/sclasses/_form.html.erb (11.6ms)
  [1m[36mGrade Load (0.2ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE ( id>1) ORDER BY gyear[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 2
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 2 ORDER BY name, name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 7
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 7 ORDER BY name, name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 3
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 3 ORDER BY name, name[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 5
  [1m[36mSclass Load (0.1ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 5 ORDER BY name, name[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 8
  [1m[36mSclass Load (0.1ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 8 ORDER BY name, name[0m
Rendered admin/orgs/index.html.erb within layouts/admin (48.2ms)
Rendered shared/_global_links.html.erb (1.0ms)
Rendered admin/shared/_tabs.html.erb (5.4ms)
Completed 200 OK in 197ms (Views: 59.3ms | ActiveRecord: 5.9ms)


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:13:51 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (1.9ms)
Rendered admin/sclasses/_form_student.html.erb (1.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
  [1m[36mClassuser Load (0.2ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (30.0ms)
Rendered shared/_global_links.html.erb (1.7ms)
Rendered admin/shared/_tabs.html.erb (5.6ms)
Completed 200 OK in 196ms (Views: 44.3ms | ActiveRecord: 5.1ms)


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:15:01 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.8ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.1ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (1.9ms)
Rendered admin/sclasses/_form_student.html.erb (1.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
  [1m[36mClassuser Load (0.1ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (82.4ms)
Rendered shared/_global_links.html.erb (1.6ms)
Rendered admin/shared/_tabs.html.erb (6.1ms)
Completed 200 OK in 226ms (Views: 96.4ms | ActiveRecord: 6.0ms)


Started POST "/admin/sclasses/6/add_teacher" for 192.168.1.99 at 2012-09-05 16:15:50 +0000
  Processing by Admin::SclassesController#add_teacher as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCTB03", "name"=>"风清扬"}, "commit"=>"增加教师", "id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'YCTB03' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCTB03@yucai.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('YCTB03') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCTB03@yucai.cn') LIMIT 1
Redirected to http://192.168.1.10:8080/admin/sclasses/6
Completed 302 Found in 251ms


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:15:50 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)
Rendered admin/sclasses/_form_teacher.html.erb (2.0ms)
Rendered admin/sclasses/_form_student.html.erb (1.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
  [1m[35mClassuser Load (0.1ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
Rendered admin/sclasses/show.html.erb within layouts/admin (30.1ms)
Rendered shared/_global_links.html.erb (1.2ms)
Rendered admin/shared/_tabs.html.erb (6.8ms)
Completed 200 OK in 179ms (Views: 44.4ms | ActiveRecord: 5.1ms)


Started POST "/admin/sclasses/6/add_teacher" for 192.168.1.99 at 2012-09-05 16:22:58 +0000
  Processing by Admin::SclassesController#add_teacher as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"sdf", "name"=>"sdf"}, "commit"=>"增加教师", "id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."name" = 'sdf' LIMIT 1
teacher namesdf
Completed 500 Internal Server Error in 248ms

ActionView::MissingTemplate (Missing template admin/sclasses/add_teacher, admin/base/add_teacher, application/add_teacher with {:handlers=>[:erb, :builder], :formats=>[:html], :locale=>[:cn, :cn]}. Searched in:
  * "/opt/railsapp/elearning/app/views"
  * "/usr/local/lib/ruby/gems/1.9.1/gems/declarative_authorization-0.5.3/app/views"
  * "/usr/local/lib/ruby/gems/1.9.1/gems/devise-1.4.9/app/views"
):
  

Rendered /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.2ms)


Started POST "/admin/sclasses/6/add_teacher" for 192.168.1.99 at 2012-09-05 16:23:34 +0000
  Processing by Admin::SclassesController#add_teacher as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"sdf", "name"=>"sdf"}, "commit"=>"增加教师", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.5ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."name" = 'sdf' LIMIT 1
teacher namesdf
Completed 500 Internal Server Error in 581ms

NameError (undefined local variable or method `sdfk' for #<Admin::SclassesController:0xa051bf8>):
  app/controllers/admin/sclasses_controller.rb:96:in `add_teacher'

Rendered /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.6ms)


Started POST "/admin/sclasses/6/add_teacher" for 192.168.1.99 at 2012-09-05 16:29:28 +0000
  Processing by Admin::SclassesController#add_teacher as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCTB03", "name"=>"风清扬"}, "commit"=>"增加教师", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.3ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."name" = 'YCTB03' LIMIT 1
teacher name  风清扬
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCTB03@yucai.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('YCTB03') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCTB03@yucai.cn') LIMIT 1[0m
Redirected to http://192.168.1.10:8080/admin/sclasses/6
Completed 302 Found in 252ms


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:29:28 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (1.5ms)
Rendered admin/sclasses/_form_student.html.erb (0.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
  [1m[36mClassuser Load (0.1ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (27.3ms)
Rendered shared/_global_links.html.erb (1.2ms)
Rendered admin/shared/_tabs.html.erb (6.9ms)
Completed 200 OK in 178ms (Views: 41.4ms | ActiveRecord: 4.9ms)


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:30:29 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
Permission denied: No matching rules found for index for #<Authorization::AnonymousUser:0xaad2f8c @role_symbols=[:guest]> (roles [:guest], privileges [:index, :read, :manage], context :admin_users).
Rendered text template (0.0ms)
Completed 403 Forbidden in 55ms (Views: 3.9ms | ActiveRecord: 1.4ms)


Started GET "/users/logout" for 192.168.1.99 at 2012-09-05 16:30:34 +0000
  Processing by UserSessionsController#destroy as HTML
Redirected to http://192.168.1.10:8080/
Completed 302 Found in 26ms


Started GET "/" for 192.168.1.99 at 2012-09-05 16:30:34 +0000
  Processing by DashboardController#index as HTML
Rendered dashboard/index.html.erb within layouts/application (69.7ms)
Rendered shared/_global_links.html.erb (1.0ms)
Rendered shared/_tabs.html.erb (1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-05 16:30:34.977014' AND ends_at >= '2012-09-05 16:30:34.977038')[0m
Completed 200 OK in 87ms (Views: 85.3ms | ActiveRecord: 0.7ms)


Started GET "/users/login" for 192.168.1.99 at 2012-09-05 16:30:36 +0000
  Processing by UserSessionsController#new as HTML
Rendered devise/shared/_links.erb (0.9ms)
Rendered user_sessions/new.html.erb within layouts/login (3.3ms)
Completed 200 OK in 107ms (Views: 8.5ms | ActiveRecord: 1.1ms)


Started POST "/users/login" for 192.168.1.99 at 2012-09-05 16:30:42 +0000
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nJxDoJbGGIQKxXo9Gl9HRVLZ4iMdYdFdLXaqZy+9i6Y=", "user"=>{"login"=>"yanjh", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"登录"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE (login = 'yanjh') LIMIT 1
  [1m[36m (1.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = '2012-09-05 15:39:47.566873', "current_sign_in_at" = '2012-09-05 16:30:42.619161', "sign_in_count" = 17, "updated_at" = '2012-09-05 16:30:42.620015' WHERE "users"."id" = 4[0m
Redirected to http://192.168.1.10:8080/
Completed 302 Found in 351ms


Started GET "/" for 192.168.1.99 at 2012-09-05 16:30:42 +0000
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
Rendered dashboard/index.html.erb within layouts/application (100.0ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered shared/_global_links.html.erb (15.5ms)
Rendered shared/_tabs.html.erb (1.8ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-05 16:30:43.036381' AND ends_at >= '2012-09-05 16:30:43.036411')
Completed 200 OK in 134ms (Views: 131.1ms | ActiveRecord: 2.2ms)


Started GET "/admin" for 192.168.1.99 at 2012-09-05 16:30:45 +0000
  Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered admin/dashboard/_sidebar.html.erb (1.6ms)
Rendered admin/dashboard/index.html.erb within layouts/admin (2.4ms)
Rendered shared/_global_links.html.erb (1.5ms)
Rendered admin/shared/_tabs.html.erb (6.4ms)
Completed 200 OK in 147ms (Views: 69.3ms | ActiveRecord: 1.9ms)


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:30:46 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 3
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 5
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
Rendered admin/users/index.html.erb within layouts/admin (39.6ms)
Rendered shared/_global_links.html.erb (1.3ms)
Rendered admin/shared/_tabs.html.erb (6.7ms)
Completed 200 OK in 170ms (Views: 52.5ms | ActiveRecord: 4.9ms)


Started GET "/admin/users/6/edit" for 192.168.1.99 at 2012-09-05 16:31:08 +0000
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "6"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (5.6ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (6.3ms)
Completed 200 OK in 140ms (Views: 70.7ms | ActiveRecord: 2.9ms)


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:31:13 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 3
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 5
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (1.7ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
Rendered admin/users/index.html.erb within layouts/admin (36.7ms)
Rendered shared/_global_links.html.erb (2.1ms)
Rendered admin/shared/_tabs.html.erb (5.3ms)
Completed 200 OK in 164ms (Views: 46.7ms | ActiveRecord: 6.4ms)


Started POST "/admin/sclasses/6/add_teacher" for 192.168.1.99 at 2012-09-05 16:31:47 +0000
  Processing by Admin::SclassesController#add_teacher as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCTA02", "name"=>"张三丰"}, "commit"=>"增加教师", "id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'YCTA02' LIMIT 1[0m
teacher name  张三丰
  [1m[35m (0.3ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCTA02@yucai.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('YCTA02') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCTA02@yucai.cn') LIMIT 1
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "users" ("activated_at", "created_at", "current_sign_in_at", "current_sign_in_ip", "deleted_at", "email", "encrypted_password", "identity_url", "language", "last_sign_in_at", "last_sign_in_ip", "login", "name", "remember_created_at", "remember_token", "reset_password_token", "sign_in_count", "sname", "state", "twitter_token", "unumber", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["activated_at", nil], ["created_at", Wed, 05 Sep 2012 16:31:48 UTC +00:00], ["current_sign_in_at", nil], ["current_sign_in_ip", nil], ["deleted_at", nil], ["email", "YCTA02@yucai.cn"], ["encrypted_password", "$2a$10$rwYaAsuswkkbJ9ebVSfgIe7SxcK7glTs0F1PwjXliX00YjGiXFn.O"], ["identity_url", nil], ["language", "cn"], ["last_sign_in_at", nil], ["last_sign_in_ip", nil], ["login", "YCTA02"], ["name", "张三丰"], ["remember_created_at", nil], ["remember_token", nil], ["reset_password_token", nil], ["sign_in_count", 0], ["sname", nil], ["state", "passive"], ["twitter_token", nil], ["unumber", nil], ["updated_at", Wed, 05 Sep 2012 16:31:48 UTC +00:00]]
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "profiles" ("created_at", "facebook_email", "location", "real_name", "updated_at", "user_id", "website") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 05 Sep 2012 16:31:48 UTC +00:00], ["facebook_email", nil], ["location", nil], ["real_name", nil], ["updated_at", Wed, 05 Sep 2012 16:31:48 UTC +00:00], ["user_id", nil], ["website", nil]]
  [1m[36mProfile Load (0.1ms)[0m  [1mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 18 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  UPDATE "profiles" SET "user_id" = 18, "updated_at" = '2012-09-05 16:31:48.174828' WHERE "profiles"."id" = 18
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YCTA02@yucai.cn') AND "users"."id" != 18) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 18
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCTA02') AND "users"."id" != 18) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YCTA02@yucai.cn') AND "users"."id" != 18) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "users" SET "login" = 'YCTA02', "name" = '张三丰', "encrypted_password" = '$2a$10$rwYaAsuswkkbJ9ebVSfgIe7SxcK7glTs0F1PwjXliX00YjGiXFn.O', "language" = 'cn', "email" = 'YCTA02@yucai.cn', "created_at" = '2012-09-05 16:31:48.153474', "updated_at" = '2012-09-05 16:31:48.153474', "state" = 'active' WHERE "users"."id" = 18[0m
teacher save 张三丰
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'teacher' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "roles_users" ("user_id", "role_id") VALUES (18, 3)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "classusers" ("created_at", "ltype", "sclass_id", "updated_at", "user_id", "username") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 05 Sep 2012 16:31:48 UTC +00:00], ["ltype", 0], ["sclass_id", 6], ["updated_at", Wed, 05 Sep 2012 16:31:48 UTC +00:00], ["user_id", 18], ["username", "张三丰"]]
Redirected to http://192.168.1.10:8080/admin/sclasses/6
Completed 302 Found in 350ms


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:31:48 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)
  [1m[36mClassuser Load (0.2ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (1.9ms)
Rendered admin/sclasses/_form_student.html.erb (1.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
  [1m[36mClassuser Load (0.1ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (31.1ms)
Rendered shared/_global_links.html.erb (1.3ms)
Rendered admin/shared/_tabs.html.erb (6.1ms)
Completed 200 OK in 179ms (Views: 44.6ms | ActiveRecord: 6.5ms)


Started GET "/admin/users/6" for 192.168.1.99 at 2012-09-05 16:35:26 +0000
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
Rendered admin/users/show.html.erb within layouts/admin (11.3ms)
Rendered shared/_global_links.html.erb (1.5ms)
Rendered admin/shared/_tabs.html.erb (9.3ms)
Completed 200 OK in 169ms (Views: 30.9ms | ActiveRecord: 4.0ms)


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:35:33 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 3
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 5
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (93.9ms)
Rendered shared/_global_links.html.erb (1.4ms)
Rendered admin/shared/_tabs.html.erb (5.7ms)
Completed 200 OK in 179ms (Views: 104.7ms | ActiveRecord: 5.5ms)


Started GET "/admin/users/18" for 192.168.1.99 at 2012-09-05 16:35:39 +0000
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "18"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
Rendered admin/users/show.html.erb within layouts/admin (7.5ms)
Rendered shared/_global_links.html.erb (1.3ms)
Rendered admin/shared/_tabs.html.erb (5.7ms)
Completed 200 OK in 156ms (Views: 22.1ms | ActiveRecord: 2.5ms)


Started DELETE "/admin/users/3" for 192.168.1.99 at 2012-09-05 16:36:13 +0000
  Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"nJxDoJbGGIQKxXo9Gl9HRVLZ4iMdYdFdLXaqZy+9i6Y=", "id"=>"3"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 3[0m
  [1m[35m (0.1ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('polish') AND "users"."id" != 3) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('polish@google.com') AND "users"."id" != 3) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "users" SET "deleted_at" = '2012-09-05 16:36:13.804799', "state" = 'deleted', "updated_at" = '2012-09-05 16:36:13.868852' WHERE "users"."id" = 3
Redirected to http://192.168.1.10:8080/admin/users
Completed 302 Found in 173ms


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:36:14 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 3
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 5
  [1m[36mRole Load (1.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (39.3ms)
Rendered shared/_global_links.html.erb (1.3ms)
Rendered admin/shared/_tabs.html.erb (6.6ms)
Completed 200 OK in 170ms (Views: 50.2ms | ActiveRecord: 6.0ms)


Started GET "/admin/users/3" for 192.168.1.99 at 2012-09-05 16:36:17 +0000
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (1.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35mRole Load (0.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 3
Rendered admin/users/show.html.erb within layouts/admin (12.2ms)
Rendered shared/_global_links.html.erb (80.7ms)
Rendered admin/shared/_tabs.html.erb (16.2ms)
Completed 200 OK in 254ms (Views: 123.7ms | ActiveRecord: 6.1ms)


Started DELETE "/admin/users/3/purge" for 192.168.1.99 at 2012-09-05 16:36:21 +0000
  Processing by Admin::UsersController#purge as HTML
  Parameters: {"authenticity_token"=>"nJxDoJbGGIQKxXo9Gl9HRVLZ4iMdYdFdLXaqZy+9i6Y=", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 3
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 3]]
Redirected to http://192.168.1.10:8080/admin/users
Completed 302 Found in 245ms


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:36:22 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 5
  [1m[36mRole Load (0.8ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.8ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (34.5ms)
Rendered shared/_global_links.html.erb (1.3ms)
Rendered admin/shared/_tabs.html.erb (4.8ms)
Completed 200 OK in 199ms (Views: 42.0ms | ActiveRecord: 8.6ms)


Started GET "/admin/users/5" for 192.168.1.99 at 2012-09-05 16:36:30 +0000
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "5"]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 5
Rendered admin/users/show.html.erb within layouts/admin (5.7ms)
Rendered shared/_global_links.html.erb (1.0ms)
Rendered admin/shared/_tabs.html.erb (6.8ms)
Completed 200 OK in 133ms (Views: 21.3ms | ActiveRecord: 3.0ms)


Started DELETE "/admin/users/5/purge" for 192.168.1.99 at 2012-09-05 16:36:33 +0000
  Processing by Admin::UsersController#purge as HTML
  Parameters: {"authenticity_token"=>"nJxDoJbGGIQKxXo9Gl9HRVLZ4iMdYdFdLXaqZy+9i6Y=", "id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "5"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 5
  [1m[36m (0.2ms)[0m  [1mDELETE FROM "roles_users" WHERE "roles_users"."user_id" = 5 AND "roles_users"."role_id" IN (2)[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 5]]
Redirected to http://192.168.1.10:8080/admin/users
Completed 302 Found in 192ms


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:36:33 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (1.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (36.0ms)
Rendered shared/_global_links.html.erb (1.0ms)
Rendered admin/shared/_tabs.html.erb (55.1ms)
Completed 200 OK in 220ms (Views: 95.1ms | ActiveRecord: 7.2ms)


Started GET "/admin/users/filter?by=roles&name=admin" for 192.168.1.99 at 2012-09-05 16:37:32 +0000
  Processing by Admin::UsersController#filter as HTML
  Parameters: {"by"=>"roles", "name"=>"admin"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'admin' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 1 LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/users/index.html.erb within layouts/admin (17.6ms)
Rendered shared/_global_links.html.erb (1.8ms)
Rendered admin/shared/_tabs.html.erb (5.7ms)
Completed 200 OK in 163ms (Views: 34.1ms | ActiveRecord: 3.8ms)


Started GET "/admin/users/filter?by=roles&name=teacher" for 192.168.1.99 at 2012-09-05 16:37:34 +0000
  Processing by Admin::UsersController#filter as HTML
  Parameters: {"by"=>"roles", "name"=>"teacher"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.9ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'teacher' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 3[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 3 LIMIT 20 OFFSET 0
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (19.6ms)
Rendered shared/_global_links.html.erb (1.7ms)
Rendered admin/shared/_tabs.html.erb (8.2ms)
Completed 200 OK in 195ms (Views: 38.6ms | ActiveRecord: 4.6ms)


Started GET "/admin/users/filter?by=roles&name=student" for 192.168.1.99 at 2012-09-05 16:37:38 +0000
  Processing by Admin::UsersController#filter as HTML
  Parameters: {"by"=>"roles", "name"=>"student"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (2.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'student' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 2
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 2 LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
Rendered admin/users/index.html.erb within layouts/admin (25.5ms)
Rendered shared/_global_links.html.erb (1.5ms)
Rendered admin/shared/_tabs.html.erb (6.8ms)
Completed 200 OK in 165ms (Views: 37.3ms | ActiveRecord: 6.5ms)


Started GET "/admin/users/filter?by=roles&name=admin" for 192.168.1.99 at 2012-09-05 16:38:02 +0000
  Processing by Admin::UsersController#filter as HTML
  Parameters: {"by"=>"roles", "name"=>"admin"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'admin' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 1 LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/users/index.html.erb within layouts/admin (11.7ms)
Rendered shared/_global_links.html.erb (1.4ms)
Rendered admin/shared/_tabs.html.erb (5.0ms)
Completed 200 OK in 153ms (Views: 25.3ms | ActiveRecord: 3.9ms)


Started GET "/admin/users/filter?by=roles&name=teacher" for 192.168.1.99 at 2012-09-05 16:38:06 +0000
  Processing by Admin::UsersController#filter as HTML
  Parameters: {"by"=>"roles", "name"=>"teacher"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'teacher' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 3[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 3 LIMIT 20 OFFSET 0
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (63.5ms)
Rendered shared/_global_links.html.erb (1.7ms)
Rendered admin/shared/_tabs.html.erb (4.4ms)
Completed 200 OK in 145ms (Views: 76.2ms | ActiveRecord: 2.8ms)


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:38:09 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (36.1ms)
Rendered shared/_global_links.html.erb (1.1ms)
Rendered admin/shared/_tabs.html.erb (5.2ms)
Completed 200 OK in 173ms (Views: 47.3ms | ActiveRecord: 4.8ms)


Started POST "/admin/sclasses/6/add_teacher" for 192.168.1.99 at 2012-09-05 16:38:43 +0000
  Processing by Admin::SclassesController#add_teacher as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCTB03", "name"=>""}, "commit"=>"增加教师", "id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."login" = 'YCTB03' LIMIT 1
teacher name  风清扬
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCTB03') AND "users"."id" != 6) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('t1@g.cn') AND "users"."id" != 6) LIMIT 1[0m
teacher save 风清扬
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'teacher' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "roles_users" ("user_id", "role_id") VALUES (6, 3)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "classusers" ("created_at", "ltype", "sclass_id", "updated_at", "user_id", "username") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 05 Sep 2012 16:38:43 UTC +00:00], ["ltype", 0], ["sclass_id", 6], ["updated_at", Wed, 05 Sep 2012 16:38:43 UTC +00:00], ["user_id", 6], ["username", "风清扬"]]
Redirected to http://192.168.1.10:8080/admin/sclasses/6
Completed 302 Found in 172ms


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:38:43 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)
  [1m[36mClassuser Load (0.1ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (1.3ms)
Rendered admin/sclasses/_form_student.html.erb (1.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
  [1m[36mClassuser Load (0.1ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (80.6ms)
Rendered shared/_global_links.html.erb (1.9ms)
Rendered admin/shared/_tabs.html.erb (6.4ms)
Completed 200 OK in 233ms (Views: 96.4ms | ActiveRecord: 2.7ms)


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:38:57 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (2.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
Rendered admin/users/index.html.erb within layouts/admin (82.0ms)
Rendered shared/_global_links.html.erb (3.9ms)
Rendered admin/shared/_tabs.html.erb (8.2ms)
Completed 200 OK in 313ms (Views: 102.8ms | ActiveRecord: 10.6ms)


Started GET "/admin/orgs" for 192.168.1.99 at 2012-09-05 16:39:18 +0000
  Processing by Admin::OrgsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mGrade Load (0.3ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1  [["id", 1]]
Rendered admin/grades/_form.html.erb (11.1ms)
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE (id>1) ORDER BY gyear[0m
Rendered admin/sclasses/_form.html.erb (10.8ms)
  [1m[35mGrade Load (0.2ms)[0m  SELECT "grades".* FROM "grades" WHERE ( id>1) ORDER BY gyear
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 2[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 2 ORDER BY name, name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 7[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 7 ORDER BY name, name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 3[0m
  [1m[35mSclass Load (0.0ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 3 ORDER BY name, name
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 5[0m
  [1m[35mSclass Load (0.8ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 5 ORDER BY name, name
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 8[0m
  [1m[35mSclass Load (0.1ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 8 ORDER BY name, name
Rendered admin/orgs/index.html.erb within layouts/admin (50.3ms)
Rendered shared/_global_links.html.erb (1.9ms)
Rendered admin/shared/_tabs.html.erb (6.1ms)
Completed 200 OK in 207ms (Views: 61.1ms | ActiveRecord: 7.3ms)


Started GET "/admin/sclasses/2" for 192.168.1.99 at 2012-09-05 16:39:22 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)
Rendered admin/sclasses/_form_teacher.html.erb (1.6ms)
Rendered admin/sclasses/_form_student.html.erb (1.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
  [1m[35mClassuser Load (0.1ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
Rendered admin/sclasses/show.html.erb within layouts/admin (34.1ms)
Rendered shared/_global_links.html.erb (1.7ms)
Rendered admin/shared/_tabs.html.erb (8.0ms)
Completed 200 OK in 178ms (Views: 49.5ms | ActiveRecord: 4.7ms)


Started POST "/admin/sclasses/2/add_student" for 192.168.1.99 at 2012-09-05 16:39:39 +0000
  Processing by Admin::SclassesController#add_student as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCS14A01", "name"=>""}, "commit"=>"增加学生", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."login" = 'YCS14A01' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 11[0m
  [1m[35m (0.1ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A01') AND "users"."id" != 11) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC@yucai.cn') AND "users"."id" != 11) LIMIT 1[0m
save student info
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'student' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "roles_users" ("user_id", "role_id") VALUES (11, 2)[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "classusers" ("created_at", "ltype", "sclass_id", "updated_at", "user_id", "username") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 05 Sep 2012 16:39:39 UTC +00:00], ["ltype", 1], ["sclass_id", 2], ["updated_at", Wed, 05 Sep 2012 16:39:39 UTC +00:00], ["user_id", 11], ["username", "YC"]]
Redirected to http://192.168.1.10:8080/admin/sclasses/2
Completed 302 Found in 231ms


Started GET "/admin/sclasses/2" for 192.168.1.99 at 2012-09-05 16:39:39 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)
Rendered admin/sclasses/_form_teacher.html.erb (2.2ms)
Rendered admin/sclasses/_form_student.html.erb (0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
  [1m[35mClassuser Load (1.0ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
Rendered admin/sclasses/show.html.erb within layouts/admin (36.8ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (7.3ms)
Completed 200 OK in 225ms (Views: 55.9ms | ActiveRecord: 5.9ms)


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:39:48 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (39.6ms)
Rendered shared/_global_links.html.erb (1.2ms)
Rendered admin/shared/_tabs.html.erb (5.7ms)
Completed 200 OK in 185ms (Views: 50.6ms | ActiveRecord: 12.2ms)


Started GET "/admin/users/11/edit" for 192.168.1.99 at 2012-09-05 16:39:52 +0000
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "11"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (5.4ms)
Rendered shared/_global_links.html.erb (1.4ms)
Rendered admin/shared/_tabs.html.erb (6.3ms)
Completed 200 OK in 137ms (Views: 18.5ms | ActiveRecord: 2.5ms)


Started PUT "/admin/users/11" for 192.168.1.99 at 2012-09-05 16:40:05 +0000
  Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCS14A01", "name"=>"令狐冲", "email"=>"YC@yucai.cn", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "language"=>"cn"}, "commit"=>"更新", "id"=>"11"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (2.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "11"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 11[0m
  [1m[35m (0.7ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A01') AND "users"."id" != 11) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC@yucai.cn') AND "users"."id" != 11) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "users" SET "name" = '令狐冲', "encrypted_password" = '$2a$10$N8x02aKIpoW1eR71HYkgau9QNM8Rp8dDzClZLij0Fu1eR0XMq.t5u', "updated_at" = '2012-09-05 16:40:05.553248' WHERE "users"."id" = 11
Redirected to http://192.168.1.10:8080/admin/users/11
Completed 302 Found in 256ms


Started GET "/admin/users/11" for 192.168.1.99 at 2012-09-05 16:40:05 +0000
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "11"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
Rendered admin/users/show.html.erb within layouts/admin (6.2ms)
Rendered shared/_global_links.html.erb (1.4ms)
Rendered admin/shared/_tabs.html.erb (5.2ms)
Completed 200 OK in 147ms (Views: 20.3ms | ActiveRecord: 3.1ms)


Started GET "/admin/sclasses/2" for 192.168.1.99 at 2012-09-05 16:40:12 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (3.1ms)
Rendered admin/sclasses/_form_student.html.erb (1.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
  [1m[36mClassuser Load (0.3ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (80.2ms)
Rendered shared/_global_links.html.erb (2.5ms)
Rendered admin/shared/_tabs.html.erb (5.4ms)
Completed 200 OK in 270ms (Views: 97.6ms | ActiveRecord: 4.8ms)


Started GET "/admin/users/11/edit" for 192.168.1.99 at 2012-09-05 16:52:03 +0000
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "11"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (7.1ms)
Rendered shared/_global_links.html.erb (1.5ms)
Rendered admin/shared/_tabs.html.erb (6.1ms)
Completed 200 OK in 149ms (Views: 22.2ms | ActiveRecord: 3.3ms)


Started GET "/admin/users/11/edit" for 192.168.1.99 at 2012-09-05 16:53:24 +0000
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "11"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (6.8ms)
Rendered shared/_global_links.html.erb (1.3ms)
Rendered admin/shared/_tabs.html.erb (60.7ms)
Completed 200 OK in 141ms (Views: 75.1ms | ActiveRecord: 2.1ms)
