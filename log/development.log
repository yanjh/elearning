

Started POST "/admin/sclasses/6/add_student" for 192.168.1.99 at 2012-09-05 16:08:42 +0000
  Processing by Admin::SclassesController#add_student as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCS13B04", "name"=>"杨逍"}, "commit"=>"增加学生", "id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'YCS13B04' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('杨逍@yucai.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('YCS13B04') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('杨逍@yucai.cn') LIMIT 1
save student false
Redirected to http://192.168.1.10:8080/admin/sclasses/6
Completed 302 Found in 247ms


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:08:43 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)
Rendered admin/sclasses/_form_teacher.html.erb (1.7ms)
Rendered admin/sclasses/_form_student.html.erb (1.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
  [1m[35mClassuser Load (0.2ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
Rendered admin/sclasses/show.html.erb within layouts/admin (21.0ms)
Rendered shared/_global_links.html.erb (1.2ms)
Rendered admin/shared/_tabs.html.erb (57.9ms)
Completed 200 OK in 213ms (Views: 87.6ms | ActiveRecord: 3.4ms)


Started POST "/admin/sclasses/6/add_student" for 192.168.1.99 at 2012-09-05 16:12:57 +0000
  Processing by Admin::SclassesController#add_student as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCS13B04", "name"=>"杨逍"}, "commit"=>"增加学生", "id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."name" = 'YCS13B04' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCS13B04@yucai.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('YCS13B04') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCS13B04@yucai.cn') LIMIT 1[0m
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "users" ("activated_at", "created_at", "current_sign_in_at", "current_sign_in_ip", "deleted_at", "email", "encrypted_password", "identity_url", "language", "last_sign_in_at", "last_sign_in_ip", "login", "name", "remember_created_at", "remember_token", "reset_password_token", "sign_in_count", "sname", "state", "twitter_token", "unumber", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["activated_at", nil], ["created_at", Wed, 05 Sep 2012 16:12:57 UTC +00:00], ["current_sign_in_at", nil], ["current_sign_in_ip", nil], ["deleted_at", nil], ["email", "YCS13B04@yucai.cn"], ["encrypted_password", "$2a$10$Cqv5tE2Gtixz97H9ov8odOR6nUpZ/fwHxhHNJK9N4Hm5GkysPCdh2"], ["identity_url", nil], ["language", "cn"], ["last_sign_in_at", nil], ["last_sign_in_ip", nil], ["login", "YCS13B04"], ["name", "杨逍"], ["remember_created_at", nil], ["remember_token", nil], ["reset_password_token", nil], ["sign_in_count", 0], ["sname", nil], ["state", "passive"], ["twitter_token", nil], ["unumber", nil], ["updated_at", Wed, 05 Sep 2012 16:12:57 UTC +00:00]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "profiles" ("created_at", "facebook_email", "location", "real_name", "updated_at", "user_id", "website") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 05 Sep 2012 16:12:57 UTC +00:00], ["facebook_email", nil], ["location", nil], ["real_name", nil], ["updated_at", Wed, 05 Sep 2012 16:12:57 UTC +00:00], ["user_id", nil], ["website", nil]]
  [1m[35mProfile Load (0.2ms)[0m  SELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 16 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mUPDATE "profiles" SET "user_id" = 16, "updated_at" = '2012-09-05 16:12:57.585910' WHERE "profiles"."id" = 16[0m
  [1m[35m (0.1ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YCS13B04@yucai.cn') AND "users"."id" != 16) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 16[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS13B04') AND "users"."id" != 16) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YCS13B04@yucai.cn') AND "users"."id" != 16) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "users" SET "login" = 'YCS13B04', "name" = '杨逍', "encrypted_password" = '$2a$10$Cqv5tE2Gtixz97H9ov8odOR6nUpZ/fwHxhHNJK9N4Hm5GkysPCdh2', "language" = 'cn', "email" = 'YCS13B04@yucai.cn', "created_at" = '2012-09-05 16:12:57.565795', "updated_at" = '2012-09-05 16:12:57.565795', "state" = 'active' WHERE "users"."id" = 16
save student info
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'student' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "roles_users" ("user_id", "role_id") VALUES (16, 2)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "classusers" ("created_at", "ltype", "sclass_id", "updated_at", "user_id", "username") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 05 Sep 2012 16:12:57 UTC +00:00], ["ltype", 1], ["sclass_id", 6], ["updated_at", Wed, 05 Sep 2012 16:12:57 UTC +00:00], ["user_id", 16], ["username", "杨逍"]]
Redirected to http://192.168.1.10:8080/admin/sclasses/6
Completed 302 Found in 490ms


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:12:57 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (1.8ms)
Rendered admin/sclasses/_form_student.html.erb (0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
  [1m[36mClassuser Load (0.2ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (26.4ms)
Rendered shared/_global_links.html.erb (0.8ms)
Rendered admin/shared/_tabs.html.erb (5.9ms)
Completed 200 OK in 175ms (Views: 39.2ms | ActiveRecord: 4.0ms)


Started POST "/admin/sclasses/6/add_student" for 192.168.1.99 at 2012-09-05 16:13:35 +0000
  Processing by Admin::SclassesController#add_student as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"Y5S13B04", "name"=>"范遥"}, "commit"=>"增加学生", "id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'Y5S13B04' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('Y5S13B04@yucai.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('Y5S13B04') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('Y5S13B04@yucai.cn') LIMIT 1
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "users" ("activated_at", "created_at", "current_sign_in_at", "current_sign_in_ip", "deleted_at", "email", "encrypted_password", "identity_url", "language", "last_sign_in_at", "last_sign_in_ip", "login", "name", "remember_created_at", "remember_token", "reset_password_token", "sign_in_count", "sname", "state", "twitter_token", "unumber", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["activated_at", nil], ["created_at", Wed, 05 Sep 2012 16:13:36 UTC +00:00], ["current_sign_in_at", nil], ["current_sign_in_ip", nil], ["deleted_at", nil], ["email", "Y5S13B04@yucai.cn"], ["encrypted_password", "$2a$10$1/4NqA54J8G2XPSn0xtRM.URLKAdB1BuBQGOSCEDj6jhRT2V7aoPK"], ["identity_url", nil], ["language", "cn"], ["last_sign_in_at", nil], ["last_sign_in_ip", nil], ["login", "Y5S13B04"], ["name", "范遥"], ["remember_created_at", nil], ["remember_token", nil], ["reset_password_token", nil], ["sign_in_count", 0], ["sname", nil], ["state", "passive"], ["twitter_token", nil], ["unumber", nil], ["updated_at", Wed, 05 Sep 2012 16:13:36 UTC +00:00]]
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "profiles" ("created_at", "facebook_email", "location", "real_name", "updated_at", "user_id", "website") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 05 Sep 2012 16:13:36 UTC +00:00], ["facebook_email", nil], ["location", nil], ["real_name", nil], ["updated_at", Wed, 05 Sep 2012 16:13:36 UTC +00:00], ["user_id", nil], ["website", nil]]
  [1m[36mProfile Load (0.2ms)[0m  [1mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 17 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  UPDATE "profiles" SET "user_id" = 17, "updated_at" = '2012-09-05 16:13:36.074072' WHERE "profiles"."id" = 17
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('Y5S13B04@yucai.cn') AND "users"."id" != 17) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 17
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('Y5S13B04') AND "users"."id" != 17) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('Y5S13B04@yucai.cn') AND "users"."id" != 17) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "users" SET "login" = 'Y5S13B04', "name" = '范遥', "encrypted_password" = '$2a$10$1/4NqA54J8G2XPSn0xtRM.URLKAdB1BuBQGOSCEDj6jhRT2V7aoPK', "language" = 'cn', "email" = 'Y5S13B04@yucai.cn', "created_at" = '2012-09-05 16:13:36.049612', "updated_at" = '2012-09-05 16:13:36.049612', "state" = 'active' WHERE "users"."id" = 17[0m
save student info
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'student' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "roles_users" ("user_id", "role_id") VALUES (17, 2)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "classusers" ("created_at", "ltype", "sclass_id", "updated_at", "user_id", "username") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 05 Sep 2012 16:13:36 UTC +00:00], ["ltype", 1], ["sclass_id", 6], ["updated_at", Wed, 05 Sep 2012 16:13:36 UTC +00:00], ["user_id", 17], ["username", "范遥"]]
Redirected to http://192.168.1.10:8080/admin/sclasses/6
Completed 302 Found in 322ms


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:13:36 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)
Rendered admin/sclasses/_form_teacher.html.erb (1.8ms)
Rendered admin/sclasses/_form_student.html.erb (1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
  [1m[35mClassuser Load (0.3ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
Rendered admin/sclasses/show.html.erb within layouts/admin (33.0ms)
Rendered shared/_global_links.html.erb (1.9ms)
Rendered admin/shared/_tabs.html.erb (9.1ms)
Completed 200 OK in 221ms (Views: 54.0ms | ActiveRecord: 4.5ms)


Started GET "/admin/orgs" for 192.168.1.99 at 2012-09-05 16:13:48 +0000
  Processing by Admin::OrgsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mGrade Load (0.2ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1[0m  [["id", 1]]
Rendered admin/grades/_form.html.erb (10.3ms)
  [1m[35mGrade Load (0.3ms)[0m  SELECT "grades".* FROM "grades" WHERE (id>1) ORDER BY gyear
Rendered admin/sclasses/_form.html.erb (11.6ms)
  [1m[36mGrade Load (0.2ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE ( id>1) ORDER BY gyear[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 2
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 2 ORDER BY name, name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 7
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 7 ORDER BY name, name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 3
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 3 ORDER BY name, name[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 5
  [1m[36mSclass Load (0.1ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 5 ORDER BY name, name[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 8
  [1m[36mSclass Load (0.1ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 8 ORDER BY name, name[0m
Rendered admin/orgs/index.html.erb within layouts/admin (48.2ms)
Rendered shared/_global_links.html.erb (1.0ms)
Rendered admin/shared/_tabs.html.erb (5.4ms)
Completed 200 OK in 197ms (Views: 59.3ms | ActiveRecord: 5.9ms)


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:13:51 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (1.9ms)
Rendered admin/sclasses/_form_student.html.erb (1.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
  [1m[36mClassuser Load (0.2ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (30.0ms)
Rendered shared/_global_links.html.erb (1.7ms)
Rendered admin/shared/_tabs.html.erb (5.6ms)
Completed 200 OK in 196ms (Views: 44.3ms | ActiveRecord: 5.1ms)


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:15:01 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.8ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.1ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (1.9ms)
Rendered admin/sclasses/_form_student.html.erb (1.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
  [1m[36mClassuser Load (0.1ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (82.4ms)
Rendered shared/_global_links.html.erb (1.6ms)
Rendered admin/shared/_tabs.html.erb (6.1ms)
Completed 200 OK in 226ms (Views: 96.4ms | ActiveRecord: 6.0ms)


Started POST "/admin/sclasses/6/add_teacher" for 192.168.1.99 at 2012-09-05 16:15:50 +0000
  Processing by Admin::SclassesController#add_teacher as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCTB03", "name"=>"风清扬"}, "commit"=>"增加教师", "id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'YCTB03' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCTB03@yucai.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('YCTB03') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCTB03@yucai.cn') LIMIT 1
Redirected to http://192.168.1.10:8080/admin/sclasses/6
Completed 302 Found in 251ms


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:15:50 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)
Rendered admin/sclasses/_form_teacher.html.erb (2.0ms)
Rendered admin/sclasses/_form_student.html.erb (1.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
  [1m[35mClassuser Load (0.1ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
Rendered admin/sclasses/show.html.erb within layouts/admin (30.1ms)
Rendered shared/_global_links.html.erb (1.2ms)
Rendered admin/shared/_tabs.html.erb (6.8ms)
Completed 200 OK in 179ms (Views: 44.4ms | ActiveRecord: 5.1ms)


Started POST "/admin/sclasses/6/add_teacher" for 192.168.1.99 at 2012-09-05 16:22:58 +0000
  Processing by Admin::SclassesController#add_teacher as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"sdf", "name"=>"sdf"}, "commit"=>"增加教师", "id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."name" = 'sdf' LIMIT 1
teacher namesdf
Completed 500 Internal Server Error in 248ms

ActionView::MissingTemplate (Missing template admin/sclasses/add_teacher, admin/base/add_teacher, application/add_teacher with {:handlers=>[:erb, :builder], :formats=>[:html], :locale=>[:cn, :cn]}. Searched in:
  * "/opt/railsapp/elearning/app/views"
  * "/usr/local/lib/ruby/gems/1.9.1/gems/declarative_authorization-0.5.3/app/views"
  * "/usr/local/lib/ruby/gems/1.9.1/gems/devise-1.4.9/app/views"
):
  

Rendered /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.2ms)


Started POST "/admin/sclasses/6/add_teacher" for 192.168.1.99 at 2012-09-05 16:23:34 +0000
  Processing by Admin::SclassesController#add_teacher as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"sdf", "name"=>"sdf"}, "commit"=>"增加教师", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.5ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."name" = 'sdf' LIMIT 1
teacher namesdf
Completed 500 Internal Server Error in 581ms

NameError (undefined local variable or method `sdfk' for #<Admin::SclassesController:0xa051bf8>):
  app/controllers/admin/sclasses_controller.rb:96:in `add_teacher'

Rendered /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3.6ms)


Started POST "/admin/sclasses/6/add_teacher" for 192.168.1.99 at 2012-09-05 16:29:28 +0000
  Processing by Admin::SclassesController#add_teacher as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCTB03", "name"=>"风清扬"}, "commit"=>"增加教师", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.3ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."name" = 'YCTB03' LIMIT 1
teacher name  风清扬
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCTB03@yucai.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('YCTB03') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCTB03@yucai.cn') LIMIT 1[0m
Redirected to http://192.168.1.10:8080/admin/sclasses/6
Completed 302 Found in 252ms


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:29:28 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (1.5ms)
Rendered admin/sclasses/_form_student.html.erb (0.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
  [1m[36mClassuser Load (0.1ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (27.3ms)
Rendered shared/_global_links.html.erb (1.2ms)
Rendered admin/shared/_tabs.html.erb (6.9ms)
Completed 200 OK in 178ms (Views: 41.4ms | ActiveRecord: 4.9ms)


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:30:29 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
Permission denied: No matching rules found for index for #<Authorization::AnonymousUser:0xaad2f8c @role_symbols=[:guest]> (roles [:guest], privileges [:index, :read, :manage], context :admin_users).
Rendered text template (0.0ms)
Completed 403 Forbidden in 55ms (Views: 3.9ms | ActiveRecord: 1.4ms)


Started GET "/users/logout" for 192.168.1.99 at 2012-09-05 16:30:34 +0000
  Processing by UserSessionsController#destroy as HTML
Redirected to http://192.168.1.10:8080/
Completed 302 Found in 26ms


Started GET "/" for 192.168.1.99 at 2012-09-05 16:30:34 +0000
  Processing by DashboardController#index as HTML
Rendered dashboard/index.html.erb within layouts/application (69.7ms)
Rendered shared/_global_links.html.erb (1.0ms)
Rendered shared/_tabs.html.erb (1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-05 16:30:34.977014' AND ends_at >= '2012-09-05 16:30:34.977038')[0m
Completed 200 OK in 87ms (Views: 85.3ms | ActiveRecord: 0.7ms)


Started GET "/users/login" for 192.168.1.99 at 2012-09-05 16:30:36 +0000
  Processing by UserSessionsController#new as HTML
Rendered devise/shared/_links.erb (0.9ms)
Rendered user_sessions/new.html.erb within layouts/login (3.3ms)
Completed 200 OK in 107ms (Views: 8.5ms | ActiveRecord: 1.1ms)


Started POST "/users/login" for 192.168.1.99 at 2012-09-05 16:30:42 +0000
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nJxDoJbGGIQKxXo9Gl9HRVLZ4iMdYdFdLXaqZy+9i6Y=", "user"=>{"login"=>"yanjh", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"登录"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE (login = 'yanjh') LIMIT 1
  [1m[36m (1.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = '2012-09-05 15:39:47.566873', "current_sign_in_at" = '2012-09-05 16:30:42.619161', "sign_in_count" = 17, "updated_at" = '2012-09-05 16:30:42.620015' WHERE "users"."id" = 4[0m
Redirected to http://192.168.1.10:8080/
Completed 302 Found in 351ms


Started GET "/" for 192.168.1.99 at 2012-09-05 16:30:42 +0000
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
Rendered dashboard/index.html.erb within layouts/application (100.0ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered shared/_global_links.html.erb (15.5ms)
Rendered shared/_tabs.html.erb (1.8ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-05 16:30:43.036381' AND ends_at >= '2012-09-05 16:30:43.036411')
Completed 200 OK in 134ms (Views: 131.1ms | ActiveRecord: 2.2ms)


Started GET "/admin" for 192.168.1.99 at 2012-09-05 16:30:45 +0000
  Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered admin/dashboard/_sidebar.html.erb (1.6ms)
Rendered admin/dashboard/index.html.erb within layouts/admin (2.4ms)
Rendered shared/_global_links.html.erb (1.5ms)
Rendered admin/shared/_tabs.html.erb (6.4ms)
Completed 200 OK in 147ms (Views: 69.3ms | ActiveRecord: 1.9ms)


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:30:46 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 3
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 5
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
Rendered admin/users/index.html.erb within layouts/admin (39.6ms)
Rendered shared/_global_links.html.erb (1.3ms)
Rendered admin/shared/_tabs.html.erb (6.7ms)
Completed 200 OK in 170ms (Views: 52.5ms | ActiveRecord: 4.9ms)


Started GET "/admin/users/6/edit" for 192.168.1.99 at 2012-09-05 16:31:08 +0000
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "6"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (5.6ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (6.3ms)
Completed 200 OK in 140ms (Views: 70.7ms | ActiveRecord: 2.9ms)


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:31:13 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 3
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 5
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (1.7ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
Rendered admin/users/index.html.erb within layouts/admin (36.7ms)
Rendered shared/_global_links.html.erb (2.1ms)
Rendered admin/shared/_tabs.html.erb (5.3ms)
Completed 200 OK in 164ms (Views: 46.7ms | ActiveRecord: 6.4ms)


Started POST "/admin/sclasses/6/add_teacher" for 192.168.1.99 at 2012-09-05 16:31:47 +0000
  Processing by Admin::SclassesController#add_teacher as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCTA02", "name"=>"张三丰"}, "commit"=>"增加教师", "id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'YCTA02' LIMIT 1[0m
teacher name  张三丰
  [1m[35m (0.3ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCTA02@yucai.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('YCTA02') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCTA02@yucai.cn') LIMIT 1
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "users" ("activated_at", "created_at", "current_sign_in_at", "current_sign_in_ip", "deleted_at", "email", "encrypted_password", "identity_url", "language", "last_sign_in_at", "last_sign_in_ip", "login", "name", "remember_created_at", "remember_token", "reset_password_token", "sign_in_count", "sname", "state", "twitter_token", "unumber", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["activated_at", nil], ["created_at", Wed, 05 Sep 2012 16:31:48 UTC +00:00], ["current_sign_in_at", nil], ["current_sign_in_ip", nil], ["deleted_at", nil], ["email", "YCTA02@yucai.cn"], ["encrypted_password", "$2a$10$rwYaAsuswkkbJ9ebVSfgIe7SxcK7glTs0F1PwjXliX00YjGiXFn.O"], ["identity_url", nil], ["language", "cn"], ["last_sign_in_at", nil], ["last_sign_in_ip", nil], ["login", "YCTA02"], ["name", "张三丰"], ["remember_created_at", nil], ["remember_token", nil], ["reset_password_token", nil], ["sign_in_count", 0], ["sname", nil], ["state", "passive"], ["twitter_token", nil], ["unumber", nil], ["updated_at", Wed, 05 Sep 2012 16:31:48 UTC +00:00]]
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "profiles" ("created_at", "facebook_email", "location", "real_name", "updated_at", "user_id", "website") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 05 Sep 2012 16:31:48 UTC +00:00], ["facebook_email", nil], ["location", nil], ["real_name", nil], ["updated_at", Wed, 05 Sep 2012 16:31:48 UTC +00:00], ["user_id", nil], ["website", nil]]
  [1m[36mProfile Load (0.1ms)[0m  [1mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 18 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  UPDATE "profiles" SET "user_id" = 18, "updated_at" = '2012-09-05 16:31:48.174828' WHERE "profiles"."id" = 18
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YCTA02@yucai.cn') AND "users"."id" != 18) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 18
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCTA02') AND "users"."id" != 18) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YCTA02@yucai.cn') AND "users"."id" != 18) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "users" SET "login" = 'YCTA02', "name" = '张三丰', "encrypted_password" = '$2a$10$rwYaAsuswkkbJ9ebVSfgIe7SxcK7glTs0F1PwjXliX00YjGiXFn.O', "language" = 'cn', "email" = 'YCTA02@yucai.cn', "created_at" = '2012-09-05 16:31:48.153474', "updated_at" = '2012-09-05 16:31:48.153474', "state" = 'active' WHERE "users"."id" = 18[0m
teacher save 张三丰
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'teacher' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "roles_users" ("user_id", "role_id") VALUES (18, 3)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "classusers" ("created_at", "ltype", "sclass_id", "updated_at", "user_id", "username") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 05 Sep 2012 16:31:48 UTC +00:00], ["ltype", 0], ["sclass_id", 6], ["updated_at", Wed, 05 Sep 2012 16:31:48 UTC +00:00], ["user_id", 18], ["username", "张三丰"]]
Redirected to http://192.168.1.10:8080/admin/sclasses/6
Completed 302 Found in 350ms


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:31:48 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)
  [1m[36mClassuser Load (0.2ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (1.9ms)
Rendered admin/sclasses/_form_student.html.erb (1.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
  [1m[36mClassuser Load (0.1ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (31.1ms)
Rendered shared/_global_links.html.erb (1.3ms)
Rendered admin/shared/_tabs.html.erb (6.1ms)
Completed 200 OK in 179ms (Views: 44.6ms | ActiveRecord: 6.5ms)


Started GET "/admin/users/6" for 192.168.1.99 at 2012-09-05 16:35:26 +0000
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
Rendered admin/users/show.html.erb within layouts/admin (11.3ms)
Rendered shared/_global_links.html.erb (1.5ms)
Rendered admin/shared/_tabs.html.erb (9.3ms)
Completed 200 OK in 169ms (Views: 30.9ms | ActiveRecord: 4.0ms)


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:35:33 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 3
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 5
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (93.9ms)
Rendered shared/_global_links.html.erb (1.4ms)
Rendered admin/shared/_tabs.html.erb (5.7ms)
Completed 200 OK in 179ms (Views: 104.7ms | ActiveRecord: 5.5ms)


Started GET "/admin/users/18" for 192.168.1.99 at 2012-09-05 16:35:39 +0000
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "18"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
Rendered admin/users/show.html.erb within layouts/admin (7.5ms)
Rendered shared/_global_links.html.erb (1.3ms)
Rendered admin/shared/_tabs.html.erb (5.7ms)
Completed 200 OK in 156ms (Views: 22.1ms | ActiveRecord: 2.5ms)


Started DELETE "/admin/users/3" for 192.168.1.99 at 2012-09-05 16:36:13 +0000
  Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"nJxDoJbGGIQKxXo9Gl9HRVLZ4iMdYdFdLXaqZy+9i6Y=", "id"=>"3"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 3[0m
  [1m[35m (0.1ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('polish') AND "users"."id" != 3) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('polish@google.com') AND "users"."id" != 3) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "users" SET "deleted_at" = '2012-09-05 16:36:13.804799', "state" = 'deleted', "updated_at" = '2012-09-05 16:36:13.868852' WHERE "users"."id" = 3
Redirected to http://192.168.1.10:8080/admin/users
Completed 302 Found in 173ms


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:36:14 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 3
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 5
  [1m[36mRole Load (1.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (39.3ms)
Rendered shared/_global_links.html.erb (1.3ms)
Rendered admin/shared/_tabs.html.erb (6.6ms)
Completed 200 OK in 170ms (Views: 50.2ms | ActiveRecord: 6.0ms)


Started GET "/admin/users/3" for 192.168.1.99 at 2012-09-05 16:36:17 +0000
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (1.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35mRole Load (0.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 3
Rendered admin/users/show.html.erb within layouts/admin (12.2ms)
Rendered shared/_global_links.html.erb (80.7ms)
Rendered admin/shared/_tabs.html.erb (16.2ms)
Completed 200 OK in 254ms (Views: 123.7ms | ActiveRecord: 6.1ms)


Started DELETE "/admin/users/3/purge" for 192.168.1.99 at 2012-09-05 16:36:21 +0000
  Processing by Admin::UsersController#purge as HTML
  Parameters: {"authenticity_token"=>"nJxDoJbGGIQKxXo9Gl9HRVLZ4iMdYdFdLXaqZy+9i6Y=", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 3
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 3]]
Redirected to http://192.168.1.10:8080/admin/users
Completed 302 Found in 245ms


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:36:22 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 5
  [1m[36mRole Load (0.8ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.8ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (34.5ms)
Rendered shared/_global_links.html.erb (1.3ms)
Rendered admin/shared/_tabs.html.erb (4.8ms)
Completed 200 OK in 199ms (Views: 42.0ms | ActiveRecord: 8.6ms)


Started GET "/admin/users/5" for 192.168.1.99 at 2012-09-05 16:36:30 +0000
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "5"]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 5
Rendered admin/users/show.html.erb within layouts/admin (5.7ms)
Rendered shared/_global_links.html.erb (1.0ms)
Rendered admin/shared/_tabs.html.erb (6.8ms)
Completed 200 OK in 133ms (Views: 21.3ms | ActiveRecord: 3.0ms)


Started DELETE "/admin/users/5/purge" for 192.168.1.99 at 2012-09-05 16:36:33 +0000
  Processing by Admin::UsersController#purge as HTML
  Parameters: {"authenticity_token"=>"nJxDoJbGGIQKxXo9Gl9HRVLZ4iMdYdFdLXaqZy+9i6Y=", "id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "5"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 5
  [1m[36m (0.2ms)[0m  [1mDELETE FROM "roles_users" WHERE "roles_users"."user_id" = 5 AND "roles_users"."role_id" IN (2)[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 5]]
Redirected to http://192.168.1.10:8080/admin/users
Completed 302 Found in 192ms


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:36:33 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (1.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (36.0ms)
Rendered shared/_global_links.html.erb (1.0ms)
Rendered admin/shared/_tabs.html.erb (55.1ms)
Completed 200 OK in 220ms (Views: 95.1ms | ActiveRecord: 7.2ms)


Started GET "/admin/users/filter?by=roles&name=admin" for 192.168.1.99 at 2012-09-05 16:37:32 +0000
  Processing by Admin::UsersController#filter as HTML
  Parameters: {"by"=>"roles", "name"=>"admin"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'admin' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 1 LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/users/index.html.erb within layouts/admin (17.6ms)
Rendered shared/_global_links.html.erb (1.8ms)
Rendered admin/shared/_tabs.html.erb (5.7ms)
Completed 200 OK in 163ms (Views: 34.1ms | ActiveRecord: 3.8ms)


Started GET "/admin/users/filter?by=roles&name=teacher" for 192.168.1.99 at 2012-09-05 16:37:34 +0000
  Processing by Admin::UsersController#filter as HTML
  Parameters: {"by"=>"roles", "name"=>"teacher"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.9ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'teacher' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 3[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 3 LIMIT 20 OFFSET 0
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (19.6ms)
Rendered shared/_global_links.html.erb (1.7ms)
Rendered admin/shared/_tabs.html.erb (8.2ms)
Completed 200 OK in 195ms (Views: 38.6ms | ActiveRecord: 4.6ms)


Started GET "/admin/users/filter?by=roles&name=student" for 192.168.1.99 at 2012-09-05 16:37:38 +0000
  Processing by Admin::UsersController#filter as HTML
  Parameters: {"by"=>"roles", "name"=>"student"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (2.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'student' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 2
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 2 LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
Rendered admin/users/index.html.erb within layouts/admin (25.5ms)
Rendered shared/_global_links.html.erb (1.5ms)
Rendered admin/shared/_tabs.html.erb (6.8ms)
Completed 200 OK in 165ms (Views: 37.3ms | ActiveRecord: 6.5ms)


Started GET "/admin/users/filter?by=roles&name=admin" for 192.168.1.99 at 2012-09-05 16:38:02 +0000
  Processing by Admin::UsersController#filter as HTML
  Parameters: {"by"=>"roles", "name"=>"admin"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'admin' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 1 LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/users/index.html.erb within layouts/admin (11.7ms)
Rendered shared/_global_links.html.erb (1.4ms)
Rendered admin/shared/_tabs.html.erb (5.0ms)
Completed 200 OK in 153ms (Views: 25.3ms | ActiveRecord: 3.9ms)


Started GET "/admin/users/filter?by=roles&name=teacher" for 192.168.1.99 at 2012-09-05 16:38:06 +0000
  Processing by Admin::UsersController#filter as HTML
  Parameters: {"by"=>"roles", "name"=>"teacher"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'teacher' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 3[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 3 LIMIT 20 OFFSET 0
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (63.5ms)
Rendered shared/_global_links.html.erb (1.7ms)
Rendered admin/shared/_tabs.html.erb (4.4ms)
Completed 200 OK in 145ms (Views: 76.2ms | ActiveRecord: 2.8ms)


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:38:09 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (36.1ms)
Rendered shared/_global_links.html.erb (1.1ms)
Rendered admin/shared/_tabs.html.erb (5.2ms)
Completed 200 OK in 173ms (Views: 47.3ms | ActiveRecord: 4.8ms)


Started POST "/admin/sclasses/6/add_teacher" for 192.168.1.99 at 2012-09-05 16:38:43 +0000
  Processing by Admin::SclassesController#add_teacher as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCTB03", "name"=>""}, "commit"=>"增加教师", "id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."login" = 'YCTB03' LIMIT 1
teacher name  风清扬
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCTB03') AND "users"."id" != 6) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('t1@g.cn') AND "users"."id" != 6) LIMIT 1[0m
teacher save 风清扬
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'teacher' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "roles_users" ("user_id", "role_id") VALUES (6, 3)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "classusers" ("created_at", "ltype", "sclass_id", "updated_at", "user_id", "username") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 05 Sep 2012 16:38:43 UTC +00:00], ["ltype", 0], ["sclass_id", 6], ["updated_at", Wed, 05 Sep 2012 16:38:43 UTC +00:00], ["user_id", 6], ["username", "风清扬"]]
Redirected to http://192.168.1.10:8080/admin/sclasses/6
Completed 302 Found in 172ms


Started GET "/admin/sclasses/6" for 192.168.1.99 at 2012-09-05 16:38:43 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)
  [1m[36mClassuser Load (0.1ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (1.3ms)
Rendered admin/sclasses/_form_student.html.erb (1.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
  [1m[36mClassuser Load (0.1ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (80.6ms)
Rendered shared/_global_links.html.erb (1.9ms)
Rendered admin/shared/_tabs.html.erb (6.4ms)
Completed 200 OK in 233ms (Views: 96.4ms | ActiveRecord: 2.7ms)


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:38:57 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (2.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
Rendered admin/users/index.html.erb within layouts/admin (82.0ms)
Rendered shared/_global_links.html.erb (3.9ms)
Rendered admin/shared/_tabs.html.erb (8.2ms)
Completed 200 OK in 313ms (Views: 102.8ms | ActiveRecord: 10.6ms)


Started GET "/admin/orgs" for 192.168.1.99 at 2012-09-05 16:39:18 +0000
  Processing by Admin::OrgsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mGrade Load (0.3ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1  [["id", 1]]
Rendered admin/grades/_form.html.erb (11.1ms)
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE (id>1) ORDER BY gyear[0m
Rendered admin/sclasses/_form.html.erb (10.8ms)
  [1m[35mGrade Load (0.2ms)[0m  SELECT "grades".* FROM "grades" WHERE ( id>1) ORDER BY gyear
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 2[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 2 ORDER BY name, name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 7[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 7 ORDER BY name, name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 3[0m
  [1m[35mSclass Load (0.0ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 3 ORDER BY name, name
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 5[0m
  [1m[35mSclass Load (0.8ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 5 ORDER BY name, name
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 8[0m
  [1m[35mSclass Load (0.1ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 8 ORDER BY name, name
Rendered admin/orgs/index.html.erb within layouts/admin (50.3ms)
Rendered shared/_global_links.html.erb (1.9ms)
Rendered admin/shared/_tabs.html.erb (6.1ms)
Completed 200 OK in 207ms (Views: 61.1ms | ActiveRecord: 7.3ms)


Started GET "/admin/sclasses/2" for 192.168.1.99 at 2012-09-05 16:39:22 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)
Rendered admin/sclasses/_form_teacher.html.erb (1.6ms)
Rendered admin/sclasses/_form_student.html.erb (1.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
  [1m[35mClassuser Load (0.1ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
Rendered admin/sclasses/show.html.erb within layouts/admin (34.1ms)
Rendered shared/_global_links.html.erb (1.7ms)
Rendered admin/shared/_tabs.html.erb (8.0ms)
Completed 200 OK in 178ms (Views: 49.5ms | ActiveRecord: 4.7ms)


Started POST "/admin/sclasses/2/add_student" for 192.168.1.99 at 2012-09-05 16:39:39 +0000
  Processing by Admin::SclassesController#add_student as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCS14A01", "name"=>""}, "commit"=>"增加学生", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."login" = 'YCS14A01' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 11[0m
  [1m[35m (0.1ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A01') AND "users"."id" != 11) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC@yucai.cn') AND "users"."id" != 11) LIMIT 1[0m
save student info
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'student' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "roles_users" ("user_id", "role_id") VALUES (11, 2)[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "classusers" ("created_at", "ltype", "sclass_id", "updated_at", "user_id", "username") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 05 Sep 2012 16:39:39 UTC +00:00], ["ltype", 1], ["sclass_id", 2], ["updated_at", Wed, 05 Sep 2012 16:39:39 UTC +00:00], ["user_id", 11], ["username", "YC"]]
Redirected to http://192.168.1.10:8080/admin/sclasses/2
Completed 302 Found in 231ms


Started GET "/admin/sclasses/2" for 192.168.1.99 at 2012-09-05 16:39:39 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.2ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)
Rendered admin/sclasses/_form_teacher.html.erb (2.2ms)
Rendered admin/sclasses/_form_student.html.erb (0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
  [1m[35mClassuser Load (1.0ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
Rendered admin/sclasses/show.html.erb within layouts/admin (36.8ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (7.3ms)
Completed 200 OK in 225ms (Views: 55.9ms | ActiveRecord: 5.9ms)


Started GET "/admin/users" for 192.168.1.99 at 2012-09-05 16:39:48 +0000
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
Rendered admin/users/index.html.erb within layouts/admin (39.6ms)
Rendered shared/_global_links.html.erb (1.2ms)
Rendered admin/shared/_tabs.html.erb (5.7ms)
Completed 200 OK in 185ms (Views: 50.6ms | ActiveRecord: 12.2ms)


Started GET "/admin/users/11/edit" for 192.168.1.99 at 2012-09-05 16:39:52 +0000
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "11"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (5.4ms)
Rendered shared/_global_links.html.erb (1.4ms)
Rendered admin/shared/_tabs.html.erb (6.3ms)
Completed 200 OK in 137ms (Views: 18.5ms | ActiveRecord: 2.5ms)


Started PUT "/admin/users/11" for 192.168.1.99 at 2012-09-05 16:40:05 +0000
  Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"diBZqX9DXJPIgsoOKmkTj79j0hidYkGJj+Mpfa+xyHg=", "user"=>{"login"=>"YCS14A01", "name"=>"令狐冲", "email"=>"YC@yucai.cn", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "language"=>"cn"}, "commit"=>"更新", "id"=>"11"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (2.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "11"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 11[0m
  [1m[35m (0.7ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A01') AND "users"."id" != 11) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC@yucai.cn') AND "users"."id" != 11) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "users" SET "name" = '令狐冲', "encrypted_password" = '$2a$10$N8x02aKIpoW1eR71HYkgau9QNM8Rp8dDzClZLij0Fu1eR0XMq.t5u', "updated_at" = '2012-09-05 16:40:05.553248' WHERE "users"."id" = 11
Redirected to http://192.168.1.10:8080/admin/users/11
Completed 302 Found in 256ms


Started GET "/admin/users/11" for 192.168.1.99 at 2012-09-05 16:40:05 +0000
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "11"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
Rendered admin/users/show.html.erb within layouts/admin (6.2ms)
Rendered shared/_global_links.html.erb (1.4ms)
Rendered admin/shared/_tabs.html.erb (5.2ms)
Completed 200 OK in 147ms (Views: 20.3ms | ActiveRecord: 3.1ms)


Started GET "/admin/sclasses/2" for 192.168.1.99 at 2012-09-05 16:40:12 +0000
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.2ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (3.1ms)
Rendered admin/sclasses/_form_student.html.erb (1.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
  [1m[36mClassuser Load (0.3ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (80.2ms)
Rendered shared/_global_links.html.erb (2.5ms)
Rendered admin/shared/_tabs.html.erb (5.4ms)
Completed 200 OK in 270ms (Views: 97.6ms | ActiveRecord: 4.8ms)


Started GET "/admin/users/11/edit" for 192.168.1.99 at 2012-09-05 16:52:03 +0000
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "11"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (7.1ms)
Rendered shared/_global_links.html.erb (1.5ms)
Rendered admin/shared/_tabs.html.erb (6.1ms)
Completed 200 OK in 149ms (Views: 22.2ms | ActiveRecord: 3.3ms)


Started GET "/admin/users/11/edit" for 192.168.1.99 at 2012-09-05 16:53:24 +0000
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "11"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (6.8ms)
Rendered shared/_global_links.html.erb (1.3ms)
Rendered admin/shared/_tabs.html.erb (60.7ms)
Completed 200 OK in 141ms (Views: 75.1ms | ActiveRecord: 2.1ms)
DEPRECATED! (configure_from_yaml) Please stop using YAML and use Ruby instead. This method will be removed in 2.9.


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 14:08:05 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
Permission denied: No matching rules found for index for #<Authorization::AnonymousUser:0xa1141bc @role_symbols=[:guest]> (roles [:guest], privileges [:index, :read, :manage], context :admin_users).
Rendered text template (0.0ms)
Completed 403 Forbidden in 285ms (Views: 147.7ms | ActiveRecord: 3.4ms)


Started GET "/" for 192.168.0.189 at 2012-09-06 14:08:12 +0800
  Processing by DashboardController#index as HTML
Rendered dashboard/index.html.erb within layouts/application (104.8ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered shared/_tabs.html.erb (3.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-06 06:08:12.442243' AND ends_at >= '2012-09-06 06:08:12.442282')
Completed 200 OK in 215ms (Views: 212.9ms | ActiveRecord: 1.7ms)


Started GET "/users/login" for 192.168.0.189 at 2012-09-06 14:08:14 +0800
  Processing by UserSessionsController#new as HTML
Rendered devise/shared/_links.erb (3.1ms)
Rendered user_sessions/new.html.erb within layouts/login (9.4ms)
Completed 200 OK in 196ms (Views: 19.7ms | ActiveRecord: 1.9ms)


Started POST "/users/login" for 192.168.0.189 at 2012-09-06 14:08:17 +0800
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"yanjh", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"登录"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE (login = 'yanjh') LIMIT 1[0m
  [1m[35m (1.8ms)[0m  UPDATE "users" SET "last_sign_in_at" = '2012-09-05 16:30:42.619161', "current_sign_in_at" = '2012-09-06 06:08:17.435412', "current_sign_in_ip" = '192.168.0.189', "sign_in_count" = 18, "updated_at" = '2012-09-06 06:08:17.436508' WHERE "users"."id" = 4
Redirected to http://192.168.0.90:8080/
Completed 302 Found in 515ms


Started GET "/" for 192.168.0.189 at 2012-09-06 14:08:17 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/application (177.5ms)
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered shared/_global_links.html.erb (278.3ms)
Rendered shared/_tabs.html.erb (7.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-06 06:08:18.211633' AND ends_at >= '2012-09-06 06:08:18.211670')[0m
Completed 200 OK in 489ms (Views: 483.5ms | ActiveRecord: 4.4ms)


Started GET "/admin" for 192.168.0.189 at 2012-09-06 14:08:20 +0800
  Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.9ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/dashboard/_sidebar.html.erb (4.1ms)
Rendered admin/dashboard/index.html.erb within layouts/admin (6.7ms)
Rendered shared/_global_links.html.erb (3.4ms)
Rendered admin/shared/_tabs.html.erb (15.7ms)
Completed 200 OK in 248ms (Views: 38.5ms | ActiveRecord: 4.6ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-06 14:08:23 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mGrade Load (0.4ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1  [["id", 1]]
Rendered admin/grades/_form.html.erb (36.9ms)
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE (id>1) ORDER BY gyear[0m
Rendered admin/sclasses/_form.html.erb (23.7ms)
  [1m[35mGrade Load (0.4ms)[0m  SELECT "grades".* FROM "grades" WHERE ( id>1) ORDER BY gyear
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 2[0m
  [1m[35mSclass Load (0.4ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 2 ORDER BY name, name
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 7[0m
  [1m[35mSclass Load (0.5ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 7 ORDER BY name, name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 3[0m
  [1m[35mSclass Load (0.4ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 3 ORDER BY name, name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 5[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 5 ORDER BY name, name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 8[0m
  [1m[35mSclass Load (0.4ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 8 ORDER BY name, name
Rendered admin/orgs/index.html.erb within layouts/admin (202.8ms)
Rendered shared/_global_links.html.erb (5.1ms)
Rendered admin/shared/_tabs.html.erb (14.9ms)
Completed 200 OK in 546ms (Views: 230.2ms | ActiveRecord: 10.9ms)


Started GET "/admin/sclasses/2" for 192.168.0.189 at 2012-09-06 14:08:31 +0800
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.3ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)
Rendered admin/sclasses/_form_teacher.html.erb (4.6ms)
Rendered admin/sclasses/_form_student.html.erb (4.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
  [1m[35mClassuser Load (0.3ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
Rendered admin/sclasses/show.html.erb within layouts/admin (66.0ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (14.1ms)
Completed 200 OK in 380ms (Views: 92.7ms | ActiveRecord: 6.6ms)


Started POST "/admin/sclasses/2/add_student" for 192.168.0.189 at 2012-09-06 14:09:09 +0800
  Processing by Admin::SclassesController#add_student as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"YC14A07", "name"=>""}, "commit"=>"增加学生", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.3ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."login" = 'YC14A07' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YC14A07@yucai.cn') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('YC14A07') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YC14A07@yucai.cn') LIMIT 1[0m
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (4.6ms)[0m  INSERT INTO "users" ("activated_at", "created_at", "current_sign_in_at", "current_sign_in_ip", "deleted_at", "email", "encrypted_password", "identity_url", "language", "last_sign_in_at", "last_sign_in_ip", "login", "name", "remember_created_at", "remember_token", "reset_password_token", "sign_in_count", "sname", "state", "twitter_token", "unumber", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["activated_at", nil], ["created_at", Thu, 06 Sep 2012 06:09:09 UTC +00:00], ["current_sign_in_at", nil], ["current_sign_in_ip", nil], ["deleted_at", nil], ["email", "YC14A07@yucai.cn"], ["encrypted_password", "$2a$10$i7DT353FCUOmL38MeRY9zua4FNqnoe10qQoI5upxhG1RVHWPn51i."], ["identity_url", nil], ["language", "cn"], ["last_sign_in_at", nil], ["last_sign_in_ip", nil], ["login", "YC14A07"], ["name", ""], ["remember_created_at", nil], ["remember_token", nil], ["reset_password_token", nil], ["sign_in_count", 0], ["sname", nil], ["state", "passive"], ["twitter_token", nil], ["unumber", nil], ["updated_at", Thu, 06 Sep 2012 06:09:09 UTC +00:00]]
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "profiles" ("created_at", "facebook_email", "location", "real_name", "updated_at", "user_id", "website") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 06 Sep 2012 06:09:09 UTC +00:00], ["facebook_email", nil], ["location", nil], ["real_name", nil], ["updated_at", Thu, 06 Sep 2012 06:09:09 UTC +00:00], ["user_id", nil], ["website", nil]]
  [1m[35mProfile Load (0.3ms)[0m  SELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "profiles" SET "user_id" = 19, "updated_at" = '2012-09-06 06:09:10.029697' WHERE "profiles"."id" = 19[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC14A07@yucai.cn') AND "users"."id" != 19) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 19[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YC14A07') AND "users"."id" != 19) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC14A07@yucai.cn') AND "users"."id" != 19) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  UPDATE "users" SET "login" = 'YC14A07', "encrypted_password" = '$2a$10$i7DT353FCUOmL38MeRY9zua4FNqnoe10qQoI5upxhG1RVHWPn51i.', "language" = 'cn', "email" = 'YC14A07@yucai.cn', "created_at" = '2012-09-06 06:09:09.913072', "updated_at" = '2012-09-06 06:09:09.913072', "state" = 'active' WHERE "users"."id" = 19
save student info
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'student' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "roles_users" ("user_id", "role_id") VALUES (19, 2)
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "classusers" ("created_at", "ltype", "sclass_id", "updated_at", "user_id", "username") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 06 Sep 2012 06:09:10 UTC +00:00], ["ltype", 1], ["sclass_id", 2], ["updated_at", Thu, 06 Sep 2012 06:09:10 UTC +00:00], ["user_id", 19], ["username", ""]]
Redirected to http://192.168.0.90:8080/admin/sclasses/2
Completed 302 Found in 737ms


Started GET "/admin/sclasses/2" for 192.168.0.189 at 2012-09-06 14:09:10 +0800
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (3.5ms)
Rendered admin/sclasses/_form_student.html.erb (2.3ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
  [1m[36mClassuser Load (0.3ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (59.9ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (81.8ms)
Completed 200 OK in 372ms (Views: 153.6ms | ActiveRecord: 6.9ms)


Started GET "/admin/users/11/edit" for 192.168.0.189 at 2012-09-06 14:09:22 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "11"]]
Rendered admin/shared/_error_messages.html.erb (1.4ms)
Rendered admin/users/edit.html.erb within layouts/admin (12.7ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.5ms)
Completed 200 OK in 247ms (Views: 40.0ms | ActiveRecord: 4.1ms)


Started GET "/admin/users/filter?by=roles&name=teacher" for 192.168.0.189 at 2012-09-06 14:09:44 +0800
  Processing by Admin::UsersController#filter as HTML
  Parameters: {"by"=>"roles", "name"=>"teacher"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'teacher' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 3
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 3 LIMIT 20 OFFSET 0[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
Rendered admin/users/index.html.erb within layouts/admin (34.6ms)
Rendered shared/_global_links.html.erb (3.0ms)
Rendered admin/shared/_tabs.html.erb (12.7ms)
Completed 200 OK in 266ms (Views: 60.4ms | ActiveRecord: 5.0ms)


Started GET "/admin/users/filter?by=roles&name=student" for 192.168.0.189 at 2012-09-06 14:09:47 +0800
  Processing by Admin::UsersController#filter as HTML
  Parameters: {"by"=>"roles", "name"=>"student"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'student' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 2
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "roles_users" ON "users"."id" = "roles_users"."user_id" WHERE "roles_users"."role_id" = 2 LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
Rendered admin/users/index.html.erb within layouts/admin (56.4ms)
Rendered shared/_global_links.html.erb (3.0ms)
Rendered admin/shared/_tabs.html.erb (12.9ms)
Completed 200 OK in 283ms (Views: 80.3ms | ActiveRecord: 6.6ms)


Started GET "/admin/users/14/edit" for 192.168.0.189 at 2012-09-06 14:09:57 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "14"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (9.3ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.7ms)
Completed 200 OK in 243ms (Views: 36.5ms | ActiveRecord: 5.3ms)


Started PUT "/admin/users/14" for 192.168.0.189 at 2012-09-06 14:10:25 +0800
  Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"YCS14A06", "name"=>"乔峰", "email"=>"YC14A06@yucai.cn", "language"=>"cn", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"更新", "id"=>"14"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.9ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "14"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 14[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A06') AND "users"."id" != 14) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC14A06@yucai.cn') AND "users"."id" != 14) LIMIT 1[0m
  [1m[35m (1.4ms)[0m  UPDATE "users" SET "name" = '乔峰', "encrypted_password" = '$2a$10$zB1160QzMZr6UkM72afRQ.6ngQqiQ1WPamUaUqXN4OZ/8vTEJYW.G', "updated_at" = '2012-09-06 06:10:26.181169' WHERE "users"."id" = 14
Redirected to http://192.168.0.90:8080/admin/users/14
Completed 302 Found in 442ms


Started GET "/admin/users/14" for 192.168.0.189 at 2012-09-06 14:10:26 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "14"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
Rendered admin/users/show.html.erb within layouts/admin (16.6ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.4ms)
Completed 200 OK in 249ms (Views: 43.0ms | ActiveRecord: 4.7ms)


Started POST "/admin/sclasses/2/add_student" for 192.168.0.189 at 2012-09-06 14:10:42 +0800
  Processing by Admin::SclassesController#add_student as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"YCS14A06", "name"=>""}, "commit"=>"增加学生", "id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."login" = 'YCS14A06' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 14
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A06') AND "users"."id" != 14) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC14A06@yucai.cn') AND "users"."id" != 14) LIMIT 1
save student info
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'student' LIMIT 1[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "roles_users" ("user_id", "role_id") VALUES (14, 2)
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "classusers" ("created_at", "ltype", "sclass_id", "updated_at", "user_id", "username") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 06 Sep 2012 06:10:42 UTC +00:00], ["ltype", 1], ["sclass_id", 2], ["updated_at", Thu, 06 Sep 2012 06:10:42 UTC +00:00], ["user_id", 14], ["username", "乔峰"]]
Redirected to http://192.168.0.90:8080/admin/sclasses/2
Completed 302 Found in 328ms


Started GET "/admin/sclasses/2" for 192.168.0.189 at 2012-09-06 14:10:42 +0800
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (3.9ms)
Rendered admin/sclasses/_form_student.html.erb (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
  [1m[36mClassuser Load (0.3ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (62.1ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (80.0ms)
Completed 200 OK in 374ms (Views: 154.5ms | ActiveRecord: 6.3ms)


Started POST "/admin/sclasses/2/add_student" for 192.168.0.189 at 2012-09-06 14:10:58 +0800
  Processing by Admin::SclassesController#add_student as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"YCS14A07", "name"=>""}, "commit"=>"增加学生", "id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."login" = 'YCS14A07' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCS14A07@yucai.cn') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('YCS14A07') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('YCS14A07@yucai.cn') LIMIT 1
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (5.6ms)[0m  [1mINSERT INTO "users" ("activated_at", "created_at", "current_sign_in_at", "current_sign_in_ip", "deleted_at", "email", "encrypted_password", "identity_url", "language", "last_sign_in_at", "last_sign_in_ip", "login", "name", "remember_created_at", "remember_token", "reset_password_token", "sign_in_count", "sname", "state", "twitter_token", "unumber", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["activated_at", nil], ["created_at", Thu, 06 Sep 2012 06:10:58 UTC +00:00], ["current_sign_in_at", nil], ["current_sign_in_ip", nil], ["deleted_at", nil], ["email", "YCS14A07@yucai.cn"], ["encrypted_password", "$2a$10$/hLBKPTUXbuBCqsRldpCouhfNWHpjbRsoDZC/cgwfW5oz/KJNdlp2"], ["identity_url", nil], ["language", "cn"], ["last_sign_in_at", nil], ["last_sign_in_ip", nil], ["login", "YCS14A07"], ["name", ""], ["remember_created_at", nil], ["remember_token", nil], ["reset_password_token", nil], ["sign_in_count", 0], ["sname", nil], ["state", "passive"], ["twitter_token", nil], ["unumber", nil], ["updated_at", Thu, 06 Sep 2012 06:10:58 UTC +00:00]]
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "profiles" ("created_at", "facebook_email", "location", "real_name", "updated_at", "user_id", "website") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Thu, 06 Sep 2012 06:10:58 UTC +00:00], ["facebook_email", nil], ["location", nil], ["real_name", nil], ["updated_at", Thu, 06 Sep 2012 06:10:58 UTC +00:00], ["user_id", nil], ["website", nil]]
  [1m[36mProfile Load (0.2ms)[0m  [1mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "profiles" SET "user_id" = 20, "updated_at" = '2012-09-06 06:10:58.818611' WHERE "profiles"."id" = 20
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YCS14A07@yucai.cn') AND "users"."id" != 20) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 20
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A07') AND "users"."id" != 20) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YCS14A07@yucai.cn') AND "users"."id" != 20) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mUPDATE "users" SET "login" = 'YCS14A07', "encrypted_password" = '$2a$10$/hLBKPTUXbuBCqsRldpCouhfNWHpjbRsoDZC/cgwfW5oz/KJNdlp2', "language" = 'cn', "email" = 'YCS14A07@yucai.cn', "created_at" = '2012-09-06 06:10:58.706359', "updated_at" = '2012-09-06 06:10:58.706359', "state" = 'active' WHERE "users"."id" = 20[0m
save student info
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'student' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "roles_users" ("user_id", "role_id") VALUES (20, 2)[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "classusers" ("created_at", "ltype", "sclass_id", "updated_at", "user_id", "username") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 06 Sep 2012 06:10:58 UTC +00:00], ["ltype", 1], ["sclass_id", 2], ["updated_at", Thu, 06 Sep 2012 06:10:58 UTC +00:00], ["user_id", 20], ["username", ""]]
Redirected to http://192.168.0.90:8080/admin/sclasses/2
Completed 302 Found in 649ms


Started GET "/admin/sclasses/2" for 192.168.0.189 at 2012-09-06 14:10:58 +0800
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.3ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)
Rendered admin/sclasses/_form_teacher.html.erb (4.0ms)
Rendered admin/sclasses/_form_student.html.erb (2.7ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
  [1m[35mClassuser Load (0.4ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
Rendered admin/sclasses/show.html.erb within layouts/admin (62.8ms)
Rendered shared/_global_links.html.erb (3.5ms)
Rendered admin/shared/_tabs.html.erb (13.8ms)
Completed 200 OK in 385ms (Views: 90.2ms | ActiveRecord: 8.2ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 14:11:14 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
Rendered admin/users/index.html.erb within layouts/admin (79.3ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.7ms)
Completed 200 OK in 313ms (Views: 102.9ms | ActiveRecord: 7.7ms)


Started GET "/admin/users/19/edit" for 192.168.0.189 at 2012-09-06 14:11:27 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "19"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (9.3ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (13.7ms)
Completed 200 OK in 245ms (Views: 37.1ms | ActiveRecord: 4.0ms)


Started PUT "/admin/users/19" for 192.168.0.189 at 2012-09-06 14:11:48 +0800
  Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"YC14A08", "name"=>"虚竹", "email"=>"YC14A07@yucai.cn", "language"=>"cn", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"更新", "id"=>"19"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "19"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 19[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YC14A08') AND "users"."id" != 19) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC14A07@yucai.cn') AND "users"."id" != 19) LIMIT 1[0m
  [1m[35m (1.2ms)[0m  UPDATE "users" SET "login" = 'YC14A08', "name" = '虚竹', "encrypted_password" = '$2a$10$QooUDejmQERAnW88VxeRBe/FfJ3tAHk/a0HqKIkuwq3bmuPeBqHzS', "updated_at" = '2012-09-06 06:11:48.864063' WHERE "users"."id" = 19
Redirected to http://192.168.0.90:8080/admin/users/19
Completed 302 Found in 449ms


Started GET "/admin/users/19" for 192.168.0.189 at 2012-09-06 14:11:48 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "19"]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" 
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
Rendered admin/users/show.html.erb within layouts/admin (15.9ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (13.2ms)
Completed 200 OK in 247ms (Views: 42.9ms | ActiveRecord: 5.5ms)


Started GET "/admin/sclasses/2" for 192.168.0.189 at 2012-09-06 14:11:59 +0800
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (3.5ms)
Rendered admin/sclasses/_form_student.html.erb (2.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
  [1m[36mClassuser Load (0.4ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (58.1ms)
Rendered shared/_global_links.html.erb (3.0ms)
Rendered admin/shared/_tabs.html.erb (80.2ms)
Completed 200 OK in 370ms (Views: 149.7ms | ActiveRecord: 7.6ms)


Started POST "/admin/sclasses/2/add_student" for 192.168.0.189 at 2012-09-06 14:13:02 +0800
  Processing by Admin::SclassesController#add_student as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"YC14A08", "name"=>""}, "commit"=>"增加学生", "id"=>"2"}
  [1m[35mUser Load (0.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."login" = 'YC14A08' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 19
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YC14A08') AND "users"."id" != 19) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC14A07@yucai.cn') AND "users"."id" != 19) LIMIT 1
save student info
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'student' LIMIT 1[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "roles_users" ("user_id", "role_id") VALUES (19, 2)
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "classusers" ("created_at", "ltype", "sclass_id", "updated_at", "user_id", "username") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 06 Sep 2012 06:13:03 UTC +00:00], ["ltype", 1], ["sclass_id", 2], ["updated_at", Thu, 06 Sep 2012 06:13:03 UTC +00:00], ["user_id", 19], ["username", "虚竹"]]
Redirected to http://192.168.0.90:8080/admin/sclasses/2
Completed 302 Found in 377ms


Started GET "/admin/sclasses/2" for 192.168.0.189 at 2012-09-06 14:13:03 +0800
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (3.6ms)
Rendered admin/sclasses/_form_student.html.erb (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
  [1m[36mClassuser Load (0.4ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (135.0ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (14.0ms)
Completed 200 OK in 390ms (Views: 162.1ms | ActiveRecord: 6.9ms)


Started GET "/admin/users/19/edit" for 192.168.0.189 at 2012-09-06 14:13:12 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"19"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "19"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (11.9ms)
Rendered shared/_global_links.html.erb (3.0ms)
Rendered admin/shared/_tabs.html.erb (82.2ms)
Completed 200 OK in 308ms (Views: 107.5ms | ActiveRecord: 3.9ms)


Started PUT "/admin/users/19" for 192.168.0.189 at 2012-09-06 14:13:25 +0800
  Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"YCS14A08", "name"=>"虚竹", "email"=>"YC14A07@yucai.cn", "language"=>"cn", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"更新", "id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "19"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 19
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A08') AND "users"."id" != 19) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC14A07@yucai.cn') AND "users"."id" != 19) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mUPDATE "users" SET "login" = 'YCS14A08', "encrypted_password" = '$2a$10$bQt47oLOmce9XJzAdr4yAOMAefAxJi1eJFSNRZThn/bx34a5o8ft.', "updated_at" = '2012-09-06 06:13:25.683807' WHERE "users"."id" = 19[0m
Redirected to http://192.168.0.90:8080/admin/users/19
Completed 302 Found in 452ms


Started GET "/admin/users/19" for 192.168.0.189 at 2012-09-06 14:13:25 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"19"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "19"]]
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
Rendered admin/users/show.html.erb within layouts/admin (15.3ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (14.1ms)
Completed 200 OK in 242ms (Views: 106.7ms | ActiveRecord: 4.8ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-06 14:13:37 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1[0m  [["id", 1]]
Rendered admin/grades/_form.html.erb (21.9ms)
  [1m[35mGrade Load (0.4ms)[0m  SELECT "grades".* FROM "grades" WHERE (id>1) ORDER BY gyear
Rendered admin/sclasses/_form.html.erb (22.5ms)
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE ( id>1) ORDER BY gyear[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 2
  [1m[36mSclass Load (0.4ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 2 ORDER BY name, name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 7
  [1m[36mSclass Load (0.5ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 7 ORDER BY name, name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 3
  [1m[36mSclass Load (0.4ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 3 ORDER BY name, name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 5
  [1m[36mSclass Load (0.3ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 5 ORDER BY name, name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 8
  [1m[36mSclass Load (0.4ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 8 ORDER BY name, name[0m
Rendered admin/orgs/index.html.erb within layouts/admin (100.5ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (13.4ms)
Completed 200 OK in 431ms (Views: 123.5ms | ActiveRecord: 11.5ms)


Started GET "/admin/sclasses/2" for 192.168.0.189 at 2012-09-06 14:13:40 +0800
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)[0m
Rendered admin/sclasses/_form_teacher.html.erb (3.5ms)
Rendered admin/sclasses/_form_student.html.erb (2.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
  [1m[36mClassuser Load (0.4ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
Rendered admin/sclasses/show.html.erb within layouts/admin (59.4ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (13.3ms)
Completed 200 OK in 304ms (Views: 85.3ms | ActiveRecord: 6.0ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:11:44 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
Rendered admin/users/index.html.erb within layouts/admin (107.8ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (84.1ms)
Completed 200 OK in 415ms (Views: 204.1ms | ActiveRecord: 7.5ms)


Started GET "/admin/users/8/edit" for 192.168.0.189 at 2012-09-06 15:11:49 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "8"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (802.8ms)
Completed 500 Internal Server Error in 1044ms

ActionView::Template::Error (undefined local variable or method `update_password_admin_users_url' for #<#<Class:0xa500988>:0xa5056cc>):
    16:         <%= cell("", (submit_tag t('admin.users.update_info')))%>
    17:     <% end -%>
    18:     <%= cell_separator %>
    19: 
    20:     <%= form_for [:admin, @user], :url => update_password_admin_users_url do |f| -%>
    21:         <%= cell((f.label :password), (f.password_field :password))%>
    22:         <%= cell((f.label :password_confirmation), (f.password_field :password_confirmation))%>
  app/views/admin/users/edit.html.erb:19:in `_app_views_admin_users_edit_html_erb___242367246_86534500'
  app/controllers/admin/users_controller.rb:137:in `edit'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.7ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.2ms)
DEPRECATED! (configure_from_yaml) Please stop using YAML and use Ruby instead. This method will be removed in 2.9.


Started GET "/admin/users/8/edit" for 192.168.0.189 at 2012-09-06 15:15:19 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "8"]]
Rendered admin/shared/_error_messages.html.erb (1.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (573.4ms)
Completed 500 Internal Server Error in 1150ms

ActionView::Template::Error (undefined local variable or method `update_password_admin_users_path' for #<#<Class:0xb8c2340>:0xa98bd68>):
    16:         <%= cell("", (submit_tag t('admin.users.update_info')))%>
    17:     <% end -%>
    18:     <%= cell_separator %>
    19: 
    20:     <%= form_for [:admin, @user], :url => update_password_admin_users_path do |f| -%>
    21:         <%= cell((f.label :password), (f.password_field :password))%>
    22:         <%= cell((f.label :password_confirmation), (f.password_field :password_confirmation))%>
  app/views/admin/users/edit.html.erb:19:in `_app_views_admin_users_edit_html_erb__997579565_97048370'
  app/controllers/admin/users_controller.rb:137:in `edit'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.0ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.6ms)


Started GET "/admin/users/8/edit" for 192.168.0.189 at 2012-09-06 15:15:23 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "8"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (415.9ms)
Completed 500 Internal Server Error in 617ms

ActionView::Template::Error (undefined local variable or method `update_password_admin_users_path' for #<#<Class:0xbbc2a7c>:0xbbcb3c0>):
    16:         <%= cell("", (submit_tag t('admin.users.update_info')))%>
    17:     <% end -%>
    18:     <%= cell_separator %>
    19: 
    20:     <%= form_for [:admin, @user], :url => update_password_admin_users_path do |f| -%>
    21:         <%= cell((f.label :password), (f.password_field :password))%>
    22:         <%= cell((f.label :password_confirmation), (f.password_field :password_confirmation))%>
  app/views/admin/users/edit.html.erb:19:in `_app_views_admin_users_edit_html_erb__997579565_97048370'
  app/controllers/admin/users_controller.rb:137:in `edit'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.4ms)
DEPRECATED! (configure_from_yaml) Please stop using YAML and use Ruby instead. This method will be removed in 2.9.
DEPRECATED! (configure_from_yaml) Please stop using YAML and use Ruby instead. This method will be removed in 2.9.


Started GET "/admin/users/8/edit" for 192.168.0.189 at 2012-09-06 15:19:25 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "8"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (12.6ms)
Rendered shared/_global_links.html.erb (4.5ms)
Rendered admin/shared/_tabs.html.erb (16.2ms)
Completed 200 OK in 245ms (Views: 48.2ms | ActiveRecord: 3.9ms)


Started PUT "/admin/users/8" for 192.168.0.189 at 2012-09-06 15:20:52 +0800
  Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"YCS14A02", "name"=>"陈家洛", "email"=>"ycs14a02@yc.cn", "language"=>"cn"}, "commit"=>"更新信息", "id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "8"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 8[0m
  [1m[35m (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A02') AND "users"."id" != 8) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('ycs14a02@yc.cn') AND "users"."id" != 8) LIMIT 1[0m
  [1m[35m (1.3ms)[0m  UPDATE "users" SET "name" = '陈家洛', "updated_at" = '2012-09-06 07:20:52.900255' WHERE "users"."id" = 8
Redirected to http://192.168.0.90:8080/admin/users/8
Completed 302 Found in 356ms


Started GET "/admin/users/8" for 192.168.0.189 at 2012-09-06 15:20:52 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "8"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
Rendered admin/users/show.html.erb within layouts/admin (17.2ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (14.0ms)
Completed 200 OK in 240ms (Views: 44.6ms | ActiveRecord: 4.3ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:22:07 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
Rendered admin/users/index.html.erb within layouts/admin (477.2ms)
Completed 500 Internal Server Error in 683ms

ActionView::Template::Error (undefined local variable or method `admin_users_search_path' for #<#<Class:0xb86f5f0>:0xb8764e0>):
    6: <% content_for :sidebar do -%>
    7:     <h2><%= t('.search') %> </h2>
    8:     <ul><li>
    9: 	<%= form_tag admin_users_search_path, :method => 'get' do %>
    10:             <%= text_field_tag :search, params[:search], :type => "" , :results => 5, :placeholder =>  t('.search_by') %>
    11:             <%= submit_tag  t('.search'), :name => nil %>
    12:         <% end %>
  app/views/admin/users/index.html.erb:9:in `block in _app_views_admin_users_index_html_erb__1053964253_96708970'
  app/views/admin/users/index.html.erb:6:in `_app_views_admin_users_index_html_erb__1053964253_96708970'
  app/controllers/admin/users_controller.rb:117:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.0ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:24:05 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
Rendered admin/users/index.html.erb within layouts/admin (86.6ms)
Rendered shared/_global_links.html.erb (3.0ms)
Rendered admin/shared/_tabs.html.erb (13.2ms)
Completed 200 OK in 312ms (Views: 109.7ms | ActiveRecord: 8.2ms)


Started GET "/admin/users/1/edit" for 192.168.0.189 at 2012-09-06 15:24:14 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (10.7ms)
Rendered shared/_global_links.html.erb (4.2ms)
Rendered admin/shared/_tabs.html.erb (14.0ms)
Completed 200 OK in 243ms (Views: 39.3ms | ActiveRecord: 4.0ms)


Started PUT "/admin/users/1" for 192.168.0.189 at 2012-09-06 15:24:21 +0800
  Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"admin", "name"=>"系统管理员", "email"=>"nospam@baseapp.local", "language"=>"cn"}, "commit"=>"更新信息", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('admin') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nospam@baseapp.local') AND "users"."id" != 1) LIMIT 1
  [1m[36m (1.2ms)[0m  [1mUPDATE "users" SET "name" = '系统管理员', "language" = 'cn', "updated_at" = '2012-09-06 07:24:22.020829' WHERE "users"."id" = 1[0m
Redirected to http://192.168.0.90:8080/admin/users/1
Completed 302 Found in 234ms


Started GET "/admin/users/1" for 192.168.0.189 at 2012-09-06 15:24:22 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.8ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
Rendered admin/users/show.html.erb within layouts/admin (13.6ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (14.0ms)
Completed 200 OK in 243ms (Views: 41.0ms | ActiveRecord: 4.9ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:24:29 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
Rendered admin/users/index.html.erb within layouts/admin (151.3ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (16.8ms)
Completed 200 OK in 379ms (Views: 178.1ms | ActiveRecord: 7.6ms)


Started GET "/admin/users/20/edit" for 192.168.0.189 at 2012-09-06 15:24:37 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"20"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "20"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (10.9ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.4ms)
Completed 200 OK in 236ms (Views: 37.5ms | ActiveRecord: 4.3ms)


Started PUT "/admin/users/20" for 192.168.0.189 at 2012-09-06 15:26:38 +0800
  Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"YCS14A07", "name"=>"江小鱼", "email"=>"YCS14A07@yucai.cn", "language"=>"cn"}, "commit"=>"更新信息", "id"=>"20"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "20"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 20[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A07') AND "users"."id" != 20) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YCS14A07@yucai.cn') AND "users"."id" != 20) LIMIT 1[0m
  [1m[35m (1.1ms)[0m  UPDATE "users" SET "name" = '江小鱼', "updated_at" = '2012-09-06 07:26:38.809948' WHERE "users"."id" = 20
Redirected to http://192.168.0.90:8080/admin/users/20
Completed 302 Found in 247ms


Started GET "/admin/users/20" for 192.168.0.189 at 2012-09-06 15:26:38 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "20"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
Rendered admin/users/show.html.erb within layouts/admin (14.0ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (13.6ms)
Completed 200 OK in 250ms (Views: 41.6ms | ActiveRecord: 4.6ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:26:59 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
Rendered admin/users/index.html.erb within layouts/admin (146.8ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.3ms)
Completed 200 OK in 304ms (Views: 169.8ms | ActiveRecord: 7.5ms)


Started GET "/admin/users/15/edit" for 192.168.0.189 at 2012-09-06 15:27:20 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "15"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (10.5ms)
Rendered shared/_global_links.html.erb (3.0ms)
Rendered admin/shared/_tabs.html.erb (81.0ms)
Completed 200 OK in 313ms (Views: 104.8ms | ActiveRecord: 4.0ms)


Started GET "/admin/users/15/edit" for 192.168.0.189 at 2012-09-06 15:27:41 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "15"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (10.5ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.5ms)
Completed 200 OK in 246ms (Views: 37.4ms | ActiveRecord: 4.0ms)


Started GET "/admin/users/1" for 192.168.0.189 at 2012-09-06 15:28:35 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
Rendered admin/users/show.html.erb within layouts/admin (13.0ms)
Rendered shared/_global_links.html.erb (3.0ms)
Rendered admin/shared/_tabs.html.erb (82.7ms)
Completed 200 OK in 306ms (Views: 108.8ms | ActiveRecord: 4.3ms)


Started GET "/admin/users/15/edit" for 192.168.0.189 at 2012-09-06 15:28:45 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "15"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (12.3ms)
Rendered shared/_global_links.html.erb (4.0ms)
Rendered admin/shared/_tabs.html.erb (13.7ms)
Completed 200 OK in 242ms (Views: 40.8ms | ActiveRecord: 4.4ms)


Started PUT "/admin/users/15" for 192.168.0.189 at 2012-09-06 15:29:08 +0800
  Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"YCS14A02", "name"=>"李寻欢", "email"=>"YCS14A02@yucai.cn", "language"=>"cn"}, "commit"=>"更新信息", "id"=>"15"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "15"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 15[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A02') AND "users"."id" != 15) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YCS14A02@yucai.cn') AND "users"."id" != 15) LIMIT 1[0m
Rendered admin/shared/_error_messages.html.erb (0.8ms)
Rendered admin/users/edit.html.erb within layouts/admin (11.5ms)
Rendered shared/_global_links.html.erb (3.4ms)
Rendered admin/shared/_tabs.html.erb (14.2ms)
Completed 200 OK in 339ms (Views: 40.2ms | ActiveRecord: 5.3ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:29:22 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
Rendered admin/users/index.html.erb within layouts/admin (80.6ms)
Rendered shared/_global_links.html.erb (71.0ms)
Rendered admin/shared/_tabs.html.erb (13.4ms)
Completed 200 OK in 377ms (Views: 172.9ms | ActiveRecord: 7.6ms)


Started GET "/admin/users/15/edit" for 192.168.0.189 at 2012-09-06 15:29:43 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "15"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (10.8ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (13.7ms)
Completed 200 OK in 242ms (Views: 38.6ms | ActiveRecord: 4.4ms)


Started PUT "/admin/users/15" for 192.168.0.189 at 2012-09-06 15:30:47 +0800
  Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"YCS14A10", "name"=>"周芷若", "email"=>"YCS14A02@yucai.cn", "language"=>"cn"}, "commit"=>"更新信息", "id"=>"15"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "15"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 15
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A10') AND "users"."id" != 15) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YCS14A02@yucai.cn') AND "users"."id" != 15) LIMIT 1
  [1m[36m (1.2ms)[0m  [1mUPDATE "users" SET "login" = 'YCS14A10', "name" = '周芷若', "updated_at" = '2012-09-06 07:30:47.556498' WHERE "users"."id" = 15[0m
Redirected to http://192.168.0.90:8080/admin/users/15
Completed 302 Found in 234ms


Started GET "/admin/users/15" for 192.168.0.189 at 2012-09-06 15:30:47 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "15"]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
Rendered admin/users/show.html.erb within layouts/admin (13.5ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (14.7ms)
Completed 200 OK in 240ms (Views: 41.9ms | ActiveRecord: 4.9ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:30:56 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (1.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
Rendered admin/users/index.html.erb within layouts/admin (146.0ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.3ms)
Completed 200 OK in 406ms (Views: 168.5ms | ActiveRecord: 8.4ms)


Started GET "/admin/users/13/edit" for 192.168.0.189 at 2012-09-06 15:31:08 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "13"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (10.5ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (80.5ms)
Completed 200 OK in 316ms (Views: 106.1ms | ActiveRecord: 4.3ms)


Started PUT "/admin/users/13" for 192.168.0.189 at 2012-09-06 15:31:26 +0800
  Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"YCS14A03", "name"=>"陈平之", "email"=>"YC3@yucai.cn", "language"=>"cn"}, "commit"=>"更新信息", "id"=>"13"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "13"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 13[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A03') AND "users"."id" != 13) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC3@yucai.cn') AND "users"."id" != 13) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  UPDATE "users" SET "name" = '陈平之', "updated_at" = '2012-09-06 07:31:27.088292' WHERE "users"."id" = 13
Redirected to http://192.168.0.90:8080/admin/users/13
Completed 302 Found in 243ms


Started GET "/admin/users/13" for 192.168.0.189 at 2012-09-06 15:31:27 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "13"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
Rendered admin/users/show.html.erb within layouts/admin (15.7ms)
Rendered shared/_global_links.html.erb (3.0ms)
Rendered admin/shared/_tabs.html.erb (13.3ms)
Completed 200 OK in 245ms (Views: 42.7ms | ActiveRecord: 4.4ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:31:50 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
Rendered admin/users/index.html.erb within layouts/admin (81.4ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.0ms)
Completed 200 OK in 329ms (Views: 104.3ms | ActiveRecord: 7.3ms)


Started GET "/admin/users/new" for 192.168.0.189 at 2012-09-06 15:36:30 +0800
  Processing by Admin::UsersController#new as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/new.html.erb within layouts/admin (9.9ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (13.4ms)
Completed 200 OK in 236ms (Views: 36.9ms | ActiveRecord: 3.4ms)


Started GET "/admin/users/new" for 192.168.0.189 at 2012-09-06 15:36:47 +0800
  Processing by Admin::UsersController#new as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/new.html.erb within layouts/admin (7.9ms)
Rendered shared/_global_links.html.erb (3.0ms)
Rendered admin/shared/_tabs.html.erb (79.9ms)
Completed 200 OK in 298ms (Views: 101.6ms | ActiveRecord: 3.4ms)


Started GET "/admin/users/8" for 192.168.0.189 at 2012-09-06 15:48:27 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "8"]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
Rendered admin/users/show.html.erb within layouts/admin (13.5ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (16.6ms)
Completed 200 OK in 215ms (Views: 43.5ms | ActiveRecord: 4.6ms)


Started GET "/admin/users/8" for 192.168.0.189 at 2012-09-06 15:49:45 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "8"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
Rendered admin/users/show.html.erb within layouts/admin (82.9ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.8ms)
Completed 200 OK in 247ms (Views: 111.1ms | ActiveRecord: 4.4ms)


Started PUT "/admin/users/8/suspend" for 192.168.0.189 at 2012-09-06 15:49:56 +0800
  Processing by Admin::UsersController#suspend as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "8"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 8[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A02') AND "users"."id" != 8) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('ycs14a02@yc.cn') AND "users"."id" != 8) LIMIT 1[0m
  [1m[35m (1.6ms)[0m  UPDATE "users" SET "state" = 'suspended', "updated_at" = '2012-09-06 07:49:56.931332' WHERE "users"."id" = 8
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 257ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:49:56 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
Rendered admin/users/index.html.erb within layouts/admin (498.8ms)
Completed 500 Internal Server Error in 711ms

ActionView::Template::Error (undefined method `operate_admin_users_url' for #<#<Class:0xa72fc7c>:0xb7c0a14>):
    60: 			<%= link_to t('admin.users.options.suspend'), suspend_admin_user_path(user), :method => :put %>
    61: 			<%= link_to t('admin.users.options.delete'), admin_user_url(user), :method => :delete, :confirm => "Are you sure?" %>
    62: 		<% elsif user.active? %>
    63: 			<%= link_to t('admin.users.options.suspend'), operate_admin_users_url(user,:by=>"suspend")  %>
    64: 			<%= link_to t('admin.users.options.delete'),  operate_admin_users_url(user,:by=>"active"), :confirm => "Are you sure?" %>
    65: 		<% elsif user.suspended? %>
    66: 			<%= link_to t('admin.users.options.unsuspend'), unsuspend_admin_user_url(user), :method => :put %>
  app/views/admin/users/index.html.erb:63:in `block in _app_views_admin_users_index_html_erb__1053964253_97336310'
  app/views/admin/users/index.html.erb:44:in `_app_views_admin_users_index_html_erb__1053964253_97336310'
  app/controllers/admin/users_controller.rb:120:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.5ms)


Started GET "/admin/users/8" for 192.168.0.189 at 2012-09-06 15:51:39 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "8"]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
Rendered admin/users/show.html.erb within layouts/admin (12.8ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (14.3ms)
Completed 200 OK in 252ms (Views: 111.6ms | ActiveRecord: 4.4ms)


Started GET "/admin/users/8" for 192.168.0.189 at 2012-09-06 15:52:22 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "8"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
Rendered admin/users/show.html.erb within layouts/admin (12.6ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.6ms)
Completed 200 OK in 256ms (Views: 39.4ms | ActiveRecord: 4.8ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:52:32 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
Rendered admin/users/index.html.erb within layouts/admin (523.9ms)
Completed 500 Internal Server Error in 743ms

ActionView::Template::Error (undefined method `operate_admin_users_url' for #<#<Class:0xbb110c4>:0xbb1a340>):
    60: 			<%= link_to t('admin.users.options.suspend'), suspend_admin_user_path(user), :method => :put %>
    61: 			<%= link_to t('admin.users.options.delete'), admin_user_url(user), :method => :delete, :confirm => "Are you sure?" %>
    62: 		<% elsif user.active? %>
    63: 			<%= link_to t('admin.users.options.suspend'), operate_admin_users_url(user),:by=>"suspend"  %>
    64: 			<%= link_to t('admin.users.options.delete'),  operate_admin_users_url(user),:by=>"active", :confirm => "Are you sure?" %>
    65: 		<% elsif user.suspended? %>
    66: 			<%= link_to t('admin.users.options.unsuspend'), unsuspend_admin_user_url(user), :method => :put %>
  app/views/admin/users/index.html.erb:63:in `block in _app_views_admin_users_index_html_erb__1053964253_98093520'
  app/views/admin/users/index.html.erb:44:in `_app_views_admin_users_index_html_erb__1053964253_98093520'
  app/controllers/admin/users_controller.rb:120:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.1ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.0ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:53:57 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
ERROR: compiling _app_views_admin_users_index_html_erb__1053964253_96589340 RAISED /opt/railsapp/el/app/views/admin/users/index.html.erb:64: syntax error, unexpected ','
...perate_admin_users_url(:user=>,:by=>"active"), :confirm => "...
...                               ^
/opt/railsapp/el/app/views/admin/users/index.html.erb:64: syntax error, unexpected tASSOC, expecting keyword_end
...r=>,:by=>"active"), :confirm => "Are you sure?" );@output_bu...
...                               ^
/opt/railsapp/el/app/views/admin/users/index.html.erb:64: syntax error, unexpected ')', expecting keyword_end
..., :confirm => "Are you sure?" );@output_buffer.safe_concat('
...                               ^
Function body:           def _app_views_admin_users_index_html_erb__1053964253_96589340(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "admin/users/index";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new; content_for :header do 
@output_buffer.safe_concat('	');@output_buffer.append= ( t('admin.users.title', :app => configatron.site_name) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	(');@output_buffer.append= ( t('.display', :count => @users.count));@output_buffer.safe_concat(')
'); end 
@output_buffer.safe_concat('  
'); content_for :sidebar do 
@output_buffer.safe_concat('    <h2>');@output_buffer.append= ( t('.search') );@output_buffer.safe_concat(' </h2>
    <ul><li>
	');@output_buffer.append=  form_tag search_admin_users_path, :method => 'get' do @output_buffer.safe_concat('
');@output_buffer.safe_concat('            ');@output_buffer.append= ( text_field_tag :search, params[:search], :type => "" , :results => 5, :placeholder =>  t('.search_by') );@output_buffer.safe_concat('
');@output_buffer.safe_concat('            ');@output_buffer.append= ( submit_tag  t('.search'), :name => nil );@output_buffer.safe_concat('
');         end 
@output_buffer.safe_concat('    </li></ul>

    <h2>');@output_buffer.append= ( t('.operation') );@output_buffer.safe_concat(' </h2>
    <ul><li>');@output_buffer.append= ( link_to t('.create_user'), new_admin_user_path );@output_buffer.safe_concat('</li>
		<li>');@output_buffer.append= ( link_to t('.purge_all'), new_admin_user_path );@output_buffer.safe_concat('</li>
	</ul>
    
    <h2>');@output_buffer.append= ( t('.filtr') );@output_buffer.safe_concat('</h2>
    <ul>
	<li>');@output_buffer.append= ( link_to t('.options.admin'),   filter_admin_users_url(:by=>"roles",:name=>"admin") );@output_buffer.safe_concat(' |
		');@output_buffer.append= ( link_to t('.options.teacher'), filter_admin_users_url(:by=>"roles",:name=>"teacher") );@output_buffer.safe_concat(' |
		');@output_buffer.append= ( link_to t('.options.student'), filter_admin_users_url(:by=>"roles",:name=>"student") );@output_buffer.safe_concat('</li>
 	<li>');@output_buffer.append= ( link_to t('.options.all'), admin_users_url );@output_buffer.safe_concat(' | 
		');@output_buffer.append= ( link_to t('.options.active'),    filter_admin_users_url(:by=>"active") );@output_buffer.safe_concat(' | 
		');@output_buffer.append= ( link_to t('.options.suspended'), filter_admin_users_url(:by=>"suspended") );@output_buffer.safe_concat(' | 
		');@output_buffer.append= ( link_to t('.options.pending'),   filter_admin_users_url(:by=>"pending") );@output_buffer.safe_concat(' | 
		');@output_buffer.append= ( link_to t('.options.deleted'),   filter_admin_users_url(:by=>"deleted") );@output_buffer.safe_concat('</li>
    </ul>
	
'); end 
@output_buffer.safe_concat('
<table class="index">
  <tr>
	<th>ID</th>
	<th>');@output_buffer.append= ( t('activerecord.attributes.user.login'));@output_buffer.safe_concat('</th>
	<th>');@output_buffer.append= ( t('activerecord.attributes.user.name'));@output_buffer.safe_concat('</th>
	<th>');@output_buffer.append= ( t('activerecord.attributes.user.email'));@output_buffer.safe_concat('</th>
	<th>');@output_buffer.append= ( t('activerecord.attributes.user.status'));@output_buffer.safe_concat('</th>
	<th>');@output_buffer.append= ( t('activerecord.attributes.user.admin'));@output_buffer.safe_concat('</th>
  </tr>
  
');   for user in @users 
@output_buffer.safe_concat('  <tr>
	<td>');@output_buffer.append= ( user.id );@output_buffer.safe_concat('</td>
	<td>');@output_buffer.append= ( link_to h(user.login || user.site_name), admin_user_url(user) );@output_buffer.safe_concat('</td>
	<td>');@output_buffer.append= ( user.name );@output_buffer.safe_concat('</td>
	<td>');@output_buffer.append= ( user.email );@output_buffer.safe_concat('</td>
	<td>');@output_buffer.append= ( user.state );@output_buffer.safe_concat('</td>
	<td>');@output_buffer.append= ( t('general.yes') if user.admin? );@output_buffer.safe_concat('</td>
	<td class="actions">
		');@output_buffer.append= ( link_to t('general.edit'), edit_admin_user_path(user) );@output_buffer.safe_concat('
');		 if user.pending? 
@output_buffer.safe_concat('			');@output_buffer.append= ( link_to t('admin.users.options.activate'), operate_admin_users_url(user,:by=>"active") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( link_to t('admin.users.options.suspend'), suspend_admin_user_url(user), :method => :put );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( link_to t('admin.users.options.delete'), admin_user_url(user), :method => :delete, :confirm => "Are you sure?" );@output_buffer.safe_concat('
');		 elsif user.passive? 
@output_buffer.safe_concat('			');@output_buffer.append= ( link_to t('admin.users.options.activate'), activate_admin_user_url(user), :method => :put );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( link_to t('admin.users.options.suspend'), suspend_admin_user_path(user), :method => :put );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( link_to t('admin.users.options.delete'), admin_user_url(user), :method => :delete, :confirm => "Are you sure?" );@output_buffer.safe_concat('
');		 elsif user.active? 
@output_buffer.safe_concat('			');@output_buffer.append= ( link_to t('admin.users.options.suspend'), operate_admin_users_url(:user=>user,:by=>"suspend")  );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( link_to t('admin.users.options.delete'),  operate_admin_users_url(:user=>,:by=>"active"), :confirm => "Are you sure?" );@output_buffer.safe_concat('
');		 elsif user.suspended? 
@output_buffer.safe_concat('			');@output_buffer.append= ( link_to t('admin.users.options.unsuspend'), unsuspend_admin_user_url(user), :method => :put );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( link_to t('admin.users.options.delete'), admin_user_url(user), :method => :delete, :confirm => "Are you sure?" );@output_buffer.safe_concat('		
');		 end 
@output_buffer.safe_concat('	</td>
  </tr>
');   end 
@output_buffer.safe_concat('</table>

');@output_buffer.append= ( will_paginate @users, :previous_label => t("general.prev_page"), :next_label => t("general.next_page"));@output_buffer.safe_concat('
');@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/template.rb:282:in `module_eval'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/template.rb:282:in `compile'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/template.rb:190:in `compile!'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/template.rb:143:in `block in render'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/notifications.rb:55:in `instrument'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/template.rb:142:in `render'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/notifications.rb:53:in `block in instrument'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/notifications.rb:53:in `instrument'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/renderer/template_renderer.rb:9:in `render'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/renderer/renderer.rb:36:in `render_template'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_view/renderer/renderer.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/abstract_controller/rendering.rb:120:in `_render_template'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/abstract_controller/rendering.rb:99:in `render'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/rendering.rb:16:in `render'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/usr/local/rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activerecord-3.1.1/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/mime_responds.rb:195:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/opt/railsapp/el/app/controllers/admin/users_controller.rb:120:in `index'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/abstract_controller/base.rb:167:in `process_action'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/rendering.rb:10:in `process_action'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/callbacks.rb:443:in `_run__190994627__process_action__1052973567__callbacks'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/callbacks.rb:81:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/notifications.rb:53:in `block in instrument'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/notifications.rb:53:in `instrument'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activerecord-3.1.1/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/abstract_controller/base.rb:121:in `process'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/abstract_controller/rendering.rb:45:in `process'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal.rb:193:in `dispatch'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_controller/metal.rb:236:in `block in action'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/routing/route_set.rb:65:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/routing/route_set.rb:29:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:110:in `optimized_each'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/routing/route_set.rb:532:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/oa-core-0.3.2/lib/omniauth/strategy.rb:44:in `call!'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/oa-core-0.3.2/lib/omniauth/strategy.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/oa-core-0.3.2/lib/omniauth/strategy.rb:44:in `call!'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/oa-core-0.3.2/lib/omniauth/strategy.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/oa-core-0.3.2/lib/omniauth/builder.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/warden-1.0.6/lib/warden/manager.rb:35:in `block in call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/warden-1.0.6/lib/warden/manager.rb:34:in `catch'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/warden-1.0.6/lib/warden/manager.rb:34:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-1.3.6/lib/rack/etag.rb:23:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-1.3.6/lib/rack/conditionalget.rb:25:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/flash.rb:243:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-1.3.6/lib/rack/session/abstract/id.rb:195:in `context'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-1.3.6/lib/rack/session/abstract/id.rb:190:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/cookies.rb:331:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activerecord-3.1.1/lib/active_record/query_cache.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activerecord-3.1.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/callbacks.rb:81:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-1.3.6/lib/rack/sendfile.rb:101:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/railties-3.1.1/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-1.3.6/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-1.3.6/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/activesupport-3.1.1/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-1.3.6/lib/rack/lock.rb:15:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/static.rb:53:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/railties-3.1.1/lib/rails/engine.rb:456:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/railties-3.1.1/lib/rails/railtie/configurable.rb:30:in `method_missing'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-1.3.6/lib/rack/lint.rb:48:in `_call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-1.3.6/lib/rack/lint.rb:36:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-1.3.6/lib/rack/showexceptions.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-1.3.6/lib/rack/commonlogger.rb:20:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-1.3.6/lib/rack/chunked.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/rack-1.3.6/lib/rack/content_length.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/unicorn-4.1.1/lib/unicorn/http_server.rb:528:in `process_client'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/unicorn-4.1.1/lib/unicorn/http_server.rb:600:in `worker_loop'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/unicorn-4.1.1/lib/unicorn/http_server.rb:485:in `spawn_missing_workers'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/unicorn-4.1.1/lib/unicorn/http_server.rb:135:in `start'
/usr/local/rvm/gems/ruby-1.9.3-p125/gems/unicorn-4.1.1/bin/unicorn:121:in `<top (required)>'
/usr/local/rvm/gems/ruby-1.9.3-p125/bin/unicorn:19:in `load'
/usr/local/rvm/gems/ruby-1.9.3-p125/bin/unicorn:19:in `<main>'
Rendered admin/users/index.html.erb within layouts/admin (4.1ms)
Completed 500 Internal Server Error in 213ms

ActionView::Template::Error (/opt/railsapp/el/app/views/admin/users/index.html.erb:64: syntax error, unexpected ','
...perate_admin_users_url(:user=>,:by=>"active"), :confirm => "...
...                               ^
/opt/railsapp/el/app/views/admin/users/index.html.erb:64: syntax error, unexpected tASSOC, expecting keyword_end
...r=>,:by=>"active"), :confirm => "Are you sure?" );@output_bu...
...                               ^
/opt/railsapp/el/app/views/admin/users/index.html.erb:64: syntax error, unexpected ')', expecting keyword_end
..., :confirm => "Are you sure?" );@output_buffer.safe_concat('
...                               ^):
    61: 			<%= link_to t('admin.users.options.delete'), admin_user_url(user), :method => :delete, :confirm => "Are you sure?" %>
    62: 		<% elsif user.active? %>
    63: 			<%= link_to t('admin.users.options.suspend'), operate_admin_users_url(:user=>user,:by=>"suspend")  %>
    64: 			<%= link_to t('admin.users.options.delete'),  operate_admin_users_url(:user=>,:by=>"active"), :confirm => "Are you sure?" %>
    65: 		<% elsif user.suspended? %>
    66: 			<%= link_to t('admin.users.options.unsuspend'), unsuspend_admin_user_url(user), :method => :put %>
    67: 			<%= link_to t('admin.users.options.delete'), admin_user_url(user), :method => :delete, :confirm => "Are you sure?" %>		
  app/controllers/admin/users_controller.rb:120:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.9ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.0ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.9ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:54:11 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
Rendered admin/users/index.html.erb within layouts/admin (561.5ms)
Completed 500 Internal Server Error in 780ms

ActionView::Template::Error (undefined method `operate_admin_users_url' for #<#<Class:0xbcf767c>:0xbd8c7e0>):
    60: 			<%= link_to t('admin.users.options.suspend'), suspend_admin_user_path(user), :method => :put %>
    61: 			<%= link_to t('admin.users.options.delete'), admin_user_url(user), :method => :delete, :confirm => "Are you sure?" %>
    62: 		<% elsif user.active? %>
    63: 			<%= link_to t('admin.users.options.suspend'), operate_admin_users_url(:user=>user,:by=>"suspend")  %>
    64: 			<%= link_to t('admin.users.options.delete'),  operate_admin_users_url(:user=>user,:by=>"active"), :confirm => "Are you sure?" %>
    65: 		<% elsif user.suspended? %>
    66: 			<%= link_to t('admin.users.options.unsuspend'), unsuspend_admin_user_url(user), :method => :put %>
  app/views/admin/users/index.html.erb:63:in `block in _app_views_admin_users_index_html_erb__1053964253_99376500'
  app/views/admin/users/index.html.erb:44:in `_app_views_admin_users_index_html_erb__1053964253_99376500'
  app/controllers/admin/users_controller.rb:120:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.1ms)
DEPRECATED! (configure_from_yaml) Please stop using YAML and use Ruby instead. This method will be removed in 2.9.


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:56:15 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
Rendered admin/users/index.html.erb within layouts/admin (26.9ms)
Completed 500 Internal Server Error in 236ms

ActionView::Template::Error (No route matches {:action=>"operate", :controller=>"admin/users", :user=>#<User id: 1, email: "nospam@baseapp.local", encrypted_password: "$2a$10$7f3qzUQMB.2gfb/pdDkXMO8D/kPRk4ITDbNJY8qWqf9a...", reset_password_token: nil, remember_token: nil, remember_created_at: nil, sign_in_count: 21, current_sign_in_at: "2012-08-30 15:32:38", last_sign_in_at: "2012-08-30 12:24:59", current_sign_in_ip: "192.168.1.99", last_sign_in_ip: "192.168.1.99", login: "admin", identity_url: nil, name: "系统管理员", state: "active", twitter_token: nil, activated_at: nil, deleted_at: nil, created_at: "2011-10-25 18:14:20", updated_at: "2012-09-06 07:24:22", language: "cn", sname: nil, unumber: nil>, :by=>"suspend"}):
    60: 			<%= link_to t('admin.users.options.suspend'), suspend_admin_user_path(user), :method => :put %>
    61: 			<%= link_to t('admin.users.options.delete'), admin_user_url(user), :method => :delete, :confirm => "Are you sure?" %>
    62: 		<% elsif user.active? %>
    63: 			<%= link_to t('admin.users.options.suspend'), operate_admin_user_url(:user=>user,:by=>"suspend")  %>
    64: 			<%= link_to t('admin.users.options.delete'),  operate_admin_user_url(:user=>user,:by=>"active"), :confirm => "Are you sure?" %>
    65: 		<% elsif user.suspended? %>
    66: 			<%= link_to t('admin.users.options.unsuspend'), unsuspend_admin_user_url(user), :method => :put %>
  app/views/admin/users/index.html.erb:63:in `block in _app_views_admin_users_index_html_erb__1053964253_98092040'
  app/views/admin/users/index.html.erb:44:in `_app_views_admin_users_index_html_erb__1053964253_98092040'
  app/controllers/admin/users_controller.rb:120:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.1ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:57:13 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (1.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
Rendered admin/users/index.html.erb within layouts/admin (163.2ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (14.0ms)
Completed 200 OK in 403ms (Views: 186.6ms | ActiveRecord: 8.2ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 15:58:48 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.8ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
Rendered admin/users/index.html.erb within layouts/admin (158.1ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (13.4ms)
Completed 200 OK in 404ms (Views: 185.3ms | ActiveRecord: 8.2ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:00:21 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (1.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
Rendered admin/users/index.html.erb within layouts/admin (175.7ms)
Rendered shared/_global_links.html.erb (3.0ms)
Rendered admin/shared/_tabs.html.erb (13.7ms)
Completed 200 OK in 405ms (Views: 198.5ms | ActiveRecord: 8.5ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:05:08 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
Rendered admin/users/index.html.erb within layouts/admin (85.8ms)
Rendered shared/_global_links.html.erb (5.7ms)
Rendered admin/shared/_tabs.html.erb (15.8ms)
Completed 200 OK in 401ms (Views: 190.8ms | ActiveRecord: 7.7ms)


Started GET "/admin/users/8/operate?by=unsuspend" for 192.168.0.189 at 2012-09-06 16:05:20 +0800

ActionController::RoutingError (No route matches [GET] "/admin/users/8/operate"):
  

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.2ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:06:36 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
Rendered admin/users/index.html.erb within layouts/admin (91.3ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (91.9ms)
Completed 200 OK in 416ms (Views: 194.6ms | ActiveRecord: 8.0ms)


Started PUT "/admin/users/8/operate?by=unsuspend" for 192.168.0.189 at 2012-09-06 16:06:39 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"unsuspend", "id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "8"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 8
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A02') AND "users"."id" != 8) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('ycs14a02@yc.cn') AND "users"."id" != 8) LIMIT 1
  [1m[36m (1.5ms)[0m  [1mUPDATE "users" SET "state" = 'active', "updated_at" = '2012-09-06 08:06:39.929747' WHERE "users"."id" = 8[0m
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 254ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:06:40 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (2.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
Rendered admin/users/index.html.erb within layouts/admin (160.1ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (13.7ms)
Completed 200 OK in 400ms (Views: 183.1ms | ActiveRecord: 9.7ms)


Started PUT "/admin/users/6/operate?by=suspend" for 192.168.0.189 at 2012-09-06 16:06:46 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"suspend", "id"=>"6"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 6[0m
  [1m[35m (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCTB03') AND "users"."id" != 6) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('t1@g.cn') AND "users"."id" != 6) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  UPDATE "users" SET "state" = 'suspended', "updated_at" = '2012-09-06 08:06:46.329182' WHERE "users"."id" = 6
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 252ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:06:46 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (1.4ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
Rendered admin/users/index.html.erb within layouts/admin (157.1ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (13.8ms)
Completed 200 OK in 318ms (Views: 180.2ms | ActiveRecord: 8.4ms)


Started PUT "/admin/users/6/operate?by=unsuspend" for 192.168.0.189 at 2012-09-06 16:07:02 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"unsuspend", "id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 6
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCTB03') AND "users"."id" != 6) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('t1@g.cn') AND "users"."id" != 6) LIMIT 1
  [1m[36m (1.1ms)[0m  [1mUPDATE "users" SET "state" = 'active', "updated_at" = '2012-09-06 08:07:03.038365' WHERE "users"."id" = 6[0m
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 243ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:07:03 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
Rendered admin/users/index.html.erb within layouts/admin (84.7ms)
Rendered shared/_global_links.html.erb (4.8ms)
Rendered admin/shared/_tabs.html.erb (13.8ms)
Completed 200 OK in 323ms (Views: 110.6ms | ActiveRecord: 10.5ms)


Started GET "/admin/users/8" for 192.168.0.189 at 2012-09-06 16:07:06 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "8"]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
Rendered admin/users/show.html.erb within layouts/admin (13.6ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (87.6ms)
Completed 200 OK in 330ms (Views: 114.8ms | ActiveRecord: 4.6ms)


Started PUT "/admin/users/8/suspend" for 192.168.0.189 at 2012-09-06 16:07:37 +0800
  Processing by Admin::UsersController#suspend as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "8"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 8
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A02') AND "users"."id" != 8) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('ycs14a02@yc.cn') AND "users"."id" != 8) LIMIT 1
  [1m[36m (1.2ms)[0m  [1mUPDATE "users" SET "state" = 'suspended', "updated_at" = '2012-09-06 08:07:37.639237' WHERE "users"."id" = 8[0m
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 253ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:07:37 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (2.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
Rendered admin/users/index.html.erb within layouts/admin (161.5ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.5ms)
Completed 200 OK in 399ms (Views: 183.2ms | ActiveRecord: 9.7ms)


Started PUT "/admin/users/8/operate?by=unsuspend" for 192.168.0.189 at 2012-09-06 16:07:42 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"unsuspend", "id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "8"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 8[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A02') AND "users"."id" != 8) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('ycs14a02@yc.cn') AND "users"."id" != 8) LIMIT 1[0m
  [1m[35m (0.9ms)[0m  UPDATE "users" SET "state" = 'active', "updated_at" = '2012-09-06 08:07:42.319217' WHERE "users"."id" = 8
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 253ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:07:42 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
Rendered admin/users/index.html.erb within layouts/admin (176.2ms)
Rendered shared/_global_links.html.erb (3.9ms)
Rendered admin/shared/_tabs.html.erb (14.7ms)
Completed 200 OK in 414ms (Views: 203.2ms | ActiveRecord: 8.0ms)


Started GET "/admin/users/8" for 192.168.0.189 at 2012-09-06 16:12:53 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "8"]]
Rendered admin/users/show.html.erb within layouts/admin (484.7ms)
Completed 500 Internal Server Error in 710ms

ActionView::Template::Error (undefined local variable or method `user' for #<#<Class:0xbc58298>:0xbc6644c>):
    18: 	<% end -%>
    19: 
    20: 	<% if @user.active? -%>
    21: 		<li><%= link_to t('admin.users.options.suspend'), operate_admin_user_url(user,:by=>"suspend"), :method => :put %></li>
    22: 		<li><%= link_to t('admin.users.options.delete'), admin_user_url(@user), :method => :delete, :confirm => "Are you sure you want to delete this account?" %></li>
    23: 	<% end -%>
    24: 	
  app/views/admin/users/show.html.erb:21:in `block in _app_views_admin_users_show_html_erb__423354158_98774160'
  app/views/admin/users/show.html.erb:5:in `_app_views_admin_users_show_html_erb__423354158_98774160'
  app/controllers/admin/users_controller.rb:131:in `show'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.9ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.0ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.4ms)


Started GET "/admin/users/8" for 192.168.0.189 at 2012-09-06 16:13:24 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "8"]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
Rendered admin/users/show.html.erb within layouts/admin (18.3ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (15.0ms)
Completed 200 OK in 268ms (Views: 47.6ms | ActiveRecord: 4.8ms)


Started PUT "/admin/users/8/operate?by=suspend" for 192.168.0.189 at 2012-09-06 16:14:26 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"suspend", "id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "8"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 8
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A02') AND "users"."id" != 8) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('ycs14a02@yc.cn') AND "users"."id" != 8) LIMIT 1
  [1m[36m (1.2ms)[0m  [1mUPDATE "users" SET "state" = 'suspended', "updated_at" = '2012-09-06 08:14:26.635829' WHERE "users"."id" = 8[0m
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 246ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:14:26 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
Rendered admin/users/index.html.erb within layouts/admin (162.8ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (14.3ms)
Completed 200 OK in 329ms (Views: 187.3ms | ActiveRecord: 8.4ms)


Started GET "/admin/users/8" for 192.168.0.189 at 2012-09-06 16:14:31 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "8"]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
Rendered admin/users/show.html.erb within layouts/admin (13.0ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.4ms)
Completed 200 OK in 258ms (Views: 40.0ms | ActiveRecord: 4.5ms)


Started GET "/admin/users/8" for 192.168.0.189 at 2012-09-06 16:14:45 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "8"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
Rendered admin/users/show.html.erb within layouts/admin (16.4ms)
Rendered shared/_global_links.html.erb (5.3ms)
Rendered admin/shared/_tabs.html.erb (14.2ms)
Completed 200 OK in 263ms (Views: 46.0ms | ActiveRecord: 4.4ms)


Started PUT "/admin/users/8/operate?by=unsuspend" for 192.168.0.189 at 2012-09-06 16:14:47 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"unsuspend", "id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "8"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 8[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A02') AND "users"."id" != 8) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('ycs14a02@yc.cn') AND "users"."id" != 8) LIMIT 1[0m
  [1m[35m (1.4ms)[0m  UPDATE "users" SET "state" = 'active', "updated_at" = '2012-09-06 08:14:48.147693' WHERE "users"."id" = 8
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 254ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:14:48 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (1.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
Rendered admin/users/index.html.erb within layouts/admin (88.7ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (14.5ms)
Completed 200 OK in 334ms (Views: 113.6ms | ActiveRecord: 10.2ms)


Started GET "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:17:18 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "12"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
Rendered admin/users/show.html.erb within layouts/admin (14.2ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (15.6ms)
Completed 200 OK in 154ms (Views: 52.2ms | ActiveRecord: 4.7ms)


Started PUT "/admin/users/12/operate?by=suspend" for 192.168.0.189 at 2012-09-06 16:17:26 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"suspend", "id"=>"12"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "12"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 12[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A05') AND "users"."id" != 12) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC1@yucai.cn') AND "users"."id" != 12) LIMIT 1[0m
  [1m[35m (1.7ms)[0m  UPDATE "users" SET "state" = 'suspended', "updated_at" = '2012-09-06 08:17:26.592608' WHERE "users"."id" = 12
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 249ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:17:26 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
Rendered admin/users/index.html.erb within layouts/admin (80.6ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (94.9ms)
Completed 200 OK in 405ms (Views: 188.0ms | ActiveRecord: 7.5ms)


Started PUT "/admin/users/12/operate?by=unsuspend" for 192.168.0.189 at 2012-09-06 16:17:31 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"unsuspend", "id"=>"12"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "12"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 12
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A05') AND "users"."id" != 12) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC1@yucai.cn') AND "users"."id" != 12) LIMIT 1
  [1m[36m (1.2ms)[0m  [1mUPDATE "users" SET "state" = 'active', "updated_at" = '2012-09-06 08:17:31.432567' WHERE "users"."id" = 12[0m
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 259ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:17:31 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
Rendered admin/users/index.html.erb within layouts/admin (171.1ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.5ms)
Completed 200 OK in 419ms (Views: 196.4ms | ActiveRecord: 8.4ms)


Started GET "/admin/users/12/edit" for 192.168.0.189 at 2012-09-06 16:17:38 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "12"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (11.4ms)
Rendered shared/_global_links.html.erb (3.5ms)
Rendered admin/shared/_tabs.html.erb (14.8ms)
Completed 200 OK in 260ms (Views: 40.3ms | ActiveRecord: 4.7ms)


Started PUT "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:18:51 +0800
  Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"YCS14A05", "name"=>"袁承志", "email"=>"YC1@yucai.cn", "language"=>"cn"}, "commit"=>"更新信息", "id"=>"12"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "12"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 12
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A05') AND "users"."id" != 12) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC1@yucai.cn') AND "users"."id" != 12) LIMIT 1
  [1m[36m (1.2ms)[0m  [1mUPDATE "users" SET "name" = '袁承志', "updated_at" = '2012-09-06 08:18:51.651316' WHERE "users"."id" = 12[0m
Redirected to http://192.168.0.90:8080/admin/users/12
Completed 302 Found in 242ms


Started GET "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:18:51 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "12"]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
Rendered admin/users/show.html.erb within layouts/admin (14.8ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (17.4ms)
Completed 200 OK in 257ms (Views: 45.7ms | ActiveRecord: 4.5ms)


Started POST "/admin/users/12/role/student" for 192.168.0.189 at 2012-09-06 16:18:56 +0800
  Processing by Admin::UsersController#toggle_role as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "id"=>"12", "role"=>"student"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "12"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'student' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12 AND "roles"."id" = 2 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "roles_users" ("user_id", "role_id") VALUES (12, 2)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 12[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A05') AND "users"."id" != 12) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC1@yucai.cn') AND "users"."id" != 12) LIMIT 1[0m
Redirected to http://192.168.0.90:8080/admin/users/12
Completed 302 Found in 263ms


Started GET "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:18:56 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "12"]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
Rendered admin/users/show.html.erb within layouts/admin (15.4ms)
Rendered shared/_global_links.html.erb (79.3ms)
Rendered admin/shared/_tabs.html.erb (17.8ms)
Completed 200 OK in 269ms (Views: 125.8ms | ActiveRecord: 4.6ms)


Started DELETE "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:19:47 +0800
  Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "id"=>"12"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "12"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 12
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A05') AND "users"."id" != 12) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC1@yucai.cn') AND "users"."id" != 12) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mUPDATE "users" SET "deleted_at" = '2012-09-06 08:19:47.335512', "state" = 'deleted', "updated_at" = '2012-09-06 08:19:47.354993' WHERE "users"."id" = 12[0m
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 253ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:19:47 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (1.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
Rendered admin/users/index.html.erb within layouts/admin (166.9ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (13.7ms)
Completed 200 OK in 409ms (Views: 189.7ms | ActiveRecord: 9.1ms)


Started GET "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:19:53 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "12"]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
Rendered admin/users/show.html.erb within layouts/admin (9.9ms)
Rendered shared/_global_links.html.erb (5.0ms)
Rendered admin/shared/_tabs.html.erb (14.5ms)
Completed 200 OK in 262ms (Views: 39.9ms | ActiveRecord: 4.5ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:20:01 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (1.6ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
Rendered admin/users/index.html.erb within layouts/admin (155.9ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (13.7ms)
Completed 200 OK in 394ms (Views: 178.2ms | ActiveRecord: 9.0ms)


Started GET "/admin/users/new" for 192.168.0.189 at 2012-09-06 16:20:07 +0800
  Processing by Admin::UsersController#new as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/new.html.erb within layouts/admin (8.2ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (14.0ms)
Completed 200 OK in 248ms (Views: 35.8ms | ActiveRecord: 3.5ms)


Started POST "/admin/users" for 192.168.0.189 at 2012-09-06 16:20:24 +0800
  Processing by Admin::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "user"=>{"login"=>"ss", "name"=>"ss", "email"=>"ss@g.cn", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "language"=>"cn"}, "commit"=>"创建"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.3ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('ss@g.cn') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE LOWER("users"."login") = LOWER('ss') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE LOWER("users"."email") = LOWER('ss@g.cn') LIMIT 1
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (6.9ms)[0m  [1mINSERT INTO "users" ("activated_at", "created_at", "current_sign_in_at", "current_sign_in_ip", "deleted_at", "email", "encrypted_password", "identity_url", "language", "last_sign_in_at", "last_sign_in_ip", "login", "name", "remember_created_at", "remember_token", "reset_password_token", "sign_in_count", "sname", "state", "twitter_token", "unumber", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["activated_at", nil], ["created_at", Thu, 06 Sep 2012 08:20:24 UTC +00:00], ["current_sign_in_at", nil], ["current_sign_in_ip", nil], ["deleted_at", nil], ["email", "ss@g.cn"], ["encrypted_password", "$2a$10$Cvj9OrSU/JtCI/7.2qgTJO8upl0Be3Olve90jI8erRUjdG57TLwwy"], ["identity_url", nil], ["language", "cn"], ["last_sign_in_at", nil], ["last_sign_in_ip", nil], ["login", "ss"], ["name", "ss"], ["remember_created_at", nil], ["remember_token", nil], ["reset_password_token", nil], ["sign_in_count", 0], ["sname", nil], ["state", "passive"], ["twitter_token", nil], ["unumber", nil], ["updated_at", Thu, 06 Sep 2012 08:20:24 UTC +00:00]]
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "profiles" ("created_at", "facebook_email", "location", "real_name", "updated_at", "user_id", "website") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Thu, 06 Sep 2012 08:20:24 UTC +00:00], ["facebook_email", nil], ["location", nil], ["real_name", nil], ["updated_at", Thu, 06 Sep 2012 08:20:24 UTC +00:00], ["user_id", nil], ["website", nil]]
  [1m[36mProfile Load (0.3ms)[0m  [1mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 21 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "profiles" SET "user_id" = 21, "updated_at" = '2012-09-06 08:20:24.959495' WHERE "profiles"."id" = 21
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('ss@g.cn') AND "users"."id" != 21) LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 21
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('ss') AND "users"."id" != 21) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('ss@g.cn') AND "users"."id" != 21) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mUPDATE "users" SET "login" = 'ss', "name" = 'ss', "email" = 'ss@g.cn', "encrypted_password" = '$2a$10$Cvj9OrSU/JtCI/7.2qgTJO8upl0Be3Olve90jI8erRUjdG57TLwwy', "language" = 'cn', "created_at" = '2012-09-06 08:20:24.896515', "updated_at" = '2012-09-06 08:20:24.896515', "state" = 'active' WHERE "users"."id" = 21[0m
Redirected to http://192.168.0.90:8080/admin/users/21
Completed 302 Found in 588ms


Started GET "/admin/users/21" for 192.168.0.189 at 2012-09-06 16:20:25 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "21"]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21
Rendered admin/users/show.html.erb within layouts/admin (14.7ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (15.1ms)
Completed 200 OK in 257ms (Views: 45.7ms | ActiveRecord: 4.5ms)


Started PUT "/admin/users/21/operate?by=suspend" for 192.168.0.189 at 2012-09-06 16:20:36 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"suspend", "id"=>"21"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "21"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 21
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('ss') AND "users"."id" != 21) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('ss@g.cn') AND "users"."id" != 21) LIMIT 1
  [1m[36m (1.6ms)[0m  [1mUPDATE "users" SET "state" = 'suspended', "updated_at" = '2012-09-06 08:20:37.038604' WHERE "users"."id" = 21[0m
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 253ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:20:37 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (1.3ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21
Rendered admin/users/index.html.erb within layouts/admin (164.4ms)
Rendered shared/_global_links.html.erb (4.0ms)
Rendered admin/shared/_tabs.html.erb (13.8ms)
Completed 200 OK in 330ms (Views: 187.7ms | ActiveRecord: 9.1ms)


Started GET "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:20:47 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "12"]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
Rendered admin/users/show.html.erb within layouts/admin (9.8ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.5ms)
Completed 200 OK in 257ms (Views: 36.9ms | ActiveRecord: 4.3ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:26:21 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.9ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21[0m
Rendered admin/users/index.html.erb within layouts/admin (87.9ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.4ms)
Completed 200 OK in 331ms (Views: 110.7ms | ActiveRecord: 8.1ms)


Started GET "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:26:24 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "12"]]
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
Rendered admin/users/show.html.erb within layouts/admin (84.9ms)
Rendered shared/_global_links.html.erb (3.6ms)
Rendered admin/shared/_tabs.html.erb (14.7ms)
Completed 200 OK in 257ms (Views: 113.6ms | ActiveRecord: 4.5ms)


Started GET "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:38:04 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "12"]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
Rendered admin/users/show.html.erb within layouts/admin (13.4ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (14.0ms)
Completed 200 OK in 254ms (Views: 42.0ms | ActiveRecord: 4.9ms)


Started GET "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:38:45 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "12"]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
Rendered admin/users/show.html.erb within layouts/admin (14.1ms)
Rendered shared/_global_links.html.erb (79.8ms)
Rendered admin/shared/_tabs.html.erb (14.3ms)
Completed 200 OK in 263ms (Views: 122.5ms | ActiveRecord: 4.3ms)


Started PUT "/admin/users/12/operate?by=recovery" for 192.168.0.189 at 2012-09-06 16:38:56 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"recovery", "id"=>"12"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "12"]]
Completed 500 Internal Server Error in 215ms

ArgumentError (wrong number of arguments (1 for 2)):
  app/models/user.rb:36:in `recovery'
  app/controllers/admin/users_controller.rb:79:in `operate'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.0ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.9ms)


Started GET "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:41:50 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "12"]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
Rendered admin/users/show.html.erb within layouts/admin (9.9ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (14.7ms)
Completed 200 OK in 250ms (Views: 42.3ms | ActiveRecord: 4.2ms)


Started PUT "/admin/users/12/operate?by=recovery" for 192.168.0.189 at 2012-09-06 16:41:52 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"recovery", "id"=>"12"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "12"]]
Completed 500 Internal Server Error in 211ms

ArgumentError (wrong number of arguments (1 for 2)):
  app/models/user.rb:36:in `set_active'
  app/controllers/admin/users_controller.rb:79:in `operate'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.1ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.1ms)


Started GET "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:43:05 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "12"]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
Rendered admin/users/show.html.erb within layouts/admin (10.8ms)
Rendered shared/_global_links.html.erb (3.4ms)
Rendered admin/shared/_tabs.html.erb (17.7ms)
Completed 200 OK in 263ms (Views: 43.0ms | ActiveRecord: 4.5ms)


Started PUT "/admin/users/12/operate?by=recovery" for 192.168.0.189 at 2012-09-06 16:43:07 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"recovery", "id"=>"12"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "12"]]
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 210ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:43:07 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.9ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21[0m
Rendered admin/users/index.html.erb within layouts/admin (90.2ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.3ms)
Completed 200 OK in 332ms (Views: 112.5ms | ActiveRecord: 8.4ms)


Started GET "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:43:13 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "12"]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
Rendered admin/users/show.html.erb within layouts/admin (10.7ms)
Rendered shared/_global_links.html.erb (3.4ms)
Rendered admin/shared/_tabs.html.erb (15.7ms)
Completed 200 OK in 250ms (Views: 41.0ms | ActiveRecord: 5.5ms)


Started PUT "/admin/users/12/operate?by=recovery" for 192.168.0.189 at 2012-09-06 16:45:10 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"recovery", "id"=>"12"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "12"]]
Completed 500 Internal Server Error in 215ms

ArgumentError (wrong number of arguments (1 for 2)):
  app/controllers/admin/users_controller.rb:79:in `operate'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.1ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.5ms)


Started GET "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:45:19 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "12"]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
Rendered admin/users/show.html.erb within layouts/admin (13.0ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (13.5ms)
Completed 200 OK in 247ms (Views: 40.1ms | ActiveRecord: 4.3ms)


Started PUT "/admin/users/12/operate?by=recovery" for 192.168.0.189 at 2012-09-06 16:45:22 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"recovery", "id"=>"12"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "12"]]
Completed 500 Internal Server Error in 214ms

ArgumentError (wrong number of arguments (1 for 2)):
  app/controllers/admin/users_controller.rb:79:in `operate'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.0ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.9ms)


Started PUT "/admin/users/12/operate?by=recovery" for 192.168.0.189 at 2012-09-06 16:46:44 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"recovery", "id"=>"12"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "12"]]
WARNING: Can't mass-assign protected attributes: state
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 12[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A05') AND "users"."id" != 12) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC1@yucai.cn') AND "users"."id" != 12) LIMIT 1[0m
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 245ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:46:44 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21
Rendered admin/users/index.html.erb within layouts/admin (158.1ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (14.8ms)
Completed 200 OK in 386ms (Views: 184.0ms | ActiveRecord: 8.0ms)


Started GET "/admin/users/12" for 192.168.0.189 at 2012-09-06 16:46:53 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "12"]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
Rendered admin/users/show.html.erb within layouts/admin (10.3ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (13.8ms)
Completed 200 OK in 264ms (Views: 46.0ms | ActiveRecord: 4.3ms)


Started PUT "/admin/users/12/operate?by=recovery" for 192.168.0.189 at 2012-09-06 16:47:24 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"recovery", "id"=>"12"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "12"]]
WARNING: Can't mass-assign protected attributes: state
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 12
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('YCS14A05') AND "users"."id" != 12) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('YC1@yucai.cn') AND "users"."id" != 12) LIMIT 1
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 254ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:47:24 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21[0m
Rendered admin/users/index.html.erb within layouts/admin (84.1ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (87.0ms)
Completed 200 OK in 407ms (Views: 184.4ms | ActiveRecord: 8.6ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:50:04 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21
Rendered admin/users/index.html.erb within layouts/admin (90.2ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (14.0ms)
Completed 200 OK in 328ms (Views: 115.4ms | ActiveRecord: 7.9ms)


Started GET "/admin/users/12/operate?by=active" for 192.168.0.189 at 2012-09-06 16:50:09 +0800

ActionController::RoutingError (No route matches [GET] "/admin/users/12/operate"):
  

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (2.0ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:53:30 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21[0m
Rendered admin/users/index.html.erb within layouts/admin (93.1ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (14.0ms)
Completed 200 OK in 339ms (Views: 117.5ms | ActiveRecord: 7.9ms)


Started DELETE "/admin/users/21" for 192.168.0.189 at 2012-09-06 16:53:39 +0800
  Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "id"=>"21"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "21"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 21[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('ss') AND "users"."id" != 21) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('ss@g.cn') AND "users"."id" != 21) LIMIT 1[0m
  [1m[35m (0.9ms)[0m  UPDATE "users" SET "deleted_at" = '2012-09-06 08:53:39.930105', "state" = 'deleted', "updated_at" = '2012-09-06 08:53:39.948932' WHERE "users"."id" = 21
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 256ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:53:39 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21[0m
Rendered admin/users/index.html.erb within layouts/admin (87.9ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (91.2ms)
Completed 200 OK in 409ms (Views: 189.1ms | ActiveRecord: 8.1ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 16:58:38 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21
Rendered admin/users/index.html.erb within layouts/admin (91.0ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.3ms)
Completed 200 OK in 341ms (Views: 114.3ms | ActiveRecord: 7.9ms)


Started GET "/admin/users/21" for 192.168.0.189 at 2012-09-06 16:58:41 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "21"]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21
Rendered admin/users/show.html.erb within layouts/admin (35.3ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (15.8ms)
Completed 200 OK in 288ms (Views: 65.4ms | ActiveRecord: 4.3ms)


Started PUT "/admin/users/21/operate?by=recovery" for 192.168.0.189 at 2012-09-06 17:02:44 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"recovery", "id"=>"21"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "21"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 21
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('ss') AND "users"."id" != 21) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('ss@g.cn') AND "users"."id" != 21) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mUPDATE "users" SET "state" = 'active', "updated_at" = '2012-09-06 09:02:45.083067' WHERE "users"."id" = 21[0m
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 258ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 17:02:45 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21
Rendered admin/users/index.html.erb within layouts/admin (162.2ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.7ms)
Completed 200 OK in 327ms (Views: 187.7ms | ActiveRecord: 7.8ms)


Started GET "/admin/users/21" for 192.168.0.189 at 2012-09-06 17:02:49 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "21"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21[0m
Rendered admin/users/show.html.erb within layouts/admin (13.9ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.5ms)
Completed 200 OK in 267ms (Views: 44.9ms | ActiveRecord: 4.5ms)


Started DELETE "/admin/users/21" for 192.168.0.189 at 2012-09-06 17:02:53 +0800
  Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "id"=>"21"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "21"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 21[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('ss') AND "users"."id" != 21) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('ss@g.cn') AND "users"."id" != 21) LIMIT 1[0m
  [1m[35m (1.0ms)[0m  UPDATE "users" SET "deleted_at" = '2012-09-06 09:02:53.949873', "state" = 'deleted', "updated_at" = '2012-09-06 09:02:53.970500' WHERE "users"."id" = 21
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 263ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 17:02:54 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21[0m
Rendered admin/users/index.html.erb within layouts/admin (88.6ms)
Rendered shared/_global_links.html.erb (3.0ms)
Rendered admin/shared/_tabs.html.erb (87.9ms)
Completed 200 OK in 405ms (Views: 186.5ms | ActiveRecord: 7.9ms)


Started GET "/admin/users/21" for 192.168.0.189 at 2012-09-06 17:02:58 +0800
  Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "21"]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21[0m
Rendered admin/users/show.html.erb within layouts/admin (10.2ms)
Rendered shared/_global_links.html.erb (3.4ms)
Rendered admin/shared/_tabs.html.erb (14.1ms)
Completed 200 OK in 256ms (Views: 38.4ms | ActiveRecord: 4.2ms)


Started PUT "/admin/users/21/operate?by=recovery" for 192.168.0.189 at 2012-09-06 17:03:00 +0800
  Processing by Admin::UsersController#operate as HTML
  Parameters: {"authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "by"=>"recovery", "id"=>"21"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "21"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "authentications" WHERE "authentications"."user_id" = 21[0m
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('ss') AND "users"."id" != 21) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('ss@g.cn') AND "users"."id" != 21) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  UPDATE "users" SET "state" = 'active', "updated_at" = '2012-09-06 09:03:00.954400' WHERE "users"."id" = 21
Redirected to http://192.168.0.90:8080/admin/users
Completed 302 Found in 258ms


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 17:03:00 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (1.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21[0m
Rendered admin/users/index.html.erb within layouts/admin (91.8ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (13.9ms)
Completed 200 OK in 341ms (Views: 115.2ms | ActiveRecord: 9.2ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 17:04:09 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (1.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21
Rendered admin/users/index.html.erb within layouts/admin (167.5ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (13.7ms)
Completed 200 OK in 410ms (Views: 190.4ms | ActiveRecord: 8.6ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 17:06:57 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21[0m
Rendered admin/users/index.html.erb within layouts/admin (169.1ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (14.5ms)
Completed 200 OK in 416ms (Views: 193.4ms | ActiveRecord: 8.8ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-06 17:07:15 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21
Rendered admin/users/index.html.erb within layouts/admin (171.6ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (16.1ms)
Completed 200 OK in 414ms (Views: 197.3ms | ActiveRecord: 8.3ms)


Started GET "/" for 192.168.0.189 at 2012-09-06 17:09:14 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/application (191.6ms)
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered shared/_global_links.html.erb (36.3ms)
Rendered shared/_tabs.html.erb (6.9ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-06 09:09:14.684479' AND ends_at >= '2012-09-06 09:09:14.684513')[0m
Completed 200 OK in 360ms (Views: 354.3ms | ActiveRecord: 4.9ms)


Started GET "/admin" for 192.168.0.189 at 2012-09-06 17:11:13 +0800
  Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/dashboard/_sidebar.html.erb (4.1ms)
Rendered admin/dashboard/index.html.erb within layouts/admin (6.8ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (13.8ms)
Completed 200 OK in 252ms (Views: 34.8ms | ActiveRecord: 3.8ms)


Started GET "/" for 192.168.0.189 at 2012-09-06 17:14:42 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
Rendered dashboard/index.html.erb within layouts/application (242.8ms)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered shared/_global_links.html.erb (60.5ms)
Rendered shared/_tabs.html.erb (10.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-06 09:14:43.249496' AND ends_at >= '2012-09-06 09:14:43.249524')
Completed 200 OK in 363ms (Views: 357.2ms | ActiveRecord: 5.1ms)


Started GET "/" for 192.168.0.189 at 2012-09-06 17:20:51 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/application (189.9ms)
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered shared/_global_links.html.erb (31.0ms)
Rendered shared/_tabs.html.erb (5.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-06 09:20:51.977535' AND ends_at >= '2012-09-06 09:20:51.977562')[0m
Completed 200 OK in 252ms (Views: 246.9ms | ActiveRecord: 4.0ms)


Started GET "/admin" for 192.168.0.189 at 2012-09-06 17:20:54 +0800
  Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/dashboard/_sidebar.html.erb (3.0ms)
Rendered admin/dashboard/index.html.erb within layouts/admin (5.3ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (13.2ms)
Completed 200 OK in 249ms (Views: 34.8ms | ActiveRecord: 3.4ms)


Started GET "/admin/roles" for 192.168.0.189 at 2012-09-06 17:21:04 +0800
  Processing by Admin::RolesController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
Rendered admin/roles/_form.html.erb (3.1ms)
Rendered admin/roles/index.html.erb within layouts/admin (17.7ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (14.1ms)
Completed 200 OK in 262ms (Views: 46.8ms | ActiveRecord: 4.1ms)


Started GET "/profiles/4" for 192.168.0.189 at 2012-09-06 17:21:16 +0800
  Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "4"]]
  [1m[35mProfile Load (0.3ms)[0m  SELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 4 LIMIT 1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered profiles/_my_account.html.erb (36.0ms)
Rendered profiles/_account_details.html.erb (5.1ms)
Rendered profiles/_profile_details.html.erb (17.4ms)
Rendered profiles/show.html.erb within layouts/application (65.5ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered shared/_tabs.html.erb (5.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-06 09:21:16.833490' AND ends_at >= '2012-09-06 09:21:16.833516')[0m
Completed 200 OK in 295ms (Views: 95.3ms | ActiveRecord: 8.6ms)
DEPRECATED! (configure_from_yaml) Please stop using YAML and use Ruby instead. This method will be removed in 2.9.


Started GET "/profiles/4" for 192.168.0.189 at 2012-09-06 17:22:10 +0800
  Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "4"]]
  [1m[35mProfile Load (0.3ms)[0m  SELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 4 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered profiles/_my_account.html.erb (186.3ms)
Rendered profiles/_account_details.html.erb (8.8ms)
Rendered profiles/_profile_details.html.erb (18.4ms)
Rendered profiles/show.html.erb within layouts/application (294.4ms)
Rendered shared/_global_links.html.erb (5.0ms)
Rendered shared/_tabs.html.erb (7.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-06 09:22:11.483900' AND ends_at >= '2012-09-06 09:22:11.483941')[0m
Completed 200 OK in 777ms (Views: 480.6ms | ActiveRecord: 7.1ms)


Started GET "/profiles/4" for 192.168.0.189 at 2012-09-06 17:22:15 +0800
  Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "4"]]
  [1m[36mProfile Load (0.4ms)[0m  [1mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 4 LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered profiles/_my_account.html.erb (30.5ms)
Rendered profiles/_account_details.html.erb (3.4ms)
Rendered profiles/_profile_details.html.erb (15.9ms)
Rendered profiles/show.html.erb within layouts/application (54.8ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered shared/_tabs.html.erb (5.7ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-06 09:22:15.488539' AND ends_at >= '2012-09-06 09:22:15.488565')
Completed 200 OK in 268ms (Views: 87.5ms | ActiveRecord: 6.6ms)


Started GET "/admin" for 192.168.0.189 at 2012-09-06 17:22:16 +0800
  Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered admin/dashboard/_sidebar.html.erb (4.2ms)
Rendered admin/dashboard/index.html.erb within layouts/admin (7.1ms)
Rendered shared/_global_links.html.erb (3.4ms)
Rendered admin/shared/_tabs.html.erb (15.0ms)
Completed 200 OK in 246ms (Views: 39.2ms | ActiveRecord: 3.5ms)


Started GET "/" for 192.168.0.189 at 2012-09-06 17:22:20 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/application (185.2ms)
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered shared/_global_links.html.erb (29.7ms)
Rendered shared/_tabs.html.erb (5.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-06 09:22:20.658605' AND ends_at >= '2012-09-06 09:22:20.658632')[0m
Completed 200 OK in 313ms (Views: 308.0ms | ActiveRecord: 3.9ms)


Started GET "/admin" for 192.168.0.189 at 2012-09-06 17:24:53 +0800
  Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/dashboard/_sidebar.html.erb (3.3ms)
Rendered admin/dashboard/index.html.erb within layouts/admin (4.9ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (12.7ms)
Completed 200 OK in 229ms (Views: 34.4ms | ActiveRecord: 3.4ms)


Started GET "/admin/roles" for 192.168.0.189 at 2012-09-06 17:24:56 +0800
  Processing by Admin::RolesController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
Rendered admin/roles/_form.html.erb (3.3ms)
Rendered admin/roles/index.html.erb within layouts/admin (83.8ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (15.3ms)
Completed 200 OK in 312ms (Views: 112.8ms | ActiveRecord: 3.5ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-06 17:24:58 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1[0m  [["id", 1]]
Rendered admin/grades/_form.html.erb (30.4ms)
  [1m[35mGrade Load (0.7ms)[0m  SELECT "grades".* FROM "grades" WHERE (id>1) ORDER BY gyear
Rendered admin/sclasses/_form.html.erb (26.0ms)
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE ( id>1) ORDER BY gyear[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 2
  [1m[36mSclass Load (0.4ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 2 ORDER BY name, name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 7
  [1m[36mSclass Load (0.5ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 7 ORDER BY name, name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 3
  [1m[36mSclass Load (0.4ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 3 ORDER BY name, name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 5
  [1m[36mSclass Load (0.4ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 5 ORDER BY name, name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 8
  [1m[36mSclass Load (0.4ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 8 ORDER BY name, name[0m
Rendered admin/orgs/index.html.erb within layouts/admin (186.6ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (13.4ms)
Completed 200 OK in 516ms (Views: 275.6ms | ActiveRecord: 9.6ms)


Started GET "/admin/sclasses/8/edit" for 192.168.0.189 at 2012-09-06 17:25:20 +0800
  Processing by Admin::SclassesController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.4ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "8"]]
  [1m[36mGrade Load (0.5ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE (id>1) ORDER BY gyear[0m
Rendered admin/sclasses/_form.html.erb (131.0ms)
Rendered admin/sclasses/edit.html.erb within layouts/admin (134.3ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.7ms)
Completed 200 OK in 380ms (Views: 162.5ms | ActiveRecord: 6.0ms)


Started PUT "/admin/sclasses/8" for 192.168.0.189 at 2012-09-06 17:25:25 +0800
  Processing by Admin::SclassesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "sclass"=>{"name"=>"2014B班", "grade_id"=>"7", "description"=>""}, "commit"=>"更新班级", "id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.4ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "8"]]
  [1m[36m (0.6ms)[0m  [1mUPDATE "sclasses" SET "name" = '2014B班', "updated_at" = '2012-09-06 09:25:25.851560' WHERE "sclasses"."id" = 8[0m
Redirected to http://192.168.0.90:8080/admin/orgs
Completed 302 Found in 276ms


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-06 17:25:25 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mGrade Load (0.3ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1  [["id", 1]]
Rendered admin/grades/_form.html.erb (23.5ms)
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE (id>1) ORDER BY gyear[0m
Rendered admin/sclasses/_form.html.erb (23.6ms)
  [1m[35mGrade Load (0.5ms)[0m  SELECT "grades".* FROM "grades" WHERE ( id>1) ORDER BY gyear
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 2[0m
  [1m[35mSclass Load (0.4ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 2 ORDER BY name, name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 7[0m
  [1m[35mSclass Load (0.5ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 7 ORDER BY name, name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 3[0m
  [1m[35mSclass Load (0.4ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 3 ORDER BY name, name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 5[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 5 ORDER BY name, name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 8[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 8 ORDER BY name, name
Rendered admin/orgs/index.html.erb within layouts/admin (106.0ms)
Rendered shared/_global_links.html.erb (3.0ms)
Rendered admin/shared/_tabs.html.erb (12.6ms)
Completed 200 OK in 435ms (Views: 128.4ms | ActiveRecord: 8.9ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-06 17:27:00 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1[0m  [["id", 1]]
Rendered admin/grades/_form.html.erb (21.6ms)
  [1m[35mGrade Load (0.4ms)[0m  SELECT "grades".* FROM "grades" WHERE (id>1) ORDER BY gyear
Rendered admin/sclasses/_form.html.erb (23.2ms)
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE ( id>1) ORDER BY gyear[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 2
  [1m[36mSclass Load (0.4ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 2 ORDER BY name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 7
  [1m[36mSclass Load (0.4ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 7 ORDER BY name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 3
  [1m[36mSclass Load (0.4ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 3 ORDER BY name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 5
  [1m[36mSclass Load (0.3ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 5 ORDER BY name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 8
  [1m[36mSclass Load (0.3ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 8 ORDER BY name[0m
Rendered admin/orgs/index.html.erb within layouts/admin (169.0ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.3ms)
Completed 200 OK in 450ms (Views: 193.3ms | ActiveRecord: 9.0ms)


Started GET "/admin/sclasses/7/edit" for 192.168.0.189 at 2012-09-06 17:27:03 +0800
  Processing by Admin::SclassesController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "7"]]
  [1m[36mGrade Load (0.5ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE (id>1) ORDER BY gyear[0m
Rendered admin/sclasses/_form.html.erb (66.8ms)
Rendered admin/sclasses/edit.html.erb within layouts/admin (68.9ms)
Rendered shared/_global_links.html.erb (4.7ms)
Rendered admin/shared/_tabs.html.erb (13.5ms)
Completed 200 OK in 385ms (Views: 96.8ms | ActiveRecord: 6.6ms)


Started PUT "/admin/sclasses/7" for 192.168.0.189 at 2012-09-06 17:27:09 +0800
  Processing by Admin::SclassesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RTId5/5g8RlqNNnOlWiufCfMB4sE0xxeKA/2Olr2zWI=", "sclass"=>{"name"=>"2013A班", "grade_id"=>"2", "description"=>""}, "commit"=>"更新班级", "id"=>"7"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "7"]]
  [1m[36m (1.3ms)[0m  [1mUPDATE "sclasses" SET "name" = '2013A班', "updated_at" = '2012-09-06 09:27:09.906836' WHERE "sclasses"."id" = 7[0m
Redirected to http://192.168.0.90:8080/admin/orgs
Completed 302 Found in 265ms


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-06 17:27:09 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mGrade Load (0.4ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1  [["id", 1]]
Rendered admin/grades/_form.html.erb (23.2ms)
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE (id>1) ORDER BY gyear[0m
Rendered admin/sclasses/_form.html.erb (22.5ms)
  [1m[35mGrade Load (0.4ms)[0m  SELECT "grades".* FROM "grades" WHERE ( id>1) ORDER BY gyear
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 2[0m
  [1m[35mSclass Load (0.4ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 2 ORDER BY name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 7[0m
  [1m[35mSclass Load (0.5ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 7 ORDER BY name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 3[0m
  [1m[35mSclass Load (0.4ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 3 ORDER BY name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 5[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 5 ORDER BY name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 8[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 8 ORDER BY name
Rendered admin/orgs/index.html.erb within layouts/admin (99.6ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (14.4ms)
Completed 200 OK in 445ms (Views: 124.5ms | ActiveRecord: 10.0ms)


Started GET "/admin/sclasses/8" for 192.168.0.189 at 2012-09-06 17:27:16 +0800
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.3ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "8"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=8 and ltype=0)
Rendered admin/sclasses/_form_teacher.html.erb (4.7ms)
Rendered admin/sclasses/_form_student.html.erb (3.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=8 and ltype=1)[0m
  [1m[35mClassuser Load (0.3ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=8 and ltype=1)
Rendered admin/sclasses/show.html.erb within layouts/admin (47.4ms)
Rendered shared/_global_links.html.erb (4.5ms)
Rendered admin/shared/_tabs.html.erb (13.6ms)
Completed 200 OK in 296ms (Views: 75.5ms | ActiveRecord: 5.6ms)


Started GET "/admin/sclasses/2" for 192.168.0.189 at 2012-09-06 17:27:22 +0800
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.3ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)
Rendered admin/sclasses/_form_teacher.html.erb (3.5ms)
Rendered admin/sclasses/_form_student.html.erb (2.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
  [1m[35mClassuser Load (0.4ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
Rendered admin/sclasses/show.html.erb within layouts/admin (61.1ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.4ms)
Completed 200 OK in 307ms (Views: 88.7ms | ActiveRecord: 5.8ms)
