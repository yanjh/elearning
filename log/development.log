

Started GET "/admin/sclasses/2" for 192.168.0.150 at 2012-09-07 15:40:40 +0800
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.3ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)
  [1m[36mClassuser Load (0.5ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0) ORDER BY onumber,user_id[0m
Rendered admin/sclasses/_form_teacher.html.erb (3.3ms)
Rendered admin/sclasses/_form_student.html.erb (3.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
  [1m[36mClassuser Load (0.5ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1) ORDER BY onumber,user_id[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 21]]
Rendered admin/sclasses/show.html.erb within layouts/admin (100.5ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (14.3ms)
Completed 200 OK in 378ms (Views: 125.2ms | ActiveRecord: 8.3ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 16:53:00 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
Rendered dashboard/index.html.erb within layouts/application (200.6ms)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered shared/_global_links.html.erb (32.2ms)
Rendered shared/_tabs.html.erb (5.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 08:53:00.799055' AND ends_at >= '2012-09-07 08:53:00.799082')
Completed 200 OK in 264ms (Views: 259.0ms | ActiveRecord: 4.0ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 16:56:02 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/application (190.7ms)
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered shared/_global_links.html.erb (30.2ms)
Rendered shared/_tabs.html.erb (8.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 08:56:03.038789' AND ends_at >= '2012-09-07 08:56:03.038818')[0m
Completed 200 OK in 253ms (Views: 248.3ms | ActiveRecord: 4.0ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 16:58:53 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
Rendered dashboard/index.html.erb within layouts/application (193.6ms)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered shared/_global_links.html.erb (31.7ms)
Rendered shared/_tabs.html.erb (6.0ms)
Completed 500 Internal Server Error in 243ms

ActionView::Template::Error (undefined method `teacher?' for nil:NilClass):
    4: 		
    5: 		<li><%= tab_to t("site.my_course"), [{:controller => "dashboard" }] %></li>
    6: 
    7: 		<% if @user.teacher? %>
    8: 		
    9: 		<li style="float: right;"><%= tab_to t("site.support_info") %></li>
    10: 		<li style="float: right;"><%= tab_to t("site.class_admin"), [{:controller => "sclasses" }] %></li>
  app/views/shared/_tabs.html.erb:7:in `_app_views_shared__tabs_html_erb__828103616_97241760'
  app/views/layouts/application.html.erb:20:in `_app_views_layouts_application_html_erb___150463482_98153350'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.9ms)


Started GET "/admin/users/14/edit" for 192.168.0.189 at 2012-09-07 17:04:06 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"14"}
Permission denied: No matching rules found for edit for #<Authorization::AnonymousUser:0xb4370c8 @role_symbols=[:guest]> (roles [:guest], privileges [:edit, :update, :manage], context :admin_users).
Rendered text template (0.0ms)
Completed 403 Forbidden in 125ms (Views: 9.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/users/14/edit" for 192.168.0.189 at 2012-09-07 17:04:11 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"14"}
Permission denied: No matching rules found for edit for #<Authorization::AnonymousUser:0xbea3d7c @role_symbols=[:guest]> (roles [:guest], privileges [:edit, :update, :manage], context :admin_users).
Rendered text template (0.0ms)
Completed 403 Forbidden in 48ms (Views: 3.7ms | ActiveRecord: 0.0ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-07 17:04:11 +0800
  Processing by Admin::OrgsController#index as HTML
Permission denied: No matching rules found for index for #<Authorization::AnonymousUser:0xbbbe238 @role_symbols=[:guest]> (roles [:guest], privileges [:index, :read, :manage], context :admin_orgs).
Rendered text template (0.0ms)
Completed 403 Forbidden in 49ms (Views: 3.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 17:04:12 +0800
  Processing by DashboardController#index as HTML
Rendered dashboard/index.html.erb within layouts/application (115.1ms)
Rendered shared/_global_links.html.erb (1.9ms)
Rendered shared/_tabs.html.erb (3.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 09:04:12.287528' AND ends_at >= '2012-09-07 09:04:12.287555')
Completed 200 OK in 163ms (Views: 161.0ms | ActiveRecord: 1.4ms)


Started GET "/users/login" for 192.168.0.189 at 2012-09-07 17:04:38 +0800
  Processing by UserSessionsController#new as HTML
Rendered devise/shared/_links.erb (1.8ms)
Rendered user_sessions/new.html.erb within layouts/login (6.8ms)
Completed 200 OK in 207ms (Views: 17.3ms | ActiveRecord: 1.9ms)


Started POST "/users/login" for 192.168.0.189 at 2012-09-07 17:04:41 +0800
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+F5n6v3xKRbUCgbRPjVpbPa4n+Da/QcA6hsIKHRhZQc=", "user"=>{"login"=>"yanjh", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"登录"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE (login = 'yanjh') LIMIT 1[0m
  [1m[35m (1.6ms)[0m  UPDATE "users" SET "last_sign_in_at" = '2012-09-07 03:11:44.172824', "current_sign_in_at" = '2012-09-07 09:04:42.200412', "last_sign_in_ip" = '192.168.0.150', "current_sign_in_ip" = '192.168.0.189', "sign_in_count" = 20, "updated_at" = '2012-09-07 09:04:42.201423' WHERE "users"."id" = 4
Redirected to http://192.168.0.90:8080/
Completed 302 Found in 423ms


Started GET "/" for 192.168.0.189 at 2012-09-07 17:04:42 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/application (194.6ms)
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered shared/_global_links.html.erb (32.4ms)
Rendered shared/_tabs.html.erb (7.3ms)
Completed 500 Internal Server Error in 246ms

ActionView::Template::Error (No route matches {:controller=>"sclasses"}):
    7: 		<% if current_user.teacher? %>
    8: 		
    9: 		<li style="float: right;"><%= tab_to t("site.support_info") %></li>
    10: 		<li style="float: right;"><%= tab_to t("site.class_admin"), [{:controller => "sclasses" }] %></li>
    11: 		<li style="float: right;"><%= tab_to t("site.course_admin") %></li>
    12: 		<li style="float: right;"><%= tab_to t("site.question_admin") %></li>
    13: 
  app/helpers/application_helper.rb:32:in `block in tab_to'
  app/helpers/application_helper.rb:31:in `each'
  app/helpers/application_helper.rb:31:in `tab_to'
  app/views/shared/_tabs.html.erb:10:in `_app_views_shared__tabs_html_erb__828103616_95659090'
  app/views/layouts/application.html.erb:20:in `_app_views_layouts_application_html_erb___150463482_98153350'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.3ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 17:05:47 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/application (74.1ms)
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered shared/_global_links.html.erb (33.9ms)
Rendered shared/_tabs.html.erb (7.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 09:05:48.127779' AND ends_at >= '2012-09-07 09:05:48.127807')[0m
Completed 200 OK in 142ms (Views: 137.5ms | ActiveRecord: 3.9ms)


Started GET "/sclasses" for 192.168.0.189 at 2012-09-07 17:05:50 +0800

LoadError (Expected /opt/railsapp/el/app/controllers/sclasses_controller.rb to define SclassesController):
  

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.1ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.2ms)


Started GET "/sclasses" for 192.168.0.189 at 2012-09-07 17:11:29 +0800

LoadError (Expected /opt/railsapp/el/app/controllers/sclasses_controller.rb to define SclassesController):
  

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.3ms)


Started GET "/sclasses" for 192.168.0.189 at 2012-09-07 17:11:31 +0800

LoadError (Expected /opt/railsapp/el/app/controllers/sclasses_controller.rb to define SclassesController):
  

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.6ms)


Started GET "/sclasses" for 192.168.0.189 at 2012-09-07 17:12:59 +0800
  Processing by SclassesController#index as HTML
Rendered admin/grades/_form.html.erb (1.0ms)
Rendered sclasses/index.html.erb within layouts/application (6.2ms)
Completed 500 Internal Server Error in 13ms

ActionView::Template::Error (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
    1: <%
    2:     stitle = @grade.id.nil? ? stitle = t('admin.orgs.create_grade'):t('admin.orgs.update_grade')
    3: -%>
    4: 
    5: <%= form_for [:admin,@grade] do |f| %>
  app/views/admin/grades/_form.html.erb:2:in `_app_views_admin_grades__form_html_erb__224142063_97476950'
  app/views/sclasses/index.html.erb:10:in `block in _app_views_sclasses_index_html_erb___634436605_88263550'
  app/views/sclasses/index.html.erb:3:in `_app_views_sclasses_index_html_erb___634436605_88263550'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.0ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 17:23:05 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
Rendered dashboard/t_dashboard.html.erb within layouts/application (190.7ms)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered shared/_global_links.html.erb (30.0ms)
Rendered shared/_tabs.html.erb (9.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 09:23:06.196271' AND ends_at >= '2012-09-07 09:23:06.196300')
Completed 200 OK in 254ms (Views: 249.5ms | ActiveRecord: 3.8ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 17:23:32 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
Rendered dashboard/t_dashboard.html.erb within layouts/application (192.6ms)
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered shared/_global_links.html.erb (30.2ms)
Rendered shared/_tabs.html.erb (9.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 09:23:32.972571' AND ends_at >= '2012-09-07 09:23:32.972605')[0m
Completed 200 OK in 257ms (Views: 252.1ms | ActiveRecord: 4.1ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 17:32:49 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/grades/_form.html.erb (0.9ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (26.0ms)
Completed 500 Internal Server Error in 241ms

ActionView::Template::Error (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
    1: <%
    2:     stitle = @grade.id.nil? ? stitle = t('admin.orgs.create_grade'):t('admin.orgs.update_grade')
    3: -%>
    4: 
    5: <%= form_for [:admin,@grade] do |f| %>
  app/views/admin/grades/_form.html.erb:2:in `_app_views_admin_grades__form_html_erb__224142063_97476950'
  app/views/dashboard/t_dashboard.html.erb:11:in `block in _app_views_dashboard_t_dashboard_html_erb__84652791_101689840'
  app/views/dashboard/t_dashboard.html.erb:6:in `_app_views_dashboard_t_dashboard_html_erb__84652791_101689840'
  app/controllers/dashboard_controller.rb:6:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.9ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 17:49:06 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered dashboard/_form_course.html.erb (480.8ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (485.1ms)
Completed 500 Internal Server Error in 733ms

ActionView::Template::Error (undefined local variable or method `course_path' for #<#<Class:0xb8858c8>:0xb8976e0>):
    2:     stitle = @course.id.nil? ? stitle = t('course.create'):t('course.edit')
    3: -%>
    4: 
    5: <%= form_for [@course], :url => course_path do |f| %>
    6: <%= f.error_messages %>
    7: <table >
    8:     <%= cell(t("course.title"), (f.text_field :title))%>
  app/views/dashboard/_form_course.html.erb:5:in `_app_views_dashboard__form_course_html_erb___114821979_95764960'
  app/views/dashboard/t_dashboard.html.erb:11:in `block in _app_views_dashboard_t_dashboard_html_erb__84652791_96775650'
  app/views/dashboard/t_dashboard.html.erb:6:in `_app_views_dashboard_t_dashboard_html_erb__84652791_96775650'
  app/controllers/dashboard_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.1ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.7ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 17:49:32 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (1.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered dashboard/_form_course.html.erb (415.5ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (417.2ms)
Completed 500 Internal Server Error in 663ms

ActionView::Template::Error (undefined local variable or method `courses_path' for #<#<Class:0xb74b8f4>:0xb7b4548>):
    2:     stitle = @course.id.nil? ? stitle = t('course.create'):t('course.edit')
    3: -%>
    4: 
    5: <%= form_for [@course], :url => courses_path do |f| %>
    6: <%= f.error_messages %>
    7: <table >
    8:     <%= cell(t("course.title"), (f.text_field :title))%>
  app/views/dashboard/_form_course.html.erb:5:in `_app_views_dashboard__form_course_html_erb___114821979_96351910'
  app/views/dashboard/t_dashboard.html.erb:11:in `block in _app_views_dashboard_t_dashboard_html_erb__84652791_96775650'
  app/views/dashboard/t_dashboard.html.erb:6:in `_app_views_dashboard_t_dashboard_html_erb__84652791_96775650'
  app/controllers/dashboard_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.7ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.0ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.6ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 17:49:58 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered dashboard/_form_course.html.erb (498.2ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (499.9ms)
Completed 500 Internal Server Error in 660ms

ActionView::Template::Error (undefined method `courses_path' for #<#<Class:0xc55ebf8>:0xc56c4b0>):
    2:     stitle = @course.id.nil? ? stitle = t('course.create'):t('course.edit')
    3: -%>
    4: 
    5: <%= form_for @course do |f| %>
    6: <%= f.error_messages %>
    7: <table >
    8:     <%= cell(t("course.title"), (f.text_field :title))%>
  app/views/dashboard/_form_course.html.erb:5:in `_app_views_dashboard__form_course_html_erb___114821979_103531570'
  app/views/dashboard/t_dashboard.html.erb:11:in `block in _app_views_dashboard_t_dashboard_html_erb__84652791_96775650'
  app/views/dashboard/t_dashboard.html.erb:6:in `_app_views_dashboard_t_dashboard_html_erb__84652791_96775650'
  app/controllers/dashboard_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.1ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.6ms)
DEPRECATED! (configure_from_yaml) Please stop using YAML and use Ruby instead. This method will be removed in 2.9.
DEPRECATED! (configure_from_yaml) Please stop using YAML and use Ruby instead. This method will be removed in 2.9.


Started GET "/" for 192.168.0.189 at 2012-09-07 17:55:51 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered dashboard/_form_course.html.erb (27.7ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (29.4ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered shared/_tabs.html.erb (7.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 09:55:52.560663' AND ends_at >= '2012-09-07 09:55:52.560691')
Completed 200 OK in 273ms (Views: 64.5ms | ActiveRecord: 4.9ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 18:02:21 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered dashboard/_form_course.html.erb (28.8ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (139.0ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered shared/_tabs.html.erb (7.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 10:02:21.814841' AND ends_at >= '2012-09-07 10:02:21.814873')[0m
Completed 200 OK in 336ms (Views: 173.6ms | ActiveRecord: 4.9ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 18:02:50 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered dashboard/_form_course.html.erb (29.1ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (30.9ms)
Rendered shared/_global_links.html.erb (4.5ms)
Rendered shared/_tabs.html.erb (9.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 10:02:50.890294' AND ends_at >= '2012-09-07 10:02:50.890323')
Completed 200 OK in 311ms (Views: 74.1ms | ActiveRecord: 4.9ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 18:08:11 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered dashboard/t_dashboard.html.erb within layouts/application (3.9ms)
Completed 500 Internal Server Error in 165ms

ActionView::Template::Error (undefined method `sclasses' for #<User:0xa67276c>):
    7: 
    8: 	<h2><%= t("admin.orgs.class_list") %></h2>
    9: 	<ul>
    10: 		<% for sclass in current_user.sclasses %>
    11: 		<li><%= link_to sclass.name, sclass %></li>
    12: 		<% end -%>
    13: 	</ul>
  app/views/dashboard/t_dashboard.html.erb:10:in `block in _app_views_dashboard_t_dashboard_html_erb__84652791_103605530'
  app/views/dashboard/t_dashboard.html.erb:6:in `_app_views_dashboard_t_dashboard_html_erb__84652791_103605530'
  app/controllers/dashboard_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.3ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 18:12:33 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered dashboard/t_dashboard.html.erb within layouts/application (4.2ms)
Completed 500 Internal Server Error in 246ms

ActionView::Template::Error (uninitialized constant User::Classusers):
    7: 
    8: 	<h2><%= t("admin.orgs.class_list") %></h2>
    9: 	<ul>
    10: 		<% for sclass in current_user.sclasses %>
    11: 		<li><%= link_to sclass.name, sclass %></li>
    12: 		<% end -%>
    13: 	</ul>
  app/models/user.rb:56:in `sclasses'
  app/views/dashboard/t_dashboard.html.erb:10:in `block in _app_views_dashboard_t_dashboard_html_erb__84652791_96727440'
  app/views/dashboard/t_dashboard.html.erb:6:in `_app_views_dashboard_t_dashboard_html_erb__84652791_96727440'
  app/controllers/dashboard_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.2ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 18:13:49 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mClassuser Load (0.3ms)[0m  [1mSELECT "classusers".* FROM "classusers" WHERE ( user_id=4 and ltype=0)[0m
Rendered dashboard/t_dashboard.html.erb within layouts/application (35.7ms)
Completed 500 Internal Server Error in 282ms

ActionView::Template::Error (undefined method `name' for #<Classuser:0xbbbbe20>):
    8: 	<h2><%= t("admin.orgs.class_list") %></h2>
    9: 	<ul>
    10: 		<% for sclass in current_user.sclasses %>
    11: 		<li><%= link_to sclass.name, sclass %></li>
    12: 		<% end -%>
    13: 	</ul>
    14: 	
  app/views/dashboard/t_dashboard.html.erb:11:in `block (2 levels) in _app_views_dashboard_t_dashboard_html_erb__84652791_96727440'
  app/views/dashboard/t_dashboard.html.erb:10:in `block in _app_views_dashboard_t_dashboard_html_erb__84652791_96727440'
  app/views/dashboard/t_dashboard.html.erb:6:in `_app_views_dashboard_t_dashboard_html_erb__84652791_96727440'
  app/controllers/dashboard_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.7ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.4ms)
DEPRECATED! (configure_from_yaml) Please stop using YAML and use Ruby instead. This method will be removed in 2.9.
  [1m[36m (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
DEPRECATED! (configure_from_yaml) Please stop using YAML and use Ruby instead. This method will be removed in 2.9.
  [1m[36m (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to DeviseCreateUsers (20100831085111)
Migrating to CreateProfileRoles (20100831092056)
Migrating to CreateSettings (20100831101644)
Migrating to CreateAnnouncements (20100831101816)
Migrating to AddLanguageToUser (20111010163926)
Migrating to CreateDelayedJobs (20111011184044)
Migrating to AddTokenToAuthentications (20111012193415)
Migrating to AddOauthSettings (20111012211423)
Migrating to AddFacebookEmailToProfile (20111014190542)
Migrating to AddDescrptionToRoles (20111015071522)
Migrating to CreateCourses (20111016082339)
Migrating to CreateChapters (20111017124955)
Migrating to CreateGrades (20111018062332)
Migrating to AddSnameToUser (20111019163926)
Migrating to CreateSclasses (20111020062332)
Migrating to AddUnumberToUser (20111021163926)
Migrating to CreateClassusers (20120905032100)
Migrating to AddClassnameToClassuser (20120905032200)
  [1m[35m (2.0ms)[0m  select sqlite_version(*)
  [1m[36m (3.5ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("announcements")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("authentications")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("chapters")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("classusers")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_info('index_classusers_on_sclass_id_and_user_id_and_ltype')
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("courses")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("delayed_jobs")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_info('delayed_jobs_priority')[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("grades")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("profiles")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("roles")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("roles_users")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("sclasses")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("settings")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_info('index_users_on_reset_password_token')[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_info('index_users_on_email')
DEPRECATED! (configure_from_yaml) Please stop using YAML and use Ruby instead. This method will be removed in 2.9.
  [1m[36m (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to DeviseCreateUsers (20100831085111)
Migrating to CreateProfileRoles (20100831092056)
Migrating to CreateSettings (20100831101644)
Migrating to CreateAnnouncements (20100831101816)
Migrating to AddLanguageToUser (20111010163926)
Migrating to CreateDelayedJobs (20111011184044)
Migrating to AddTokenToAuthentications (20111012193415)
Migrating to AddOauthSettings (20111012211423)
Migrating to AddFacebookEmailToProfile (20111014190542)
Migrating to AddDescrptionToRoles (20111015071522)
Migrating to CreateCourses (20111016082339)
Migrating to CreateChapters (20111017124955)
Migrating to CreateGrades (20111018062332)
Migrating to AddSnameToUser (20111019163926)
Migrating to CreateSclasses (20111020062332)
Migrating to AddUnumberToUser (20111021163926)
Migrating to CreateClassusers (20120905032100)
Migrating to AddClassnameToClassuser (20120905032200)
  [1m[35m (1.9ms)[0m  select sqlite_version(*)
  [1m[36m (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("announcements")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("authentications")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("chapters")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("classusers")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_info('index_classusers_on_sclass_id_and_user_id_and_ltype')
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("courses")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("delayed_jobs")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_info('delayed_jobs_priority')[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("grades")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("profiles")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("roles")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("roles_users")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("sclasses")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("settings")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_info('index_users_on_reset_password_token')[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_info('index_users_on_email')
DEPRECATED! (configure_from_yaml) Please stop using YAML and use Ruby instead. This method will be removed in 2.9.
  [1m[36m (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to DeviseCreateUsers (20100831085111)
Migrating to CreateProfileRoles (20100831092056)
Migrating to CreateSettings (20100831101644)
Migrating to CreateAnnouncements (20100831101816)
Migrating to AddLanguageToUser (20111010163926)
Migrating to CreateDelayedJobs (20111011184044)
Migrating to AddTokenToAuthentications (20111012193415)
Migrating to AddOauthSettings (20111012211423)
Migrating to AddFacebookEmailToProfile (20111014190542)
Migrating to AddDescrptionToRoles (20111015071522)
Migrating to CreateCourses (20111016082339)
Migrating to CreateChapters (20111017124955)
Migrating to CreateGrades (20111018062332)
Migrating to AddSnameToUser (20111019163926)
Migrating to CreateSclasses (20111020062332)
Migrating to AddUnumberToUser (20111021163926)
Migrating to CreateClassusers (20120905032100)
  [1m[35m (3.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("announcements")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("authentications")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("chapters")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("classusers")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_info('index_classusers_on_sclass_id_and_user_id_and_ltype')
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("courses")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("delayed_jobs")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_info('delayed_jobs_priority')[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("grades")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("profiles")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("roles")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("roles_users")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("sclasses")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("settings")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_info('index_users_on_reset_password_token')[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_info('index_users_on_email')
DEPRECATED! (configure_from_yaml) Please stop using YAML and use Ruby instead. This method will be removed in 2.9.
  [1m[36m (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m


Started POST "/users/login" for 192.168.0.189 at 2012-09-07 18:32:47 +0800
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+F5n6v3xKRbUCgbRPjVpbPa4n+Da/QcA6hsIKHRhZQc=", "user"=>{"login"=>"yanjh", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"登录"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
Redirected to http://192.168.0.90:8080/
Completed 302 Found in 192ms


Started GET "/" for 192.168.0.189 at 2012-09-07 18:32:47 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mClassuser Load (0.3ms)[0m  [1mSELECT "classusers".* FROM "classusers" WHERE ( user_id=4 and ltype=0)[0m
Rendered dashboard/t_dashboard.html.erb within layouts/application (34.5ms)
Completed 500 Internal Server Error in 274ms

ActionView::Template::Error (undefined method `name' for #<Classuser:0xbe50000>):
    8: 	<h2><%= t("admin.orgs.class_list") %></h2>
    9: 	<ul>
    10: 		<% for sclass in current_user.sclasses %>
    11: 		<li><%= link_to sclass.name, sclass %></li>
    12: 		<% end -%>
    13: 	</ul>
    14: 	
  app/views/dashboard/t_dashboard.html.erb:11:in `block (2 levels) in _app_views_dashboard_t_dashboard_html_erb__84652791_96727440'
  app/views/dashboard/t_dashboard.html.erb:10:in `block in _app_views_dashboard_t_dashboard_html_erb__84652791_96727440'
  app/views/dashboard/t_dashboard.html.erb:6:in `_app_views_dashboard_t_dashboard_html_erb__84652791_96727440'
  app/controllers/dashboard_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.1ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 18:33:31 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mClassuser Load (1.0ms)[0m  SELECT "classusers".* FROM "classusers" WHERE ( user_id=4 and ltype=0)
Rendered dashboard/t_dashboard.html.erb within layouts/application (546.1ms)
Completed 500 Internal Server Error in 709ms

ActionView::Template::Error (undefined method `classuser_path' for #<#<Class:0xc34dad0>:0xc356388>):
    8: 	<h2><%= t("admin.orgs.class_list") %></h2>
    9: 	<ul>
    10: 		<% for sclass in current_user.sclasses %>
    11: 		<li><%= link_to sclass.sclassname, sclass %></li>
    12: 		<% end -%>
    13: 	</ul>
    14: 	
  app/views/dashboard/t_dashboard.html.erb:11:in `block (2 levels) in _app_views_dashboard_t_dashboard_html_erb__84652791_102411080'
  app/views/dashboard/t_dashboard.html.erb:10:in `block in _app_views_dashboard_t_dashboard_html_erb__84652791_102411080'
  app/views/dashboard/t_dashboard.html.erb:6:in `_app_views_dashboard_t_dashboard_html_erb__84652791_102411080'
  app/controllers/dashboard_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.0ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.4ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 18:34:34 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mClassuser Load (0.3ms)[0m  [1mSELECT "classusers".* FROM "classusers" WHERE ( user_id=4 and ltype=0)[0m
Rendered dashboard/t_dashboard.html.erb within layouts/application (119.6ms)
Completed 500 Internal Server Error in 281ms

ActionView::Template::Error (No route matches {:action=>"show", :controller=>"sclasses"}):
    8: 	<h2><%= t("admin.orgs.class_list") %></h2>
    9: 	<ul>
    10: 		<% for sclass in current_user.sclasses %>
    11: 		<li><%= link_to sclass.sclassname, sclass_path %></li>
    12: 		<% end -%>
    13: 	</ul>
    14: 	
  app/views/dashboard/t_dashboard.html.erb:11:in `block (2 levels) in _app_views_dashboard_t_dashboard_html_erb__84652791_102615460'
  app/views/dashboard/t_dashboard.html.erb:10:in `block in _app_views_dashboard_t_dashboard_html_erb__84652791_102615460'
  app/views/dashboard/t_dashboard.html.erb:6:in `_app_views_dashboard_t_dashboard_html_erb__84652791_102615460'
  app/controllers/dashboard_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.0ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 18:36:06 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mClassuser Load (0.4ms)[0m  SELECT "classusers".* FROM "classusers" WHERE ( user_id=4 and ltype=0)
Rendered dashboard/_form_course.html.erb (26.5ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (64.8ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered shared/_tabs.html.erb (7.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 10:36:06.716957' AND ends_at >= '2012-09-07 10:36:06.716986')[0m
Completed 200 OK in 338ms (Views: 98.7ms | ActiveRecord: 5.9ms)


Started GET "/admin" for 192.168.0.189 at 2012-09-07 18:36:36 +0800
  Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/dashboard/_sidebar.html.erb (3.2ms)
Rendered admin/dashboard/index.html.erb within layouts/admin (4.7ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (13.3ms)
Completed 200 OK in 255ms (Views: 31.8ms | ActiveRecord: 3.6ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 18:36:41 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mClassuser Load (0.3ms)[0m  SELECT "classusers".* FROM "classusers" WHERE ( user_id=4 and ltype=0)
Rendered dashboard/_form_course.html.erb (112.3ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (146.6ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered shared/_tabs.html.erb (7.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 10:36:41.532122' AND ends_at >= '2012-09-07 10:36:41.532150')[0m
Completed 200 OK in 418ms (Views: 179.7ms | ActiveRecord: 5.6ms)


Started GET "/sclasses/2" for 192.168.0.189 at 2012-09-07 18:36:56 +0800
  Processing by SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)[0m
  [1m[35mClassuser Load (0.4ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0) ORDER BY onumber,user_id
Rendered sclasses/_form_teacher.html.erb (54.0ms)
Rendered sclasses/_form_student.html.erb (4.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
  [1m[35mClassuser Load (0.5ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1) ORDER BY onumber,user_id
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 21]]
Rendered sclasses/show.html.erb within layouts/application (240.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered shared/_global_links.html.erb (31.7ms)
Rendered shared/_tabs.html.erb (8.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 10:36:57.350498' AND ends_at >= '2012-09-07 10:36:57.350532')[0m
Completed 200 OK in 375ms (Views: 297.6ms | ActiveRecord: 8.7ms)


Started GET "/admin" for 192.168.0.189 at 2012-09-07 18:37:12 +0800
  Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/dashboard/_sidebar.html.erb (3.0ms)
Rendered admin/dashboard/index.html.erb within layouts/admin (4.6ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (13.0ms)
Completed 200 OK in 171ms (Views: 31.2ms | ActiveRecord: 3.5ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-07 18:37:17 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mGrade Load (0.4ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1  [["id", 1]]
Rendered admin/grades/_form.html.erb (23.0ms)
Rendered admin/orgs/index.html.erb within layouts/admin (27.9ms)
Completed 500 Internal Server Error in 289ms

ActionView::Template::Error (Missing partial admin/sclasses/form with {:handlers=>[:erb, :builder], :formats=>[:html], :locale=>[:cn, :cn]}. Searched in:
  * "/opt/railsapp/el/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/declarative_authorization-0.5.3/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/devise-1.4.9/app/views"
):
    10:    <ul><li><%= render 'admin/grades/form' %></li></ul>
    11: 
    12:    <h2><%= t("admin.orgs.new_class") %></h2>
    13:    <ul><li><%= render 'admin/sclasses/form' %></li></ul>
    14: <% end -%>
    15: 
    16: <h3><%= @school.name %></h3>
  app/views/admin/orgs/index.html.erb:13:in `block in _app_views_admin_orgs_index_html_erb__185354063_93580870'
  app/views/admin/orgs/index.html.erb:3:in `_app_views_admin_orgs_index_html_erb__185354063_93580870'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.1ms)


Started GET "/users/logout" for 192.168.0.189 at 2012-09-07 18:39:48 +0800
  Processing by UserSessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
Redirected to http://192.168.0.90:8080/
Completed 302 Found in 204ms


Started GET "/" for 192.168.0.189 at 2012-09-07 18:39:48 +0800
  Processing by DashboardController#index as HTML
Completed 500 Internal Server Error in 42ms

NoMethodError (undefined method `teacher?' for nil:NilClass):
  app/controllers/dashboard_controller.rb:5:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.7ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 18:41:46 +0800
  Processing by DashboardController#index as HTML
Completed 500 Internal Server Error in 306ms

NoMethodError (undefined method `login?' for #<DashboardController:0xc52fe84>):
  app/controllers/dashboard_controller.rb:5:in `index'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.0ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.1ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 18:42:10 +0800
  Processing by DashboardController#index as HTML
Rendered dashboard/index.html.erb within layouts/application (0.8ms)
Rendered shared/_global_links.html.erb (1.8ms)
Rendered shared/_tabs.html.erb (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 10:42:10.867572' AND ends_at >= '2012-09-07 10:42:10.867599')
Completed 200 OK in 153ms (Views: 36.4ms | ActiveRecord: 1.3ms)


Started GET "/users/login" for 192.168.0.189 at 2012-09-07 18:42:13 +0800
  Processing by UserSessionsController#new as HTML
Rendered devise/shared/_links.erb (2.0ms)
Rendered user_sessions/new.html.erb within layouts/login (7.7ms)
Completed 200 OK in 207ms (Views: 17.4ms | ActiveRecord: 2.0ms)


Started POST "/users/login" for 192.168.0.189 at 2012-09-07 18:42:15 +0800
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ePDiUv04NQ1sP+Jd7crmGFTWFqLtGQTY5V3l6TKV6jc=", "user"=>{"login"=>"yanjh", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"登录"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE (login = 'yanjh') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  UPDATE "users" SET "last_sign_in_at" = '2012-09-07 09:04:42.200412', "current_sign_in_at" = '2012-09-07 10:42:16.152579', "last_sign_in_ip" = '192.168.0.189', "sign_in_count" = 21, "updated_at" = '2012-09-07 10:42:16.153572' WHERE "users"."id" = 4
Redirected to http://192.168.0.90:8080/
Completed 302 Found in 345ms


Started GET "/" for 192.168.0.189 at 2012-09-07 18:42:16 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mClassuser Load (0.4ms)[0m  [1mSELECT "classusers".* FROM "classusers" WHERE ( user_id=4 and ltype=0)[0m
Rendered dashboard/_form_course.html.erb (27.7ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (145.2ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered shared/_tabs.html.erb (9.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 10:42:16.735634' AND ends_at >= '2012-09-07 10:42:16.735664')
Completed 200 OK in 343ms (Views: 179.7ms | ActiveRecord: 5.8ms)


Started GET "/admin" for 192.168.0.189 at 2012-09-07 18:42:19 +0800
  Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered admin/dashboard/_sidebar.html.erb (4.0ms)
Rendered admin/dashboard/index.html.erb within layouts/admin (5.5ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (13.8ms)
Completed 200 OK in 258ms (Views: 34.6ms | ActiveRecord: 4.0ms)


Started GET "/admin/roles" for 192.168.0.189 at 2012-09-07 18:42:22 +0800
  Processing by Admin::RolesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
Rendered admin/roles/_form.html.erb (3.1ms)
Rendered admin/roles/index.html.erb within layouts/admin (15.8ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (14.2ms)
Completed 200 OK in 267ms (Views: 43.9ms | ActiveRecord: 3.9ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-07 18:42:24 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mGrade Load (0.3ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1  [["id", 1]]
Rendered admin/grades/_form.html.erb (22.0ms)
Rendered admin/orgs/index.html.erb within layouts/admin (26.5ms)
Completed 500 Internal Server Error in 293ms

ActionView::Template::Error (Missing partial admin/sclasses/form with {:handlers=>[:erb, :builder], :formats=>[:html], :locale=>[:cn, :cn]}. Searched in:
  * "/opt/railsapp/el/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/declarative_authorization-0.5.3/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/devise-1.4.9/app/views"
):
    10:    <ul><li><%= render 'admin/grades/form' %></li></ul>
    11: 
    12:    <h2><%= t("admin.orgs.new_class") %></h2>
    13:    <ul><li><%= render 'admin/sclasses/form' %></li></ul>
    14: <% end -%>
    15: 
    16: <h3><%= @school.name %></h3>
  app/views/admin/orgs/index.html.erb:13:in `block in _app_views_admin_orgs_index_html_erb__185354063_93580870'
  app/views/admin/orgs/index.html.erb:3:in `_app_views_admin_orgs_index_html_erb__185354063_93580870'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.9ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-07 18:42:31 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" LIMIT 20 OFFSET 0
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16
  [1m[36mRole Load (5.6ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 22
Rendered admin/users/index.html.erb within layouts/admin (187.2ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (14.2ms)
Completed 200 OK in 352ms (Views: 204.9ms | ActiveRecord: 14.3ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-07 18:42:35 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1[0m  [["id", 1]]
Rendered admin/grades/_form.html.erb (24.1ms)
Rendered admin/orgs/index.html.erb within layouts/admin (29.2ms)
Completed 500 Internal Server Error in 302ms

ActionView::Template::Error (Missing partial admin/sclasses/form with {:handlers=>[:erb, :builder], :formats=>[:html], :locale=>[:cn, :cn]}. Searched in:
  * "/opt/railsapp/el/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/declarative_authorization-0.5.3/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/devise-1.4.9/app/views"
):
    10:    <ul><li><%= render 'admin/grades/form' %></li></ul>
    11: 
    12:    <h2><%= t("admin.orgs.new_class") %></h2>
    13:    <ul><li><%= render 'admin/sclasses/form' %></li></ul>
    14: <% end -%>
    15: 
    16: <h3><%= @school.name %></h3>
  app/views/admin/orgs/index.html.erb:13:in `block in _app_views_admin_orgs_index_html_erb__185354063_93580870'
  app/views/admin/orgs/index.html.erb:3:in `_app_views_admin_orgs_index_html_erb__185354063_93580870'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.4ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-07 18:44:10 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mGrade Load (0.4ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1  [["id", 1]]
Rendered admin/grades/_form.html.erb (28.8ms)
Rendered admin/orgs/index.html.erb within layouts/admin (36.7ms)
Completed 500 Internal Server Error in 307ms

ActionView::Template::Error (Missing partial /admin/sclasses/form with {:handlers=>[:erb, :builder], :formats=>[:html], :locale=>[:cn, :cn]}. Searched in:
  * "/opt/railsapp/el/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/declarative_authorization-0.5.3/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/devise-1.4.9/app/views"
):
    10:    <ul><li><%= render '/admin/grades/form' %></li></ul>
    11: 
    12:    <h2><%= t("admin.orgs.new_class") %></h2>
    13:    <ul><li><%= render '/admin/sclasses/form' %></li></ul>
    14: <% end -%>
    15: 
    16: <h3><%= @school.name %></h3>
  app/views/admin/orgs/index.html.erb:13:in `block in _app_views_admin_orgs_index_html_erb__185354063_101948650'
  app/views/admin/orgs/index.html.erb:3:in `_app_views_admin_orgs_index_html_erb__185354063_101948650'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.9ms)


Started GET "/admin/users/6/edit" for 192.168.0.189 at 2012-09-07 18:46:15 +0800
  Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "6"]]
Rendered admin/shared/_error_messages.html.erb (0.1ms)
Rendered admin/users/edit.html.erb within layouts/admin (10.7ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (13.6ms)
Completed 200 OK in 183ms (Views: 37.8ms | ActiveRecord: 4.0ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-07 18:46:22 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (3.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 22[0m
Rendered admin/users/index.html.erb within layouts/admin (186.6ms)
Rendered shared/_global_links.html.erb (3.5ms)
Rendered admin/shared/_tabs.html.erb (14.5ms)
Completed 200 OK in 367ms (Views: 208.1ms | ActiveRecord: 11.8ms)


Started GET "/admin/roles" for 192.168.0.189 at 2012-09-07 18:46:24 +0800
  Processing by Admin::RolesController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" 
Rendered admin/roles/_form.html.erb (2.0ms)
Rendered admin/roles/index.html.erb within layouts/admin (12.8ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (15.6ms)
Completed 200 OK in 259ms (Views: 42.4ms | ActiveRecord: 3.8ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-07 18:46:26 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1[0m  [["id", 1]]
Rendered admin/grades/_form.html.erb (22.3ms)
Rendered admin/orgs/index.html.erb within layouts/admin (31.1ms)
Completed 500 Internal Server Error in 289ms

ActionView::Template::Error (Missing partial admin/sclasses/form with {:handlers=>[:erb, :builder], :formats=>[:html], :locale=>[:cn, :cn]}. Searched in:
  * "/opt/railsapp/el/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/declarative_authorization-0.5.3/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/devise-1.4.9/app/views"
):
    10:    <ul><li><%= render 'admin/grades/form' %></li></ul>
    11: 
    12:    <h2><%= t("admin.orgs.new_class") %></h2>
    13:    <ul><li><%= render 'admin/sclasses/form' %></li></ul>
    14: <% end -%>
    15: 
    16: <h3><%= @school.name %></h3>
  app/views/admin/orgs/index.html.erb:13:in `block in _app_views_admin_orgs_index_html_erb__185354063_86534720'
  app/views/admin/orgs/index.html.erb:3:in `_app_views_admin_orgs_index_html_erb__185354063_86534720'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.0ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-07 18:48:58 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mGrade Load (0.7ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1  [["id", 1]]
Rendered admin/grades/_form.html.erb (21.3ms)
Rendered admin/orgs/index.html.erb within layouts/admin (30.2ms)
Completed 500 Internal Server Error in 302ms

ActionView::Template::Error (Missing partial admin/sclasses/form with {:handlers=>[:erb, :builder], :formats=>[:html], :locale=>[:cn, :cn]}. Searched in:
  * "/opt/railsapp/el/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/declarative_authorization-0.5.3/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/devise-1.4.9/app/views"
):
    10:    <ul><li><%= render :partial =>'admin/grades/form' %></li></ul>
    11: 
    12:    <h2><%= t("admin.orgs.new_class") %></h2>
    13:    <ul><li><%= render :partial =>'admin/sclasses/form' %></li></ul>
    14: <% end -%>
    15: 
    16: <h3><%= @school.name %></h3>
  app/views/admin/orgs/index.html.erb:13:in `block in _app_views_admin_orgs_index_html_erb__185354063_101247700'
  app/views/admin/orgs/index.html.erb:3:in `_app_views_admin_orgs_index_html_erb__185354063_101247700'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.0ms)
DEPRECATED! (configure_from_yaml) Please stop using YAML and use Ruby instead. This method will be removed in 2.9.


Started GET "/admin/roles" for 192.168.0.189 at 2012-09-07 18:50:57 +0800
  Processing by Admin::RolesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" [0m
Rendered admin/roles/_form.html.erb (3.5ms)
Rendered admin/roles/index.html.erb within layouts/admin (85.2ms)
Rendered shared/_global_links.html.erb (5.0ms)
Rendered admin/shared/_tabs.html.erb (15.1ms)
Completed 200 OK in 676ms (Views: 258.5ms | ActiveRecord: 6.2ms)


Started GET "/admin/users" for 192.168.0.189 at 2012-09-07 18:51:03 +0800
  Processing by Admin::UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 20 OFFSET 0[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 6
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 8[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 11
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 12[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 13
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 14[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 15
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 16[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 17
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 18[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 19
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 20[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 21
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 22[0m
Rendered admin/users/index.html.erb within layouts/admin (167.0ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (14.3ms)
Completed 200 OK in 391ms (Views: 190.2ms | ActiveRecord: 8.7ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-07 18:51:07 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mGrade Load (11.7ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1  [["id", 1]]
Rendered admin/grades/_form.html.erb (89.7ms)
Rendered admin/orgs/index.html.erb within layouts/admin (173.4ms)
Completed 500 Internal Server Error in 496ms

ActionView::Template::Error (Missing partial admin/sclasses/form with {:handlers=>[:erb, :builder], :formats=>[:html], :locale=>[:cn, :cn]}. Searched in:
  * "/opt/railsapp/el/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/declarative_authorization-0.5.3/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/devise-1.4.9/app/views"
):
    10:    <ul><li><%= render :partial=>'admin/grades/form' %></li></ul>
    11: 
    12:    <h2><%= t("admin.orgs.new_class") %></h2>
    13:    <ul><li><%= render :partial=>'admin/sclasses/form' %></li></ul>
    14: <% end -%>
    15: 
    16: <h3><%= @school.name %></h3>
  app/views/admin/orgs/index.html.erb:13:in `block in _app_views_admin_orgs_index_html_erb___671164983_95837480'
  app/views/admin/orgs/index.html.erb:3:in `_app_views_admin_orgs_index_html_erb___671164983_95837480'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.1ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.4ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-07 18:52:19 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1[0m  [["id", 1]]
Rendered admin/grades/_form.html.erb (22.4ms)
Rendered admin/orgs/index.html.erb within layouts/admin (29.2ms)
Completed 500 Internal Server Error in 327ms

ActionView::Template::Error (Missing partial admin/sclasses/form with {:handlers=>[:erb, :builder], :formats=>[:html], :locale=>[:cn, :cn]}. Searched in:
  * "/opt/railsapp/el/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/declarative_authorization-0.5.3/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/devise-1.4.9/app/views"
):
    10:    <ul><li><%= render :partial=>'admin/grades/form' %></li></ul>
    11: 
    12:    <h2><%= t("admin.orgs.new_class") %></h2>
    13:    <ul><li><% render 'admin/sclasses/form' %></li></ul>
    14: <% end -%>
    15: 
    16: <h3><%= @school.name %></h3>
  app/views/admin/orgs/index.html.erb:13:in `block in _app_views_admin_orgs_index_html_erb___671164983_95611500'
  app/views/admin/orgs/index.html.erb:3:in `_app_views_admin_orgs_index_html_erb___671164983_95611500'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.9ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-07 18:52:37 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mGrade Load (0.4ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1  [["id", 1]]
Rendered admin/grades/_form.html.erb (22.5ms)
Rendered admin/orgs/index.html.erb within layouts/admin (29.5ms)
Completed 500 Internal Server Error in 350ms

ActionView::Template::Error (Missing partial admin/sclasses/form with {:handlers=>[:erb, :builder], :formats=>[:html], :locale=>[:cn, :cn]}. Searched in:
  * "/opt/railsapp/el/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/declarative_authorization-0.5.3/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/devise-1.4.9/app/views"
):
    10:    <ul><li><% render 'admin/grades/form' %></li></ul>
    11: 
    12:    <h2><%= t("admin.orgs.new_class") %></h2>
    13:    <ul><li><% render 'admin/sclasses/form' %></li></ul>
    14: <% end -%>
    15: 
    16: <h3><%= @school.name %></h3>
  app/views/admin/orgs/index.html.erb:13:in `block in _app_views_admin_orgs_index_html_erb___671164983_95597070'
  app/views/admin/orgs/index.html.erb:3:in `_app_views_admin_orgs_index_html_erb___671164983_95597070'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.4ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-07 18:53:41 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mGrade Load (1.6ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1[0m  [["id", 1]]
Rendered admin/orgs/_form.html.erb (22.7ms)
Rendered admin/orgs/index.html.erb within layouts/admin (29.6ms)
Completed 500 Internal Server Error in 347ms

ActionView::Template::Error (Missing partial admin/sclasses/form with {:handlers=>[:erb, :builder], :formats=>[:html], :locale=>[:cn, :cn]}. Searched in:
  * "/opt/railsapp/el/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/declarative_authorization-0.5.3/app/views"
  * "/usr/local/rvm/gems/ruby-1.9.3-p125/gems/devise-1.4.9/app/views"
):
    10:    <ul><li><% render 'form' %></li></ul>
    11: 
    12:    <h2><%= t("admin.orgs.new_class") %></h2>
    13:    <ul><li><% render 'admin/sclasses/form' %></li></ul>
    14: <% end -%>
    15: 
    16: <h3><%= @school.name %></h3>
  app/views/admin/orgs/index.html.erb:13:in `block in _app_views_admin_orgs_index_html_erb___671164983_92866990'
  app/views/admin/orgs/index.html.erb:3:in `_app_views_admin_orgs_index_html_erb___671164983_92866990'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.9ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-07 18:55:58 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mGrade Load (0.4ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1  [["id", 1]]
Rendered admin/grades/_form.html.erb (21.6ms)
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE (id>1) ORDER BY gyear[0m
Rendered admin/sclasses/_form.html.erb (24.0ms)
  [1m[35mGrade Load (0.4ms)[0m  SELECT "grades".* FROM "grades" WHERE ( id>1) ORDER BY gyear
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 2[0m
  [1m[35mSclass Load (0.4ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 2 ORDER BY name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=7 and ltype=1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 7[0m
  [1m[35mSclass Load (0.6ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 7 ORDER BY name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=9 and ltype=1)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=3 and ltype=1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=8 and ltype=1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=1 and ltype=1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 3
  [1m[36mSclass Load (0.5ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 3 ORDER BY name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=5 and ltype=1)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=4 and ltype=1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 5
  [1m[36mSclass Load (0.4ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 5 ORDER BY name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 8
  [1m[36mSclass Load (0.3ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 8 ORDER BY name[0m
Rendered admin/orgs/index.html.erb within layouts/admin (208.9ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (13.3ms)
Completed 200 OK in 548ms (Views: 229.3ms | ActiveRecord: 13.0ms)


Started GET "/profiles/4" for 192.168.0.189 at 2012-09-07 18:56:08 +0800
  Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "4"]]
  [1m[36mProfile Load (0.3ms)[0m  [1mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 4 LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered profiles/_my_account.html.erb (31.9ms)
Rendered profiles/_account_details.html.erb (8.7ms)
Rendered profiles/_profile_details.html.erb (16.9ms)
Rendered profiles/show.html.erb within layouts/application (63.7ms)
Rendered shared/_global_links.html.erb (4.1ms)
Rendered shared/_tabs.html.erb (73.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 10:56:09.397310' AND ends_at >= '2012-09-07 10:56:09.397342')
Completed 200 OK in 431ms (Views: 164.5ms | ActiveRecord: 5.8ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 18:56:13 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mClassuser Load (0.3ms)[0m  [1mSELECT "classusers".* FROM "classusers" WHERE ( user_id=4 and ltype=0)[0m
Rendered dashboard/_form_course.html.erb (28.6ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (128.0ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered shared/_tabs.html.erb (7.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 10:56:13.543715' AND ends_at >= '2012-09-07 10:56:13.543754')
Completed 200 OK in 386ms (Views: 161.4ms | ActiveRecord: 6.2ms)


Started GET "/sclasses" for 192.168.0.189 at 2012-09-07 18:56:29 +0800
  Processing by SclassesController#index as HTML
Rendered admin/grades/_form.html.erb (0.9ms)
Rendered sclasses/index.html.erb within layouts/application (5.6ms)
Completed 500 Internal Server Error in 12ms

ActionView::Template::Error (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
    1: <%
    2:     stitle = @grade.id.nil? ? stitle = t('admin.orgs.create_grade'):t('admin.orgs.update_grade')
    3: -%>
    4: 
    5: <%= form_for [:admin,@grade] do |f| %>
  app/views/admin/grades/_form.html.erb:2:in `_app_views_admin_grades__form_html_erb__892591254_95927930'
  app/views/sclasses/index.html.erb:10:in `block in _app_views_sclasses_index_html_erb__51300871_100707570'
  app/views/sclasses/index.html.erb:3:in `_app_views_sclasses_index_html_erb__51300871_100707570'

Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /usr/local/rvm/gems/ruby-1.9.3-p125/gems/actionpack-3.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.9ms)


Started GET "/admin" for 192.168.0.189 at 2012-09-07 18:56:39 +0800
  Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered admin/dashboard/_sidebar.html.erb (4.2ms)
Rendered admin/dashboard/index.html.erb within layouts/admin (6.8ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered admin/shared/_tabs.html.erb (13.3ms)
Completed 200 OK in 231ms (Views: 35.0ms | ActiveRecord: 3.7ms)


Started GET "/admin/orgs" for 192.168.0.189 at 2012-09-07 18:56:42 +0800
  Processing by Admin::OrgsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."id" = ? LIMIT 1[0m  [["id", 1]]
Rendered admin/grades/_form.html.erb (22.0ms)
  [1m[35mGrade Load (0.5ms)[0m  SELECT "grades".* FROM "grades" WHERE (id>1) ORDER BY gyear
Rendered admin/sclasses/_form.html.erb (22.4ms)
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE ( id>1) ORDER BY gyear[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 2
  [1m[36mSclass Load (0.4ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 2 ORDER BY name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=7 and ltype=1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=6 and ltype=1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 7
  [1m[36mSclass Load (0.5ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 7 ORDER BY name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=9 and ltype=1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=3 and ltype=1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=8 and ltype=1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=1 and ltype=1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 3[0m
  [1m[35mSclass Load (0.4ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 3 ORDER BY name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=5 and ltype=1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=4 and ltype=1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 5[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 5 ORDER BY name
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "sclasses" WHERE "sclasses"."grade_id" = 8[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."grade_id" = 8 ORDER BY name
Rendered admin/orgs/index.html.erb within layouts/admin (126.7ms)
Rendered shared/_global_links.html.erb (3.0ms)
Rendered admin/shared/_tabs.html.erb (82.9ms)
Completed 200 OK in 529ms (Views: 217.5ms | ActiveRecord: 12.2ms)


Started GET "/admin/sclasses/2" for 192.168.0.189 at 2012-09-07 18:56:48 +0800
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mSclass Load (0.4ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)
  [1m[36mClassuser Load (0.4ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0) ORDER BY onumber,user_id[0m
Rendered admin/sclasses/_form_teacher.html.erb (4.6ms)
Rendered admin/sclasses/_form_student.html.erb (4.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)
  [1m[36mClassuser Load (0.5ms)[0m  [1mSELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1) ORDER BY onumber,user_id[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 21]]
Rendered admin/sclasses/show.html.erb within layouts/admin (166.0ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered admin/shared/_tabs.html.erb (14.4ms)
Completed 200 OK in 412ms (Views: 190.5ms | ActiveRecord: 8.6ms)


Started PUT "/admin/sclasses/2/operate?by=repair" for 192.168.0.189 at 2012-09-07 18:56:55 +0800
  Processing by Admin::SclassesController#operate as HTML
  Parameters: {"authenticity_token"=>"ePDiUv04NQ1sP+Jd7crmGFTWFqLtGQTY5V3l6TKV6jc=", "by"=>"repair", "id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36mClassuser Load (0.4ms)[0m  [1mSELECT "classusers".* FROM "classusers" [0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 16 AND "classusers"."id" != 5 AND "classusers"."sclass_id" = 6 AND "classusers"."ltype" = 1) LIMIT 1[0m
  [1m[35mSclass Load (0.1ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 16 AND "classusers"."id" != 5 AND "classusers"."sclass_id" = 6 AND "classusers"."ltype" = 1) LIMIT 1[0m
  [1m[35m (2.3ms)[0m  UPDATE "classusers" SET "sclassname" = '2013B班', "updated_at" = '2012-09-07 10:56:55.488221' WHERE "classusers"."id" = 5
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 17 AND "classusers"."id" != 6 AND "classusers"."sclass_id" = 6 AND "classusers"."ltype" = 1) LIMIT 1
  [1m[36mSclass Load (0.1ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 17 AND "classusers"."id" != 6 AND "classusers"."sclass_id" = 6 AND "classusers"."ltype" = 1) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "classusers" SET "sclassname" = '2013B班', "updated_at" = '2012-09-07 10:56:55.542076' WHERE "classusers"."id" = 6[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 18 AND "classusers"."id" != 7 AND "classusers"."sclass_id" = 6 AND "classusers"."ltype" = 0) LIMIT 1[0m
  [1m[35mSclass Load (0.1ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 18 AND "classusers"."id" != 7 AND "classusers"."sclass_id" = 6 AND "classusers"."ltype" = 0) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "classusers" SET "sclassname" = '2013B班', "updated_at" = '2012-09-07 10:56:55.562012' WHERE "classusers"."id" = 7
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 6 AND "classusers"."id" != 8 AND "classusers"."sclass_id" = 6 AND "classusers"."ltype" = 0) LIMIT 1
  [1m[36mSclass Load (0.1ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 6 AND "classusers"."id" != 8 AND "classusers"."sclass_id" = 6 AND "classusers"."ltype" = 0) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mUPDATE "classusers" SET "sclassname" = '2013B班', "updated_at" = '2012-09-07 10:56:55.582928' WHERE "classusers"."id" = 8[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 4 AND "classusers"."id" != 18 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 0) LIMIT 1[0m
  [1m[35mSclass Load (0.1ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 4 AND "classusers"."id" != 18 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 0) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "classusers" SET "sclassname" = '2014A班', "updated_at" = '2012-09-07 10:56:55.602340' WHERE "classusers"."id" = 18
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 19 AND "classusers"."id" != 19 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1
  [1m[36mSclass Load (0.1ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 19 AND "classusers"."id" != 19 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "classusers" SET "sclassname" = '2014A班', "updated_at" = '2012-09-07 10:56:55.622098' WHERE "classusers"."id" = 19[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 20 AND "classusers"."id" != 20 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1[0m
  [1m[35mSclass Load (0.1ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 20 AND "classusers"."id" != 20 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "classusers" SET "sclassname" = '2014A班', "updated_at" = '2012-09-07 10:56:55.640565' WHERE "classusers"."id" = 20
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 14 AND "classusers"."id" != 21 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1
  [1m[36mSclass Load (0.1ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 14 AND "classusers"."id" != 21 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "classusers" SET "sclassname" = '2014A班', "updated_at" = '2012-09-07 10:56:55.658655' WHERE "classusers"."id" = 21[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 13 AND "classusers"."id" != 22 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1[0m
  [1m[35mSclass Load (0.1ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 13 AND "classusers"."id" != 22 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "classusers" SET "sclassname" = '2014A班', "updated_at" = '2012-09-07 10:56:55.676211' WHERE "classusers"."id" = 22
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 8 AND "classusers"."id" != 23 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1
  [1m[36mSclass Load (0.1ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 8 AND "classusers"."id" != 23 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "classusers" SET "sclassname" = '2014A班', "updated_at" = '2012-09-07 10:56:55.693745' WHERE "classusers"."id" = 23[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 22 AND "classusers"."id" != 24 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1[0m
  [1m[35mSclass Load (0.1ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 22 AND "classusers"."id" != 24 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "classusers" SET "sclassname" = '2014A班', "updated_at" = '2012-09-07 10:56:55.712595' WHERE "classusers"."id" = 24
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 21 AND "classusers"."id" != 25 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1
  [1m[36mSclass Load (0.1ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 21 AND "classusers"."id" != 25 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "classusers" SET "sclassname" = '2014A班', "updated_at" = '2012-09-07 10:56:55.731560' WHERE "classusers"."id" = 25[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36m (0.2ms)[0m  [1mSELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 11 AND "classusers"."id" != 26 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1[0m
  [1m[35mSclass Load (0.1ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 11 AND "classusers"."id" != 26 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 1) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "classusers" SET "sclassname" = '2014A班', "updated_at" = '2012-09-07 10:56:55.749724' WHERE "classusers"."id" = 26
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.2ms)[0m  SELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 6 AND "classusers"."id" != 27 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 0) LIMIT 1
  [1m[36mSclass Load (0.1ms)[0m  [1mSELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM "classusers" WHERE ("classusers"."user_id" = 6 AND "classusers"."id" != 27 AND "classusers"."sclass_id" = 2 AND "classusers"."ltype" = 0) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "classusers" SET "sclassname" = '2014A班', "updated_at" = '2012-09-07 10:56:55.769006' WHERE "classusers"."id" = 27[0m
Redirected to http://192.168.0.90:8080/admin/sclasses/2
Completed 302 Found in 573ms


Started GET "/admin/sclasses/2" for 192.168.0.189 at 2012-09-07 18:56:55 +0800
  Processing by Admin::SclassesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mSclass Load (0.3ms)[0m  SELECT "sclasses".* FROM "sclasses" WHERE "sclasses"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0)[0m
  [1m[35mClassuser Load (1.0ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=0) ORDER BY onumber,user_id
Rendered admin/sclasses/_form_teacher.html.erb (4.5ms)
Rendered admin/sclasses/_form_student.html.erb (3.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1)[0m
  [1m[35mClassuser Load (0.6ms)[0m  SELECT "classusers".* FROM "classusers" LEFT OUTER JOIN users ON users.id = user_id WHERE (sclass_id=2 and ltype=1) ORDER BY onumber,user_id
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 21]]
Rendered admin/sclasses/show.html.erb within layouts/admin (131.7ms)
Rendered shared/_global_links.html.erb (6.4ms)
Rendered admin/shared/_tabs.html.erb (114.1ms)
Completed 200 OK in 582ms (Views: 260.4ms | ActiveRecord: 10.8ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 18:57:14 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mClassuser Load (0.3ms)[0m  [1mSELECT "classusers".* FROM "classusers" WHERE ( user_id=4 and ltype=0)[0m
Rendered dashboard/_form_course.html.erb (97.5ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (132.2ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered shared/_tabs.html.erb (7.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 10:57:14.882867' AND ends_at >= '2012-09-07 10:57:14.882894')
Completed 200 OK in 391ms (Views: 164.6ms | ActiveRecord: 6.2ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 19:03:28 +0800
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
  [1m[36mClassuser Load (0.5ms)[0m  [1mSELECT "classusers".* FROM "classusers" WHERE ( user_id=4 and ltype=0)[0m
Rendered dashboard/_form_course.html.erb (25.5ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (128.1ms)
Rendered shared/_global_links.html.erb (4.3ms)
Rendered shared/_tabs.html.erb (7.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 11:03:28.731616' AND ends_at >= '2012-09-07 11:03:28.731643')
Completed 200 OK in 385ms (Views: 160.5ms | ActiveRecord: 6.1ms)


Started GET "/profiles/4" for 192.168.0.189 at 2012-09-07 19:03:37 +0800
  Processing by ProfilesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "4"]]
  [1m[35mProfile Load (0.3ms)[0m  SELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 4 LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4
Rendered profiles/_my_account.html.erb (103.0ms)
Rendered profiles/_account_details.html.erb (3.5ms)
Rendered profiles/_profile_details.html.erb (16.0ms)
Rendered profiles/show.html.erb within layouts/application (127.4ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered shared/_tabs.html.erb (7.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 11:03:37.685510' AND ends_at >= '2012-09-07 11:03:37.685536')[0m
Completed 200 OK in 355ms (Views: 159.0ms | ActiveRecord: 5.8ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 19:03:42 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mClassuser Load (0.4ms)[0m  SELECT "classusers".* FROM "classusers" WHERE ( user_id=4 and ltype=0)
Rendered dashboard/_form_course.html.erb (27.7ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (64.6ms)
Rendered shared/_global_links.html.erb (3.1ms)
Rendered shared/_tabs.html.erb (7.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 11:03:43.137293' AND ends_at >= '2012-09-07 11:03:43.137321')[0m
Completed 200 OK in 386ms (Views: 96.3ms | ActiveRecord: 5.9ms)


Started GET "/admin" for 192.168.0.189 at 2012-09-07 19:03:45 +0800
  Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
Rendered admin/dashboard/_sidebar.html.erb (3.2ms)
Rendered admin/dashboard/index.html.erb within layouts/admin (5.6ms)
Rendered shared/_global_links.html.erb (3.3ms)
Rendered admin/shared/_tabs.html.erb (14.2ms)
Completed 200 OK in 246ms (Views: 34.3ms | ActiveRecord: 4.3ms)


Started GET "/" for 192.168.0.189 at 2012-09-07 19:03:47 +0800
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = 4[0m
  [1m[35mClassuser Load (0.8ms)[0m  SELECT "classusers".* FROM "classusers" WHERE ( user_id=4 and ltype=0)
Rendered dashboard/_form_course.html.erb (27.6ms)
Rendered dashboard/t_dashboard.html.erb within layouts/application (132.5ms)
Rendered shared/_global_links.html.erb (3.2ms)
Rendered shared/_tabs.html.erb (7.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "announcements" WHERE (starts_at <= '2012-09-07 11:03:47.960573' AND ends_at >= '2012-09-07 11:03:47.960600')[0m
Completed 200 OK in 395ms (Views: 165.4ms | ActiveRecord: 6.5ms)
